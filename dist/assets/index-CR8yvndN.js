import{r as C,a as Kn,u as Yn,L as B,b as qn,R as Jn,c as Ne,d as Un,B as Xn}from"./vendor-CV00cFDn.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const p of s)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&h(y)}).observe(document,{childList:!0,subtree:!0});function c(s){const p={};return s.integrity&&(p.integrity=s.integrity),s.referrerPolicy&&(p.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?p.credentials="include":s.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function h(s){if(s.ep)return;s.ep=!0;const p=c(s);fetch(s.href,p)}})();var Qt={exports:{}},vt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=C,Qn=Symbol.for("react.element"),ea=Symbol.for("react.fragment"),ta=Object.prototype.hasOwnProperty,na=zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aa={key:!0,ref:!0,__self:!0,__source:!0};function en(l,m,c){var h,s={},p=null,y=null;c!==void 0&&(p=""+c),m.key!==void 0&&(p=""+m.key),m.ref!==void 0&&(y=m.ref);for(h in m)ta.call(m,h)&&!aa.hasOwnProperty(h)&&(s[h]=m[h]);if(l&&l.defaultProps)for(h in m=l.defaultProps,m)s[h]===void 0&&(s[h]=m[h]);return{$$typeof:Qn,type:l,key:p,ref:y,props:s,_owner:na.current}}vt.Fragment=ea;vt.jsx=en;vt.jsxs=en;Qt.exports=vt;var e=Qt.exports,tn,Jt=Kn;tn=Jt.createRoot,Jt.hydrateRoot;function sa(){var Y;const l=C.useRef(null),m=((Y=Yn)==null?void 0:Y())||(()=>{window.location.href="/game"}),[c,h]=C.useState(()=>localStorage.getItem("highContrast")==="true"),[s,p]=C.useState(!1),[y,j]=C.useState(""),[v,E]=C.useState(""),[A,G]=C.useState(""),[T,z]=C.useState(!1),[ne,re]=C.useState(()=>localStorage.getItem("mathpop_current_user")||null),[pe,N]=C.useState(0);C.useEffect(()=>{document.body.classList.toggle("high-contrast",!!c),localStorage.setItem("highContrast",c?"true":"false")},[c]),C.useEffect(()=>{const f=l.current;if(!f)return;const P=requestAnimationFrame(()=>f.classList.add("animate"));return()=>cancelAnimationFrame(P)},[]),C.useEffect(()=>{if(ne){const f=parseInt(localStorage.getItem("mathpop_highscore_"+ne)||"0",10);N(Number.isNaN(f)?0:f)}else N(0)},[ne]);function R(f){!f||!f.username||(localStorage.setItem("mathpop_profile_"+f.username,JSON.stringify(f)),$e(f.username))}function k(f){if(!f)return null;const P=localStorage.getItem("mathpop_profile_"+f);return P?JSON.parse(P):null}function $e(f){f?(localStorage.setItem("mathpop_current_user",f),re(f)):(localStorage.removeItem("mathpop_current_user"),re(null))}function Ce(f){if(f)try{const P="mathpop_emails",L=JSON.parse(localStorage.getItem(P)||"[]");L.includes(f)||L.push(f),localStorage.setItem(P,JSON.stringify(L)),localStorage.setItem("mathpop_email_compilation",L.join(","))}catch{}}function fe(){try{if(typeof m=="function"){m("/game");return}}catch{}window.location.href="/game"}function oe(){if(!y.trim()||!v.trim()||!A){alert("Please fill all fields");return}if(!T){alert("You must accept the disclaimer");return}const f={username:y.trim(),email:v.trim(),created:Performance.now()};R(f),localStorage.setItem("mathpop_highscore_"+f.username,localStorage.getItem("mathpop_highscore_"+f.username)||"0"),Ce(f.email),p(!1),alert("Profile created — starting game"),setTimeout(fe,200)}function Se(){if(!y.trim()||!v.trim()){alert("Please fill both fields");return}const f=k(y.trim());if(!f||f.email!==v.trim()){alert("No matching profile found");return}$e(y.trim()),p(!1),alert("Signed in — starting game"),setTimeout(fe,200)}function K(){$e(null),window.location.reload()}return e.jsxs("div",{className:"background",children:[e.jsxs("nav",{children:[e.jsx("div",{className:"logo",children:e.jsxs("span",{className:"desk-logo",children:[e.jsx("span",{className:"back"}),e.jsx("span",{className:"seat"}),e.jsx("span",{className:"leg-left"}),e.jsx("span",{className:"leg-right"}),e.jsx("span",{className:"desk"})]})}),e.jsxs("div",{id:"userArea",className:"user-area",style:{marginLeft:12},children:[e.jsx("span",{id:"usernameDisplay",style:{display:ne?"inline":"none"},children:ne}),e.jsx("button",{id:"logoutBtn",style:{display:ne?"inline-block":"none"},onClick:K,children:"Logout"})]}),e.jsxs("ul",{className:"nav",style:{listStyle:"none",display:"flex",gap:8,padding:0},children:[e.jsx("li",{children:e.jsx(B,{to:"/howto",children:"How to Play"})}),e.jsx("li",{children:e.jsx(B,{to:"/list",children:"Games"})}),e.jsx("li",{children:e.jsx(B,{to:"/about",children:"About"})}),ne&&e.jsx("li",{children:e.jsx(B,{to:"/profile",children:"Profile"})})]})]}),e.jsx("button",{className:"home-benny",type:"button","aria-pressed":c?"true":"false",title:"Toggle high contrast",onClick:()=>h(f=>!f),children:e.jsx("span",{className:"benny-base",children:e.jsxs("span",{className:"benny-shape",children:[e.jsx("span",{className:"back"}),e.jsx("span",{className:"leg-left"}),e.jsx("span",{className:"leg-right"}),e.jsx("span",{className:"head"})]})})}),e.jsx("header",{children:e.jsxs("div",{className:"hero-card",children:[e.jsx("p",{className:"tagline",children:"Math isn't lame — it's an adventure!"}),e.jsx("p",{className:"description",children:`"Bark Bark" "My homework is gone...... I didn't eat it...... Can you help me?"`}),e.jsxs("div",{className:"hero-actions",id:"heroActions",children:[e.jsx("button",{className:"start-btn",id:"createProfile",onClick:()=>p(!0),children:"Sign Up / Sign In"}),ne&&e.jsx(B,{className:"start-btn",style:{marginLeft:8,textDecoration:"none"},to:"/profile",children:"View Profile"}),e.jsx("div",{id:"homeHighScore",style:{marginTop:10,color:"#e9e2e2",fontWeight:700},children:ne?`${ne} — High Score: ${pe}`:"Not signed in"})]})]})}),e.jsx("section",{ref:l,className:"classroom classroom-word","aria-label":"Classroom seating",children:(()=>{const f={M:["101","111","101","101","101"],A:["010","101","111","101","101"],T:["111","010","010","010","010"],H:["101","101","111","101","101"],I:["1","1","1","1","1"],S:["111","100","111","001","111"],L:["100","100","100","100","111"]},P=5,L="0",_="00",U=q=>{const W=Array.from({length:P},()=>"");return q.forEach((O,ce)=>{const xe=f[O];for(let ae=0;ae<P;ae++)W[ae]+=xe[ae];if(ce<q.length-1)for(let ae=0;ae<P;ae++)W[ae]+=L}),W},V=U(["M","A","T","H"]),M=U(["I","S"]),Me=U(["L","I","T"]),de=V.map((q,W)=>`${q}${_}${M[W]}${_}${Me[W]}`),Ke=[];de.forEach((q,W)=>{q.split("").forEach((O,ce)=>{O==="1"&&Ke.push({r:W,c:ce})})});const X=26,ye=de[0].length*X,me=P*X;return e.jsx("div",{className:"chair-field",style:{"--cell":`${X}px`,width:`${de[0].length*X}px`,height:`${P*X}px`},children:Ke.map(q=>{const W=Math.floor(Math.random()*ye),O=Math.floor(Math.random()*me);return e.jsxs("div",{className:"chair",style:{"--start-x":`${W}px`,"--start-y":`${O}px`,"--end-x":`${q.c*X}px`,"--end-y":`${q.r*X}px`},children:[e.jsx("div",{className:"back"}),e.jsx("div",{className:"seat"}),e.jsx("div",{className:"leg-left"}),e.jsx("div",{className:"leg-right"}),e.jsx("div",{className:"desk"})]},`${q.r}-${q.c}`)})})})()}),e.jsx("div",{id:"authModal",className:"modal","aria-hidden":s?"false":"true",style:{display:s?"flex":"none"},children:e.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",children:[e.jsx("button",{className:"modal-close",id:"authClose",onClick:()=>p(!1),children:"✕"}),e.jsx("h2",{id:"modalTitle",children:"Sign Up / Sign In"}),e.jsxs("div",{className:"auth-tabs",children:[e.jsx("button",{className:s?"active":"",style:{marginRight:8},onClick:()=>{},children:"Sign Up"}),e.jsx("button",{onClick:()=>{},children:"Sign In"})]}),e.jsxs("form",{className:"auth-form",onSubmit:f=>{f.preventDefault(),oe()},children:[e.jsxs("label",{children:["Username",e.jsx("input",{id:"suUsername",required:!0,value:y,onChange:f=>j(f.target.value)})]}),e.jsxs("label",{children:["Email",e.jsx("input",{id:"suEmail",type:"email",required:!0,value:v,onChange:f=>E(f.target.value)})]}),e.jsxs("label",{children:["Password",e.jsx("input",{id:"suPassword",type:"password",required:!0,value:A,onChange:f=>G(f.target.value)})]}),e.jsxs("label",{className:"disclaimer",children:[e.jsx("input",{id:"dataAccept",type:"checkbox",checked:T,onChange:f=>z(f.target.checked)})," I accept the ",e.jsx("strong",{children:"disclaimer"})," below"]}),e.jsx("div",{className:"disclaimer-box",children:"By signing up you agree that we may sell emails and data to fund the website and game development. An ad-free experience is available for $15/year."}),e.jsxs("div",{className:"auth-actions",children:[e.jsx("button",{type:"button",id:"doSignUp",onClick:oe,children:"Create Profile/Sign in"}),e.jsx("button",{type:"button",id:"doSignIn",onClick:Se,style:{marginLeft:8},children:"Sign In"})]})]})]})})]})}const ra="/Math-isn-t-Lame/assets/math-DT29OAa5.js",ia="data:text/javascript;base64,KGZ1bmN0aW9uKHdpbmRvdykgewogICd1c2Ugc3RyaWN0JzsKCiAgbGV0IGR1cmF0aW9uTXMgPSAzMDAwMDsKICBsZXQgaW50ZXJ2YWxJZCA9IG51bGw7CiAgbGV0IGVuZEF0ID0gMDsKICBsZXQgcmVtYWluaW5nTXMgPSAwOwogIGxldCB0b2tlbiA9IDA7CiAgbGV0IG9uVGljayA9IGZ1bmN0aW9uKCkge307CiAgbGV0IG9uVGltZW91dCA9IGZ1bmN0aW9uKCkge307CgogIGZ1bmN0aW9uIGNvbmZpZ3VyZVRpbWVyKG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgaWYgKE51bWJlci5pc0Zpbml0ZShvcHRpb25zLmR1cmF0aW9uTXMpKSB7CiAgICAgIGR1cmF0aW9uTXMgPSBNYXRoLm1heCgwLCBvcHRpb25zLmR1cmF0aW9uTXMpOwogICAgfQogICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uVGljayA9PT0gJ2Z1bmN0aW9uJykgewogICAgICBvblRpY2sgPSBvcHRpb25zLm9uVGljazsKICAgIH0KICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vblRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgb25UaW1lb3V0ID0gb3B0aW9ucy5vblRpbWVvdXQ7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzdGFydFJvdW5kKCkgewogICAgc3RvcFRpbWVyKCk7CiAgICB0b2tlbiArPSAxOwogICAgZW5kQXQgPSBwZXJmb3JtYW5jZS5ub3coKSArIGR1cmF0aW9uTXM7CiAgICByZW1haW5pbmdNcyA9IGR1cmF0aW9uTXM7CiAgICBvblRpY2socmVtYWluaW5nTXMpOwogICAgdmFyIGN1cnJlbnRUb2tlbiA9IHRva2VuOwogICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICBpZiAoY3VycmVudFRva2VuICE9PSB0b2tlbikgcmV0dXJuOwogICAgICB2YXIgcmVtYWluaW5nID0gTWF0aC5tYXgoMCwgZW5kQXQgLSBwZXJmb3JtYW5jZS5ub3coKSk7CiAgICAgIHJlbWFpbmluZ01zID0gcmVtYWluaW5nOwogICAgICBvblRpY2socmVtYWluaW5nTXMpOwogICAgICBpZiAocmVtYWluaW5nIDw9IDApIHsKICAgICAgICBzdG9wVGltZXIoKTsKICAgICAgICBvblRpbWVvdXQoKTsKICAgICAgfQogICAgfSwgMjUwKTsKICB9CgogIGZ1bmN0aW9uIGhhbmRsZUFuc3dlcigpIHsKICAgIHN0b3BUaW1lcigpOwogICAgcmVtYWluaW5nTXMgPSBkdXJhdGlvbk1zOwogICAgb25UaWNrKHJlbWFpbmluZ01zKTsKICB9CgogIGZ1bmN0aW9uIHN0b3BUaW1lcigpIHsKICAgIGlmIChpbnRlcnZhbElkKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgICAgIGludGVydmFsSWQgPSBudWxsOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2V0UHJvYmxlbVRpbWVSZW1haW5pbmcoKSB7CiAgICByZXR1cm4gcmVtYWluaW5nTXM7CiAgfQoKICBmdW5jdGlvbiByZXNldFRpbWVyKCkgewogICAgc3RvcFRpbWVyKCk7CiAgICBkdXJhdGlvbk1zID0gMzAwMDA7CiAgICBlbmRBdCA9IDA7CiAgICByZW1haW5pbmdNcyA9IDA7CiAgICB0b2tlbiA9IDA7CiAgICBvblRpY2sgPSBmdW5jdGlvbigpIHt9OwogICAgb25UaW1lb3V0ID0gZnVuY3Rpb24oKSB7fTsKICB9CgogIC8vIEF0dGFjaCB0byB3aW5kb3cgb2JqZWN0IGZvciBnbG9iYWwgYWNjZXNzCiAgd2luZG93Lm1hdGhQdXBUaW1lciA9IHsKICAgIGNvbmZpZ3VyZVRpbWVyOiBjb25maWd1cmVUaW1lciwKICAgIHN0YXJ0Um91bmQ6IHN0YXJ0Um91bmQsCiAgICBoYW5kbGVBbnN3ZXI6IGhhbmRsZUFuc3dlciwKICAgIHN0b3BUaW1lcjogc3RvcFRpbWVyLAogICAgZ2V0UHJvYmxlbVRpbWVSZW1haW5pbmc6IGdldFByb2JsZW1UaW1lUmVtYWluaW5nLAogICAgcmVzZXRUaW1lcjogcmVzZXRUaW1lcgogIH07Cgp9KSh3aW5kb3cpOwo=",la="/Math-isn-t-Lame/assets/game-uDcF0BaV.js";function oa(){if(typeof window<"u"&&window.performance){const l=window.Performance||window.performance.constructor;l&&typeof l.now!="function"&&(l.now=()=>window.performance.now()),window.Performance||(window.Performance=l)}return C.useEffect(()=>{let l=!1;if(window.screen&&window.screen.orientation)try{window.screen.orientation.lock("landscape").catch(()=>{})}catch{}window.mathPupTimer&&typeof window.mathPupTimer.resetTimer=="function"&&window.mathPupTimer.resetTimer(),window.__MathPupCleanupDone=!1;const m=(c,h,s={})=>new Promise(p=>{const y=document.querySelector(`script[data-script-key="${h}"]`);y&&y.parentNode&&y.parentNode.removeChild(y);const j=document.createElement("script");j.src=c,j.async=s.async??!0,s.type&&(j.type=s.type),j.dataset.scriptKey=h,j.onload=()=>p(j),document.body.appendChild(j)});return m(ra,"mathjs",{async:!1}).then(()=>l?null:m(ia,"mathpup-timer",{async:!1}).then(()=>l?null:m(la,"mathpup",{type:"module"}))),()=>{if(l=!0,window.__MathPupCleanupDone=!0,window.screen&&window.screen.orientation)try{window.screen.orientation.unlock()}catch{}const c=document.querySelector('script[data-script-key="mathjs"]');c&&c.parentNode&&c.parentNode.removeChild(c);const h=document.querySelector('script[data-script-key="mathpup-timer"]');h&&h.parentNode&&h.parentNode.removeChild(h);const s=document.querySelector('script[data-script-key="mathpup"]');s&&s.parentNode&&s.parentNode.removeChild(s),window.mathPupTimer&&typeof window.mathPupTimer.resetTimer=="function"&&window.mathPupTimer.resetTimer(),window.__MathPupCleanup&&(window.__MathPupCleanup(),window.__MathPupCleanup=null),window.MathPup=null}},[]),e.jsxs("main",{className:"game-shell game-page--mathpup",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(B,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Math Pup"}),e.jsxs("div",{className:"game-shell__controls controls",children:[e.jsx("label",{htmlFor:"levelSelect",children:"Level:"}),e.jsxs("select",{id:"levelSelect",defaultValue:"Easy",children:[e.jsx("option",{value:"Easy",children:"Easy (subtraction + addition)"}),e.jsx("option",{value:"Easy25",children:"Easy25 (addition & subtraction)"}),e.jsx("option",{value:"Easy50",children:"Easy50 (two-digit addition & subtraction)"}),e.jsx("option",{value:"Easy75",children:"Easy75 (two-digit addition & subtraction)"}),e.jsx("option",{value:"Medium",children:"Medium (multiplication & division)"}),e.jsx("option",{value:"Medium26",children:"Medium26 (mul & div)"}),e.jsx("option",{value:"Medium60",children:"Medium60 (mul & div)"}),e.jsx("option",{value:"Medium100",children:"Medium100 (mul & div)"}),e.jsx("option",{value:"Mathanomical",children:"Mathanomical (all ops)"})]}),e.jsx("button",{id:"startBtn",children:"Start"}),e.jsx("button",{id:"pauseBtn",disabled:!0,children:"Pause"})]})]}),e.jsxs("section",{className:"game-shell__body",children:[e.jsxs("section",{className:"game-info game-shell__panel","aria-live":"polite",children:[e.jsxs("div",{className:"stats-card","aria-label":"Score and timing",children:[e.jsx("div",{id:"score",children:"Score: 0"}),e.jsx("div",{id:"highscore",children:"High Score: 0"}),e.jsx("div",{id:"math-problem",children:"Problem: —"}),e.jsx("div",{id:"timer",children:"Time: —"})]}),e.jsxs("div",{className:"status-row",children:[e.jsx("p",{id:"status",children:"Press Start to begin."}),e.jsx("div",{id:"bennyDock",className:"benny-dock","aria-hidden":"true"})]}),e.jsx("p",{id:"mathHint",className:"math-hint","aria-live":"polite"}),e.jsxs("div",{className:"mobile-answer","aria-label":"Answer input",children:[e.jsx("input",{id:"mobileAnswer",type:"text",inputMode:"numeric",placeholder:"Type answer",autoComplete:"off"}),e.jsx("button",{id:"mobileAnswerBtn",type:"button",children:"Answer"})]}),e.jsx("p",{id:"bennyStory",className:"benny-story",children:"Benny Sum A.K.A the Dog Knight is at home in the backyard while Mr. Boooiiii is teaching. Can you help keep Benny from zombies and keep him company by completing math problems? Benny is 54 in human years, but in this game he is always 8 years old. If Benny gets lost inside a zombie, type his dog age (8) to unlock an ancient Mathanomical power and bring him back."}),e.jsx("div",{id:"bennyUnlockInfo",style:{marginTop:8}}),e.jsx("div",{id:"bennyPalette",className:"benny-palette"})]}),e.jsx("div",{className:"game-shell__board",children:e.jsxs("div",{className:"canvas-anchor",children:[e.jsx("canvas",{id:"gameCanvas",width:"800",height:"600","aria-label":"Game canvas"}),e.jsx("div",{id:"game-area",className:"game-area","aria-hidden":"false"})]})})]}),e.jsxs("div",{className:"mobile-controls",id:"mobileControls","aria-hidden":"true",children:[e.jsx("div",{className:"joystick",id:"mobileJoystick",children:e.jsx("div",{className:"stick",id:"mobileStick"})}),e.jsx("button",{className:"shoot-btn",id:"mobileShoot",type:"button",children:"Benny, Go Potty!"})]}),e.jsxs("div",{className:"number-keyboard",id:"numberKeyboard","aria-label":"Number keyboard for answers",children:[e.jsx("div",{className:"keyboard-display",children:e.jsx("input",{id:"keyboardDisplay",type:"text",readOnly:!0,placeholder:"0",className:"keyboard-input"})}),e.jsxs("div",{className:"keyboard-grid",children:[e.jsx("button",{className:"key-num","data-key":"7",type:"button",children:"7"}),e.jsx("button",{className:"key-num","data-key":"8",type:"button",children:"8"}),e.jsx("button",{className:"key-num","data-key":"9",type:"button",children:"9"}),e.jsx("button",{className:"key-op","data-key":"/",type:"button",children:"÷"}),e.jsx("button",{className:"key-num","data-key":"4",type:"button",children:"4"}),e.jsx("button",{className:"key-num","data-key":"5",type:"button",children:"5"}),e.jsx("button",{className:"key-num","data-key":"6",type:"button",children:"6"}),e.jsx("button",{className:"key-op","data-key":"*",type:"button",children:"×"}),e.jsx("button",{className:"key-num","data-key":"1",type:"button",children:"1"}),e.jsx("button",{className:"key-num","data-key":"2",type:"button",children:"2"}),e.jsx("button",{className:"key-num","data-key":"3",type:"button",children:"3"}),e.jsx("button",{className:"key-op","data-key":"-",type:"button",children:"−"}),e.jsx("button",{className:"key-num zero","data-key":"0",type:"button",children:"0"}),e.jsx("button",{className:"key-op","data-key":"+",type:"button",children:"+"}),e.jsx("button",{className:"key-delete",id:"keyDelete",type:"button",children:"DEL"}),e.jsx("button",{className:"key-submit",id:"keySubmit",type:"button",children:"Enter"})]})]})]})}function ca(){return e.jsxs("div",{className:"list-page",children:[e.jsxs("div",{className:"list-bar",children:[e.jsx(B,{className:"back-link",to:"/",children:"← Home"}),e.jsx("h1",{children:"Available Games"})]}),e.jsxs("main",{className:"main-content",children:[e.jsx("p",{children:"Select a game to play:"}),e.jsxs("ul",{className:"game-list",children:[e.jsx("li",{children:e.jsx(B,{to:"/game",children:"Math Pup"})}),e.jsx("li",{children:e.jsx(B,{to:"/capture",children:"Capture The Fraction"})}),e.jsx("li",{children:e.jsx(B,{to:"/decimal",children:"Deci-What?"})}),e.jsx("li",{children:e.jsx(B,{to:"/mathsynth",children:"Ma+h5Yn+h3 (MathSynth)"})}),e.jsx("li",{children:e.jsx(B,{to:"/bennyworld",children:"Benny World (Zone 1)"})})]})]})]})}function gt(l,m){const c=C.useRef(!1),h=C.useRef(!1),s=C.useCallback(()=>{if(!l||!m)return Promise.reject(new Error("Invalid src or key"));const p=document.querySelector(`script[data-script-key="${m}"]`);if(p){if(c.current)return Promise.resolve(p);if(h.current)return new Promise((y,j)=>{const v=setInterval(()=>{c.current?(clearInterval(v),y(p)):document.querySelector(`script[data-script-key="${m}"]`)===null&&(clearInterval(v),j(new Error("Script was removed")))},100);setTimeout(()=>{clearInterval(v),j(new Error("Script load timeout"))},3e4)})}return p&&p.parentNode&&p.parentNode.removeChild(p),h.current=!0,c.current=!1,new Promise((y,j)=>{const v=document.createElement("script");v.src=l,v.async=!1,v.dataset.scriptKey=m,v.onload=()=>{c.current=!0,h.current=!1,console.log(`[useScriptOnce] Loaded: ${l}`),y(v)},v.onerror=()=>{c.current=!1,h.current=!1,console.error(`[useScriptOnce] Failed to load: ${l}`),j(new Error(`Failed to load script: ${l}`))},document.body.appendChild(v)})},[l,m]);return C.useEffect(()=>{if(!l||!m)return;const p=()=>{c.current=!1};return s().catch(y=>{console.error(`[useScriptOnce] Error loading ${m}:`,y.message)}),p},[l,m,s]),{loadScript:s,isLoaded:c.current,isLoading:h.current}}function da(l){const m=C.useRef({});return C.useEffect(()=>{if(!Array.isArray(l))return;(async()=>{for(const{src:h,key:s}of l){if(!h||!s||m.current[s])continue;if(document.querySelector(`script[data-script-key="${s}"]`)){m.current[s]=!0;continue}await new Promise((y,j)=>{const v=document.createElement("script");v.src=h,v.async=!1,v.dataset.scriptKey=s,v.onload=()=>{m.current[s]=!0,console.log(`[useScriptsOnce] Loaded: ${h}`),y(v)},v.onerror=()=>{console.error(`[useScriptsOnce] Failed to load: ${h}`),j(new Error(`Failed to load script: ${h}`))},document.body.appendChild(v)})}})().catch(h=>{console.error("[useScriptsOnce] Error loading scripts:",h.message)})},[l]),m.current}const ma="/Math-isn-t-Lame/";function ua(){const{loadScript:l}=gt(`${ma}js/capture.js`,"capture"),[m,c]=C.useState(null),[h,s]=C.useState(!1);return C.useEffect(()=>{let p=!0;return(async()=>{if(!window.__CaptureCleanup)try{await l(),await new Promise(j=>setTimeout(j,100))}catch(j){p&&c(`Failed to load Capture game: ${j.message}`);return}p&&(s(!0),console.log("[Capture] Game initialized"))})(),()=>{p=!1}},[l]),C.useEffect(()=>()=>{window.__CaptureCleanup&&(console.log("[Capture] Running cleanup"),window.__CaptureCleanup())},[]),m?e.jsxs("main",{className:"game-shell game-page--capture error-page",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(B,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Capture"})]}),e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:m}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Reload"})]})]}):e.jsxs("main",{className:"game-shell game-page--capture",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(B,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Capture"}),e.jsxs("div",{className:"game-shell__controls controls",children:[e.jsx("label",{htmlFor:"levelSelect",children:"Difficulty:"}),e.jsxs("select",{id:"levelSelect",defaultValue:"easy",children:[e.jsx("option",{value:"easy",children:"Easy (halves, thirds, quarters)"}),e.jsx("option",{value:"medium",children:"Medium (denominators up to 9)"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical (mixed numbers)"})]}),e.jsx("button",{id:"startBtn",children:"Start"}),e.jsx("button",{id:"pauseBtn",disabled:!0,children:"Pause"})]})]}),e.jsxs("section",{className:"game-shell__body",children:[e.jsxs("section",{className:"game-info game-shell__panel","aria-live":"polite",children:[e.jsx("div",{id:"scoreDisplay",children:"Score: 0"}),e.jsx("div",{id:"streakDisplay",children:"Streak: x0"}),e.jsx("div",{id:"targetFraction",children:"Find: —"}),e.jsx("div",{id:"hint",style:{marginTop:6}}),e.jsxs("div",{className:"inputWrap",children:[e.jsx("label",{htmlFor:"fractionInput",children:"Type Answer:"}),e.jsx("input",{type:"text",id:"fractionInput",placeholder:"example: 3/6",autoComplete:"off"})]}),e.jsx("p",{id:"status",children:"Press Start to begin."})]}),e.jsx("div",{className:"game-shell__board",children:e.jsx("div",{className:"canvas-anchor",children:e.jsx("canvas",{id:"gameCanvas",width:"800",height:"600","aria-label":"Game canvas"})})})]})]})}const D=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],bt=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function Ze(l){if(l=Math.abs(Math.trunc(l)),l<20)return D[l];if(l<100){const h=Math.floor(l/10),s=l%10;return s?`${bt[h]}-${D[s]}`:bt[h]}const m=Math.floor(l/100),c=l%100;return c?`${D[m]} hundred ${Ze(c)}`:`${D[m]} hundred`}function ha(l){if(!l||Number(l)===0)return"";let m=l;m.endsWith("00")?m=m.slice(0,1):m.endsWith("0")&&(m=m.slice(0,2));const s=({1:"tenth",2:"hundredth",3:"thousandth"}[m.length]||`${Math.pow(10,m.length)}th`)+"s",p=parseInt(m,10);return`${Ze(p).replace(/\s+/g,"-")}-${s}`}function ke(l){if(!l)return null;const m=l.trim().toLowerCase();for(let h=0;h<D.length;h++)if(D[h]===m)return h;if(m.includes("-")){const h=m.split("-");if(h.length===2){const s=bt.indexOf(h[0]),p=D.indexOf(h[1]);if(s>=2&&p>=0)return s*10+p}}else{const h=bt.indexOf(m);if(h>=2)return h*10}const c=m.split(/\s+/);if(c.length===2){const h=ke(c[0]),s=ke(c[1]);if(h!==null&&s!==null)return h+s}return null}function $t(l){const m=Math.trunc(l),c=Math.round((l-m)*1e3),h=Ze(m);if(c===0)return h.toLowerCase().replace(/\s+/g,"-");let s=String(c).padStart(3,"0");s.endsWith("00")?s=s.slice(0,1):s.endsWith("0")&&(s=s.slice(0,2));const p=ha(s);return`${h.toLowerCase().replace(/\s+/g,"-")}-and-${p}`}function Ut(l,m){const c=typeof l=="number"?l:Math.floor(Math.random()*80)+20,h=typeof m=="number"?m:Math.floor(Math.random()*100),s=$t(c),p=String(h).padStart(2,"0");return`${s}.${p}`}function Xt(l,m="word-digit"){const c=Ze(l).toLowerCase().replace(/[\s-]+/g,""),h=Math.floor(l/10),s=l%10;return m==="digits"?String(l):m==="word"?c:m==="digit-word"?s===0?String(l):`${h}${D[s]}`:s>0?`${Ze(h*10).toLowerCase().replace(/[\s-]+/g,"")}${s}`:c}function pa(l,m="word-and-digit"){const c=Math.max(0,Math.min(99,l)),h=Math.floor(c/10),s=c%10;return m==="digits"?`${c}hundredths`:m==="word"?`${Ze(c).toLowerCase().replace(/[\s-]+/g,"")}hundredths`:m==="word-digit"?s===0?`${D[h]}hundredths`:`${D[h]}${s}hundredths`:c>=10?s===0?`${D[h]}hundredths`:`${D[h]}and${s}hundredths`:`${Ze(c).toLowerCase().replace(/[\s-]+/g,"")}hundredths`}function fa(l,m="word-and-digit"){const c=Math.max(0,Math.min(999,l));if(m==="digits")return`${c}thousandths`;const h=Ze(c).toLowerCase().replace(/[\s-]+/g,"");if(m==="word")return`${h}thousandths`;const s=Math.floor(c/100),p=Math.floor(c%100/10),y=c%10;if(m==="word-digit-word"&&s>0){const j=D[s],v=y>0?D[y]:"";return`${v?`${j}${p}${v}`:`${j}${p}`}thousandths`}return m==="word-digit"&&c>=10?y===0?`${D[p]}thousandths`:`${D[p]}${y}thousandths`:m==="digit-word"&&c>=10?y===0?`${p}${D[p]}thousandths`:`${p}${D[y]}thousandths`:c>=10?y===0?`${D[p]}thousandths`:`${D[p]}and${y}thousandths`:`${h}thousandths`}function ya(l){if(!l)return null;const m=l.toLowerCase().replace(/thousandths?$/,"");if(!m)return null;const c=m.replace(/[^0-9]/g,""),h=m.replace(/[^a-z\-]/g,"").replace(/and/g,"");if(c&&h){const s=parseInt(c,10),p=ke(h);if(p!==null)return c.length===2&&p<10?p*100+s:c.length===1&&p<10?p*10+s:parseInt(`${s}${p}`,10)}return c?parseInt(c,10):ke(h)}function xa(l){if(!l)return null;let m=null,c=null;for(const j of D.slice(1))if(l.startsWith(j)){m=j;break}for(const j of D.slice(1))if(l.endsWith(j)){c=j;break}if(!m||!c)return null;const h=l.slice(m.length,l.length-c.length);if(!/^\d+$/.test(h))return null;const s=D.indexOf(m),p=D.indexOf(c),y=parseInt(h,10);return s<0||p<0||y<0||y>9?null:s*100+y*10+p}function ga(l){if(!l)return null;const m=l.toLowerCase(),c=m.replace(/[^0-9]/g,""),h=m.replace(/[^a-z\-]/g,"").replace(/and/g,""),s=h?ke(h):null;if(c){const p=parseInt(c,10);return s!==null?c.length===1&&s<10?s*10+p:s>=20&&s%10===0&&c.length===1?s+p:parseInt(`${s}${c}`,10):p}return s}function ba(l){if(!l)return null;const m=l.toLowerCase().replace(/hundredths?$/,""),c=m.replace(/[^0-9]/g,""),h=m.replace(/[^a-z\-]/g,"").replace(/and/g,""),s=h?ke(h):null;if(c){const p=parseInt(c,10);return s!==null?c.length===1&&s<10?s*10+p:s>=20&&s%10===0&&c.length===1?s+p:parseInt(`${s}${c}`,10):p}return s}function yt(l){if(!l)return null;if(l.includes("-and-"))return ja(l);if(l.includes("&")){const[m,c]=l.split("&"),h=ga(m);if(h===null)return null;const s=c||"";if(s.includes("thousandth")){const y=s.toLowerCase().replace(/thousandths?$/,""),j=ya(s)??xa(y);return j===null||j<0||j>999?null:Number((h+j/1e3).toFixed(6))}const p=ba(s);return p===null||p<0||p>99?null:Number((h+p/100).toFixed(6))}return va(l)}function va(l){if(!l)return null;const c=l.toLowerCase().replace(/[^a-z0-9\.\-]/g,"").split(".");if(c.length!==2)return null;const h=c[0].replace(/[^a-z\-]/g,""),s=c[1].replace(/[^0-9]/g,"");if(!h||!s)return null;const p=ke(h);if(p===null)return null;const y=Math.pow(10,s.length);return Number((p+Number(s)/y).toFixed(6))}function ja(l){if(!l)return null;const m=l.trim().toLowerCase().replace(/^-+/,"").replace(/-+$/,"");if(m.includes("-and-")){const[h,s]=m.split("-and-"),p=ke(h);if(p===null)return null;let y=null,j=null;if(s.endsWith("thousandths"))y=1e3,j=s.slice(0,-11);else if(s.endsWith("hundredths"))y=100,j=s.slice(0,-10);else if(s.endsWith("tenths"))y=10,j=s.slice(0,-6);else if(s.endsWith("thousandth"))y=1e3,j=s.slice(0,-10);else if(s.endsWith("hundredth"))y=100,j=s.slice(0,-9);else if(s.endsWith("tenth"))y=10,j=s.slice(0,-5);else return null;j=j.replace(/-+$/,"").replace(/^-+/,"").trim();const v=ke(j);return v===null?null:Number((p+v/y).toFixed(6))}const c=ke(m);return c===null?null:Number(c.toFixed(6))}function wa(){window.__DecimalCleanup&&window.__DecimalCleanup(),window.__DecimalCleanup=null;const l=document.getElementById("level"),m=document.getElementById("start"),c=document.getElementById("pause");document.getElementById("backBtn");const h=document.getElementById("prompt"),s=document.getElementById("hint"),p=document.getElementById("score"),y=document.getElementById("timer"),j=document.getElementById("streak"),v=document.getElementById("answerInput"),E=document.getElementById("feedback"),A=document.getElementById("colsInput"),G=document.getElementById("rowsInput"),T=document.getElementById("cellSizeInput"),z=document.getElementById("applyGridBtn"),ne=document.getElementById("gridPreview"),re=document.getElementById("palette"),pe=document.getElementById("selectedColorPreview");let N=Number(A==null?void 0:A.value)||15,R=Number(G==null?void 0:G.value)||15,k=Number(T==null?void 0:T.value)||28;const $e=20,Ce=15;let fe=Number(T==null?void 0:T.value)||28,oe=0,Se=0,K={primary:"#1f77b4",secondary:"#0b2740"},Y,f,P=[],L=!1,_=!1,U=0,V=0,M=null,Me=10,de=3;const Ke={easy:125e4,medium:125e4,medium5:125e4,mathamatical:125e4};let X=null,ye=0,me=0,q=null,W=null,O=null,ce=null,xe=null;const ae=.001;let ie=!1,F=null,le=null,H=null,ge=[],Ee=null,Ae=null,Pe=null,Q=null,ue=[],he=[],ze=0,ee={left:!1,right:!1,up:!1,down:!1},Ye={x:1,y:0},be=150,Be=20;const at=20;let ve=null,Re=null,We=null,_e=!1,qe={x:0,y:0},Qe={x:0,y:0};const et=28;let Ie=null,Te=null,Le=null,Fe=null,o=null,S=null,Z=null;function Ge(){return localStorage.getItem("mathpop_current_user")||"guest"}function st(){return`mathpop_profile_stats_${Ge()}`}function tt(){const t=localStorage.getItem(st());if(!t)return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],games:{}};try{const n=JSON.parse(t);return{totalPoints:Number(n.totalPoints)||0,totalCorrect:Number(n.totalCorrect)||0,totalAttempted:Number(n.totalAttempted)||0,pupStreakRecord:Number(n.pupStreakRecord)||0,levelsCompleted:Array.isArray(n.levelsCompleted)?n.levelsCompleted:[],games:n.games&&typeof n.games=="object"?n.games:{}}}catch{return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],games:{}}}}function ct(t,n){return t.games[n]||(t.games[n]={points:0,correct:0,attempted:0,bestScore:0,streakRecord:0,gamesPlayed:0}),t.games[n]}function dt(t){localStorage.setItem(st(),JSON.stringify(t))}function He(t,n){const a=tt(),i=ct(a,"decimal");a.totalAttempted+=1,i.attempted+=1,t&&(a.totalCorrect+=1,i.correct+=1,a.totalPoints+=n,i.points+=n),i.streakRecord=Math.max(i.streakRecord,V),i.bestScore=Math.max(i.bestScore,U),dt(a)}function nn(){const t=wt();return t.startsWith("easy")?{level:"easy",cols:parseInt(t.replace("easy",""),10)||20}:t==="medium"?{level:"medium",cols:Number(A==null?void 0:A.value)||25}:{level:"mathamatical",cols:Number(A==null?void 0:A.value)||25}}function De(){const t=wt();return t.startsWith("easy")?"easy":t==="medium"?"medium":"mathamatical"}function jt(){const t=nn();N=t.cols,R=15,G&&(G.value=String(R),G.disabled=!0),A&&(A.value=String(N),A.disabled=t.level==="easy"),z&&(z.disabled=t.level==="easy")}const rt=[{id:"dp-01",primary:"#0c0b18",secondary:"#3b0f58"},{id:"dp-02",primary:"#0b1026",secondary:"#0f6b6d"},{id:"dp-03",primary:"#160a2a",secondary:"#5b1e57"},{id:"dp-04",primary:"#071a24",secondary:"#164c70"},{id:"dp-05",primary:"#140b1f",secondary:"#6b2a3f"},{id:"dp-06",primary:"#09131c",secondary:"#246b4f"},{id:"dp-07",primary:"#0e0f1e",secondary:"#4a2f8a"},{id:"dp-08",primary:"#0a1a1f",secondary:"#1e5a7a"},{id:"dp-09",primary:"#131126",secondary:"#3f2d78"},{id:"dp-10",primary:"#0d1a2d",secondary:"#1b5ea5"},{id:"dp-11",primary:"#150b24",secondary:"#6d1f5f"},{id:"dp-12",primary:"#111629",secondary:"#3c5bdc"},{id:"dp-13",primary:"#0f0e1d",secondary:"#7a2bff"},{id:"dp-14",primary:"#0b1426",secondary:"#2f8bff"},{id:"dp-15",primary:"#120d1a",secondary:"#ff2f92"},{id:"dp-16",primary:"#0f1216",secondary:"#27f2ff"},{id:"dp-17",primary:"#170f25",secondary:"#8a4bff"},{id:"dp-18",primary:"#0f1a24",secondary:"#22d3ee"},{id:"dp-19",primary:"#120a1c",secondary:"#ff5e5e"},{id:"dp-20",primary:"#10121d",secondary:"#c97bff"},{id:"dp-21",primary:"#0b0f18",secondary:"#19b5a5"},{id:"dp-22",primary:"#0f1422",secondary:"#ff8a3d"},{id:"dp-23",primary:"#0c1520",secondary:"#3dd6ff"},{id:"dp-24",primary:"#140c1c",secondary:"#ff42c7"},{id:"dp-25",primary:"#0d1420",secondary:"#40ff8a"},{id:"dp-26",primary:"#0b1222",secondary:"#7c7cff"},{id:"dp-27",primary:"#0f0b18",secondary:"#ff6a00"},{id:"dp-28",primary:"#0d1a2b",secondary:"#00d1ff"},{id:"dp-29",primary:"#0f0f1b",secondary:"#ff4f7b"},{id:"dp-30",primary:"#101821",secondary:"#23c3ff"},{id:"dp-31",primary:"#120b1e",secondary:"#a855f7"},{id:"dp-32",primary:"#0a1622",secondary:"#00f5a0"},{id:"dp-33",primary:"#0c101f",secondary:"#4ade80"},{id:"dp-34",primary:"#0f1428",secondary:"#60a5fa"},{id:"dp-35",primary:"#150c20",secondary:"#f472b6"},{id:"dp-36",primary:"#0d1821",secondary:"#14b8a6"},{id:"dp-37",primary:"#140c24",secondary:"#e879f9"},{id:"dp-38",primary:"#0b151f",secondary:"#22d3ee"},{id:"dp-39",primary:"#0f0c1f",secondary:"#a3e635"},{id:"dp-40",primary:"#0e1420",secondary:"#38bdf8"},{id:"dp-41",primary:"#130d22",secondary:"#f97316"},{id:"dp-42",primary:"#0c1723",secondary:"#06b6d4"},{id:"dp-43",primary:"#120c1a",secondary:"#fb7185"},{id:"dp-44",primary:"#0d1524",secondary:"#3b82f6"},{id:"dp-45",primary:"#130c1f",secondary:"#d946ef"},{id:"dp-46",primary:"#0b1620",secondary:"#10b981"},{id:"dp-47",primary:"#0f0d18",secondary:"#facc15"},{id:"dp-48",primary:"#0c1326",secondary:"#6366f1"},{id:"dp-49",primary:"#100b1d",secondary:"#f43f5e"},{id:"dp-50",primary:"#0c1726",secondary:"#0ea5e9"}];let an=[];function I(t,n){return Math.floor(Math.random()*(n-t+1))+t}function nt(t,n,a){return Math.max(n,Math.min(a,t))}function Ve(t){return Number(t).toFixed(3).replace(/\.?0+$/,"")}function wt(){return l&&l.value||"easy20"}const Et={easy20:[{name:"euler-vortex",map:["...#####.....","..#...#..###.",".#....#.#...#","#.....###...#","#....##.....#",".#..###..#...","..#...#..#...","...###..#....","....#..###..."]},{name:"quadratic-wave",map:[".....#.......","....#.#......","...#...#.....","..#.....#....",".#.......#...","#.........#..",".#.......#...","..#.....#....","...#...#....."]},{name:"sine-cosine",map:["..#.....#....",".#.#...#.#...","#...#.#...#..",".#...#...#...","..#...#...#..",".#...#...#...","#..#...#..#..",".#.#...#.#...","..#.....#...."]},{name:"log-tunnel",map:["#############","##.........##","#..#######..#","#..#.....#..#","#..#..#..#..#","#..#.....#..#","#..#######..#","##.........##","#############"]},{name:"exponential-bloom",map:[".....#.......","...#.#.#.....","..#..#..#....","..#..#..#....",".##.###.##...","..#..#..#....","..#..#..#....","...#.#.#.....",".....#......."]}],easy25:[{name:"mandelbrot",map:["....#####....","..#########..",".###########.",".###########.",".###########.","..#########..","...#######...","....#####....",".....###....."]},{name:"julia-dream",map:["....###..###.","...####..####","..#####..####","..####....###","..####....###","..#####..####","...####..####","....###..###.",".....#....#.."]},{name:"chaos-glitch",map:["#..#...#..#..",".#....##.....","...##...#.#..","#...#..#....#","..#..#...##..",".##....#..#..","..#.#...##...","#..##.....#..",".#..#..#..#.."]},{name:"spiral-stair",map:["#............","##...........",".##..........","..##.........","...##........","....##.......",".....##......","......##.....",".......##...."]},{name:"butterfly",map:["..##.....##..",".###.....###.","#####...#####",".###..#..###.","..##.###.##..",".###..#..###.","#####...#####",".###.....###.","..##.....##.."]}],easy30:[{name:"fourier-spectrum",map:["....#...#....","...##..###...","..###.####...",".####.#####..","#####.#####..","#####.######.","######.######","######.######","#############"]},{name:"wave-interference",map:["#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#"]},{name:"beat-grid",map:["##..##..##..#","..##..##..##.","##..##..##..#","..##..##..##.","##..##..##..#","..##..##..##.","##..##..##..#","..##..##..##.","##..##..##..#"]},{name:"harmonic-rings",map:["...#####.....","..#.....#....",".#..###..#...",".#..#.#..#...",".#..###..#...","..#.....#....","...#####.....",".............","............."]},{name:"rhythm-matrix",map:["###...###...#","#..#..#..#..#","###...###...#","..#.....#....","###...###...#","#..#..#..#..#","###...###...#","....#....#...","###...###...#"]}],medium:[{name:"impossible-triangle",map:["......#......",".....#.#.....","....#...#....","...#.....#...","..#.......#..",".#.........#.","#############","............#","###########.."]},{name:"tessellation",map:["..#...#...#..",".#.#.#.#.#.#.","#...#...#...#",".#.#.#.#.#.#.","..#...#...#..",".#.#.#.#.#.#.","#...#...#...#",".#.#.#.#.#.#.","..#...#...#.."]},{name:"mobius-loop",map:["..####...####",".#....#.#....","#......#.....","#.....#......",".#....#.#....","..####...####","....#.#....#.",".....#......#","....#........"]},{name:"golden-garden",map:["....#####....","...#.....#...","..#..###..#..",".#..#...#..#.",".#..#...#..#.","..#..###..#..","...#.....#...","....#####....","......#......"]},{name:"polyhedron",map:["....#####....","...#.....#...","..#.......#..",".#.........#.",".#.........#.","..#.......#..","...#.....#...","....#####....","............."]}],mathamatical:[{name:"number-soup",map:["#.#.##..#.#.#","##..#.#..##..",".#.#..##.#.#.","##..##..#..##","#..#.#.##..#.",".##..#..##..#","#.#..##.#..##","##..#..##.#..",".#.#.##..#.#."]},{name:"graffiti-wall",map:["########.....","#######....#.","######...##..","#####...###..","####...####..","###...#####..","##...######..","#...#######..","...########.."]},{name:"infinity-raceway",map:["...####.####.","..#....#....#",".#.....#.....",".#....#.#....",".#.....#.....","..#....#....#","...####.####.",".............","............."]},{name:"probability-cloud",map:[".....###.....","....#####....","...#######...","..#########..",".###########.","..#########..","...#######...","....#####....",".....###....."]},{name:"mathanomical-void",map:["#....#....#..","...#.....#...",".....#.......","..#.......#..","....#..#.....","#.......#....","....#........","..#....#.....",".....#....#.."]}]};let mt=null;function sn(t){if(!t||!t.length)return null;const n=t.length,a=t[0].length,i=Math.max(1,Math.floor(Math.min((N-2)/a,(R-2)/n))),r=Math.max(0,Math.floor((N-a*i)/2)),d=Math.max(0,Math.floor((R-n*i)/2)),u=Array.from({length:R},()=>Array(N).fill(!1));for(let x=0;x<n;x++)for(let g=0;g<a;g++)if(t[x][g]==="#")for(let b=0;b<i;b++)for(let $=0;$<i;$++){const w=d+x*i+b,J=r+g*i+$;w>=0&&w<R&&J>=0&&J<N&&(u[w][J]=!0)}return u}function Nt(){const t=wt(),n=Et[t]||Et.easy20,a=n[I(0,n.length-1)];a.name,mt=sn(a.map)}function rn(){const t=I(20,99),n=I(0,99),a=I(0,2);if(a===0)return Ut(t,n);const i=a===1?"word-digit":"digit-word",r=a===1?"word-and-digit":"word-digit",d=Xt(t,i),u=pa(n,r);return`${d}&${u}`}function ln(){const t=I(20,99),n=I(0,999),a=I(0,2);if(a===0){const x=$t(t),g=String(n).padStart(3,"0");return`${x}.${g}`}const i=a===1?"word-digit":"digit-word",r=a===1?"word-and-digit":"word-digit-word",d=Xt(t,i),u=fa(n,r);return`${d}&${u}`}function kt(){let t=I(2,30),a=`${(t/10).toFixed(1)}*10`;const i=I(0,2);for(let r=0;r<i;r++)if(Math.random()<.6){const d=I(2,5);t*=d,a+=`*${d}`}else{const d=[];for(let u=2;u<=9;u++)t%u===0&&d.push(u);if(d.length===0){const u=I(2,5);t*=u,a+=`*${u}`}else{const u=d[I(0,d.length-1)];t=t/u,a+=`/${u}`}}return{expr:a,value:t}}function on(t){const n=t.includes("+")||t.includes("-"),a=t.includes("*")||t.includes("/");if(!n&&a)return kt().expr;if(n&&!a){const d=I(2,4);let u=`${I(1,9)}.${I(0,9)}`;for(let x=1;x<d;x++){const g=Math.random()<.5?"+":"-",b=`${I(1,9)}.${I(0,9)}`;u+=`${g}${b}`}return u}const i=I(2,4);let r=kt().expr;for(let d=1;d<i;d++){const u=Math.random()<.5?"+":"-",x=kt().expr;r+=`${u}${x}`}return r}function cn(t,n,a){if(t.length>=a)return t.slice(0,a);let i=t;const r=n.includes("+")||n.includes("-"),d=n.includes("*")||n.includes("/");for(;i.length<a;)r&&i.length+2<=a?i+="+0":d&&i.length+2<=a?i+="*1":i+="0";return i.slice(0,a)}function dn(t,n=N){for(let i=0;i<400;i++){let r=on(t);if(r.length>n&&(r=mn(r,n)),r=cn(r,t,n),r.length!==n)continue;const d=it(r,t);if(d!==null&&!(Math.abs(d-Math.round(d))>ae))return r}return"0".repeat(n)}function mn(t,n){const a=t.match(/(\d+\.\d+|\d+|[+\-*/])/g)||[];let i="";for(let r=0;r<a.length;r++){let d=a[r];if(/\d+\.\d+/.test(d)&&i.length+d.length>n){const[u,x]=d.split(".");let g=x;for(;g.length>0&&i.length+(u+"."+g).length>n;)g=g.slice(0,-1);g.length===0?d=u:d=u+"."+g}if(i.length+d.length>n)break;i+=d}return i}function un(t=N){const a=l&&l.value||"easy20",i=a==="easy25",r=a==="easy30";for(let d=0;d<200;d++){let x=(r?ln():i?rn():Ut()).replace(/[^a-z0-9\-\.&]/g,"").toLowerCase();if(x.length>t&&(x=x.replace(/-+/g,"-"),x.length>t))continue;const g=t-x.length,b=Math.floor(g/2),$=g-b,w="-".repeat(b)+x+"-".repeat($),J=w.replace(/^-+|-+$/g,"");if(yt(J)!==null)return w}return"one".repeat(Math.ceil(t/3)).slice(0,t)}function it(t,n){if(!/^[0-9\.\+\-\*\/\s]+$/.test(t))return null;for(const g of t)if((g==="+"||g==="-"||g==="*"||g==="/")&&!n.includes(g))return null;const a=[];let i=0;for(;i<t.length;){const g=t[i];if(g===" "){i++;continue}if(g>="0"&&g<="9"||g==="."){let b=i;for(;b<t.length&&(t[b]>="0"&&t[b]<="9"||t[b]===".");)b++;const $=t.slice(i,b),w=Number($);if(!isFinite(w))return null;a.push({type:"num",value:w}),i=b;continue}if("+-*/".includes(g)){a.push({type:"op",value:g}),i++;continue}return null}function r(g){return g==="+"||g==="-"?1:g==="*"||g==="/"?2:0}const d=[],u=[];for(const g of a)if(g.type==="num")d.push(g);else{for(;u.length&&r(u[u.length-1].value)>=r(g.value);)d.push(u.pop());u.push(g)}for(;u.length;)d.push(u.pop());const x=[];for(const g of d)if(g.type==="num")x.push(g.value);else{if(x.length<2)return null;const b=x.pop(),$=x.pop();let w;switch(g.value){case"+":w=$+b;break;case"-":w=$-b;break;case"*":w=$*b;break;case"/":if(b===0)return null;w=$/b;break;default:return null}x.push(w)}return x.length!==1?null:x[0]}function ut(t=N,n=R){N=t,R=n,P=[];for(let a=0;a<R;a++){const i=[];for(let r=0;r<N;r++)i.push(null);P.push(i)}}function hn(t,n){for(let a=0;a<N;a++)P[t][a]={ch:n[a]||"0"}}function pn(){for(let t=0;t<R;t++)for(let n=0;n<N;n++)if(P[t][n])return!0;return!1}function ht(){let t=document.getElementById("decimalGameCanvas");if(!t){t=document.createElement("canvas"),t.id="decimalGameCanvas",t.style.display="block",t.style.marginTop="8px";const n=document.getElementById("canvasAnchor");n?n.appendChild(t):h.insertAdjacentElement("afterend",t)}Y=t,f=Y.getContext("2d"),At(),Y.removeEventListener("click",St),Y.addEventListener("click",St)}function At(){if(!Y)return;const t=$e*fe,n=Ce*fe;k=Math.min(t/N,n/R);const i=N*k,r=R*k;oe=Math.floor((t-i)/2),Se=Math.floor((n-r)/2),Y.width=Math.round(t),Y.height=Math.round(n)}function Pt(t,n){const a=(K==null?void 0:K.primary)||"#1f77b4",i=(K==null?void 0:K.secondary)||a,r=f.createLinearGradient(t,n,t+k,n+k);return r.addColorStop(0,a),r.addColorStop(1,i),r}function te(){if(f){At(),f.clearRect(0,0,Y.width,Y.height);for(let t=0;t<R;t++)for(let n=0;n<N;n++){const a=oe+n*k,i=Se+t*k,r=mt&&mt[t]&&mt[t][n];f.fillStyle=r?"#0b3a4a":"#041218",f.fillRect(a,i,k,k),f.strokeStyle=r?"#1b5566":"#07202a",f.strokeRect(a+.5,i+.5,k-1,k-1);const d=P[t][n];d?(f.fillStyle=Pt(a,i),Ct(f,a+2,i+2,k-4,k-4,4),r&&(f.fillStyle="rgba(255, 255, 255, 0.18)",Ct(f,a+2,i+2,k-4,k-4,4)),f.fillStyle="#fff",f.font=`700 ${Math.max(14,Math.floor(k*.7))}px monospace`,f.textAlign="center",f.textBaseline="middle",f.fillText(d.ch,a+k/2,i+k/2+1)):r&&(f.fillStyle="rgba(255, 255, 255, 0.16)",f.beginPath(),f.arc(a+k/2,i+k/2,Math.max(1,k*.12),0,Math.PI*2),f.fill())}if(M){const{blocks:t,row:n,col:a}=M;for(let i=0;i<t.length;i++){const r=t[i],d=r.ch,u=oe+(a+r.c)*k,x=Se+(n+r.r)*k;f.fillStyle=Pt(u,x),Ct(f,u+2,x+2,k-4,k-4,4),f.strokeStyle="#0ea5a4",f.strokeRect(u+2,x+2,k-4,k-4),f.fillStyle="#fff",f.font=`700 ${Math.max(14,Math.floor(k*.7))}px monospace`,f.textAlign="center",f.textBaseline="middle",f.fillText(d,u+k/2,x+k/2+1)}}W!==null&&(f.fillStyle="rgba(255,255,255,0.06)",f.fillRect(oe,Se+W*k,N*k,k))}}function Ct(t,n,a,i,r,d,u,x){t.beginPath(),t.moveTo(n+d,a),t.arcTo(n+i,a,n+i,a+r,d),t.arcTo(n+i,a+r,n,a+r,d),t.arcTo(n,a+r,n,a,d),t.arcTo(n,a,n+i,a,d),t.closePath(),t.fill()}function pt(t,n,a){const i=t.blocks;for(let r=0;r<i.length;r++){const d=n+i[r].r,u=a+i[r].c;if(u<0||u>=N||d>=R||d>=0&&P[d][u])return!1}return!0}function fn(){if(!M)return;const{blocks:t,row:n,col:a}=M;for(let r=0;r<t.length;r++){const d=n+t[r].r,u=a+t[r].c;if(d>=0&&d<R&&u>=0&&u<N)P[d][u]={ch:t[r].ch};else{Ln();return}}M=null;const i=[];for(let r=0;r<R;r++)P[r].every(d=>d!==null)&&i.push(r);if(i.length>0)Rt(i[0]),E.textContent="Row filled — solve when ready.";else{const r=[];for(let d=0;d<N;d++)P.every(u=>u[d]!==null)&&r.push(d);r.length>0?(Sn(r[0]),E.textContent="Column filled — solve when ready."):(W=null,O=null)}te()}const Bt=[{name:"I",blocks:[[0,0],[1,0],[2,0],[3,0]]},{name:"L",blocks:[[0,0],[1,0],[2,0],[2,1]]},{name:"T",blocks:[[0,0],[0,1],[0,2],[1,1]]},{name:"O",blocks:[[0,0],[0,1],[1,0],[1,1]]},{name:"I3",blocks:[[0,0],[1,0],[2,0]]},{name:"L3",blocks:[[0,0],[1,0],[1,1]]}];function yn(){return Bt[I(0,Bt.length-1)]}function xn(t){const n=I(1,25),a=I(1,2),i=I(0,Math.pow(10,a)-1),r=+`${n}.${String(i).padStart(a,"0")}`;let d=$t(r).replace(/[^a-z\-]/g,"").toLowerCase();if(d.length<t&&(d=d.padEnd(t,"-")),d.length>t){const u=I(0,Math.max(0,d.length-t));d=d.slice(u,u+t)}return d.split("")}function gn(t,n){let a=t>=3?`${I(1,9)}.${I(0,9)}`:`${I(0,9)}`;for(;a.length<t;){const i=a[a.length-1];n.length&&!"+-*/".includes(i)&&a.length<t-1&&Math.random()<.45?a+=n[I(0,n.length-1)]:a+=String(I(0,9))}return a.slice(0,t).split("")}function bn(t,n,a){return n==="easy"?xn(t):gn(t,a)}function vn(){if(M)return!1;const t=De(),n=t==="easy"?["+","-"]:t==="medium"?["*","/"]:["+","-","*","/"],i=yn().blocks.map(([x,g])=>({r:x,c:g,ch:""})),r=bn(i.length,t,n);for(let x=0;x<i.length;x++)i[x].ch=r[x];const d=Math.max(...i.map(x=>x.c))+1,u=I(0,Math.max(0,N-d));return M={blocks:i,row:0,col:u},te(),!0}function jn(){if(!M)return;const t=M.row+1;pt(M,t,M.col)?(M.row=t,te()):(fn(),vn())}function wn(){if(!M)return;const t=M.col-1;pt(M,M.row,t)&&(M.col=t,te())}function Nn(){if(!M)return;const t=M.col+1;pt(M,M.row,t)&&(M.col=t,te())}function kn(){if(!M)return;const t=M.blocks.map(u=>({r:u.r,c:u.c,ch:u.ch})),n=Math.max(...t.map(u=>u.r));Math.max(...t.map(u=>u.c));const a=t.map(u=>({r:u.c,c:n-u.r,ch:u.ch})),i=Math.max(...a.map(u=>u.c))+1;let r=M.col;r+i>N&&(r=Math.max(0,N-i));const d={blocks:a,row:M.row,col:r};pt(d,d.row,d.col)&&(M.blocks=a,M.col=r,te())}function Cn(){Je();const t=De();me=Ke[t]||125e4,ye=performance.now(),X=setTimeout(()=>{L=!1,E.textContent="Round time expired",Je(),v&&(v.style.display="none")},me),q&&clearInterval(q),q=setInterval(()=>{if(!X)return;const n=performance.now()-ye,a=Math.max(0,me-n);y.textContent=(a/1e3).toFixed(1)},100)}function Je(){X&&(clearTimeout(X),X=null),q&&(clearInterval(q),q=null)}function Rt(t){W=t,O=null;const n=P[t].map(r=>r?r.ch:"").join("").trim();ce=n,xe=null,h.textContent=`Solve row ${t+1}: ${n}`;const a=De(),i=Gt(n,a);Ft(n,a)||s&&(s.textContent=i),te()}function Sn(t){O=t,W=null;const n=P.map(r=>r[t]?r[t].ch:"").join("").trim();xe=n,ce=null,h.textContent=`Solve column ${t+1}: ${n}`;const a=De(),i=Gt(n,a);Ft(n,a)||s&&(s.textContent=i),te()}function Wt(){if(!h)return null;const t=h.textContent||"",n=t.indexOf(":");return n===-1?null:t.slice(n+1).trim()||null}function Mn(t){if(W===null)return;let n=Wt()||ce||P[W].map(u=>u?u.ch:"").join("");n=n.replace(/^[+\-*/]+/,"").replace(/[+\-*/]+$/,"");const a=De();if(a==="easy"){const u=n.replace(/^-+|-+$/g,""),x=yt(u);if(x===null)return E.textContent="Row word invalid",!1;const g=Number(t);return isFinite(g)?Math.abs(x-g)<=.001?(_t(W),U+=8,V++,lt(),E.textContent="Correct — row cleared",W=null,ce=null,He(!0,8),!0):(V=0,E.textContent=`Incorrect — expected ${Ve(x)}`,He(!1,0),!1):(E.textContent="Invalid number",!1)}const r=it(n,a==="medium"?["+","-"]:["+","-","*","/"]);if(r===null)return E.textContent="Row expression invalid",!1;const d=Number(t);return isFinite(d)?Math.abs(d-r)<=.001?(_t(W),U+=10,V++,lt(),E.textContent="Correct — row cleared",W=null,ce=null,He(!0,10),!0):(V=0,E.textContent=`Incorrect — expected ${Ve(r)}`,He(!1,0),!1):(E.textContent="Invalid number",!1)}function In(t){if(O===null)return;let n=Wt()||xe||P.map(u=>u[O]?u[O].ch:"").join("");n=n.replace(/^[+\-*/]+/,"").replace(/[+\-*/]+$/,"");const a=De();if(a==="easy"){const u=n.replace(/^-+|-+$/g,""),x=yt(u);if(x===null)return E.textContent="Column word invalid",!1;const g=Number(t);return isFinite(g)?Math.abs(x-g)<=.001?(Tt(O),U+=8,V++,lt(),E.textContent="Correct — column cleared",O=null,xe=null,He(!0,8),!0):(V=0,E.textContent=`Incorrect — expected ${Ve(x)}`,He(!1,0),!1):(E.textContent="Invalid number",!1)}const r=it(n,a==="medium"?["+","-"]:["+","-","*","/"]);if(r===null)return E.textContent="Column expression invalid",!1;const d=Number(t);return isFinite(d)?Math.abs(d-r)<=.001?(Tt(O),U+=10,V++,lt(),E.textContent="Correct — column cleared",O=null,xe=null,He(!0,10),!0):(V=0,E.textContent=`Incorrect — expected ${Ve(r)}`,He(!1,0),!1):(E.textContent="Invalid number",!1)}function _t(t){for(let n=0;n<N;n++)P[t][n]=null;if(Me>0&&(Me--,Me===0&&(E.textContent="No more drops — clear the remaining rows to win!")),Me===0&&!pn()){Fn();return}te()}function Tt(t){for(let n=R-1;n>=0;n--)P[n][t]=null;te()}function Lt(t,n){let a=t.trim();return n==="easy"?a=a.replace(/^-+|-+$/g,""):a=a.replace(/^[+\-*/]+/,"").replace(/[+\-*/]+$/,""),a}function Ft(t,n){if(de<=0||Math.random()>.18)return!1;const a=Lt(t,n);let i=null;return n==="easy"?i=yt(a):i=it(a,n==="medium"?["+","-"]:["+","-","*","/"]),i===null?!1:(de-=1,s&&(s.textContent=`Answer reveal (${3-de}/3): ${Ve(i)}`),!0)}function Gt(t,n){const a=Lt(t,n);if(!a)return"Hint: click a full row to solve it.";if(n==="easy"){if(a.includes("&")){const[x,g]=a.split("&");return`Hint: "${x}" is the whole number and "${g}" are hundredths.`}const r=a.split("."),d=r[0]?r[0].replace(/-/g," "):"",u=r[1]||"";return d&&u?`Hint: word part "${d}" and decimal digits ".${u}".`:"Hint: convert the word to a number, then append the decimal digits shown."}if(n==="medium"){const r=a.match(/(\d+\.\d+|\d+|[+\-])/g)||[];if(r.length>=3){const d=Number(r[0]),u=r[1],x=Number(r[2]);if(isFinite(d)&&isFinite(x)){const g=u==="+"?d+x:d-x;return`Hint: first do ${r[0]}${u}${r[2]} = ${Ve(g)}, then continue left to right.`}}return"Hint: add and subtract left to right, keep one decimal place."}const i=a.match(/(\d+\.\d+|\d+|[+\-*/])/g)||[];for(let r=0;r<i.length;r++)if(i[r]==="*"||i[r]==="/"){const d=Number(i[r-1]),u=Number(i[r+1]);if(isFinite(d)&&isFinite(u)&&(i[r]!=="/"||u!==0)){const x=i[r]==="*"?d*u:d/u;return`Hint: resolve ${i[r-1]}${i[r]}${i[r+1]} = ${Ve(x)} first.`}}if(i.length>=3){const r=Number(i[0]),d=i[1],u=Number(i[2]);if(isFinite(r)&&isFinite(u)){const x=d==="+"?r+u:r-u;return`Hint: start with ${i[0]}${d}${i[2]} = ${Ve(x)}.`}}return"Hint: do multiplication/division before addition/subtraction."}v&&(v.style.display="",Ie||(Ie=t=>{if(t.key==="Enter"){const n=v.value.trim();if(v.value="",!n)return;if(W===null&&O===null){E.textContent="Click a full row to select it then answer.";return}W!==null?Mn(n):In(n)}}),v.removeEventListener("keydown",Ie),v.addEventListener("keydown",Ie));function St(t){if(!Y)return;const n=Y.getBoundingClientRect(),a=Y.width/n.width,i=Y.height/n.height;(t.clientX-n.left)*a-oe;const r=(t.clientY-n.top)*i-Se,d=Math.floor(r/k);if(d>=0&&d<R&&P[d].every(u=>u!==null)){Rt(d),E.textContent="Row selected — solve when ready.";return}W=null,O=null,_||(h.textContent="Select a full row to solve"),te()}const Ht=t=>{if(ie){t.key==="ArrowLeft"&&(ee.left=!0,t.preventDefault()),t.key==="ArrowRight"&&(ee.right=!0,t.preventDefault()),t.key==="ArrowUp"&&(ee.up=!0,t.preventDefault()),t.key==="ArrowDown"&&(ee.down=!0,t.preventDefault()),t.key===" "&&(Kt(),t.preventDefault());return}!L||_||(t.key==="ArrowLeft"&&(wn(),t.preventDefault()),t.key==="ArrowRight"&&(Nn(),t.preventDefault()),t.key==="ArrowDown"&&(jn(),t.preventDefault()),(t.key==="ArrowUp"||t.key.toLowerCase()==="r"||t.key===" ")&&(kn(),t.preventDefault()))},Dt=t=>{ie&&(t.key==="ArrowLeft"&&(ee.left=!1),t.key==="ArrowRight"&&(ee.right=!1),t.key==="ArrowUp"&&(ee.up=!1),t.key==="ArrowDown"&&(ee.down=!1))};window.addEventListener("keydown",Ht),window.addEventListener("keyup",Dt);function lt(){p&&(p.textContent=String(U)),j&&(j.textContent=String(V))}function Vt(){re&&(re.innerHTML="",rt.forEach(t=>{const n=document.createElement("div");n.className="swatch",n.style.background=`linear-gradient(135deg, ${t.primary} 0%, ${t.secondary} 100%)`,n.dataset.color=t.primary,n.addEventListener("click",()=>{re.querySelectorAll(".swatch").forEach(a=>a.classList.remove("selected")),n.classList.add("selected"),K=t,pe&&(pe.style.background=`linear-gradient(135deg, ${t.primary} 0%, ${t.secondary} 100%)`),te()}),re.appendChild(n),(t.primary===(K==null?void 0:K.primary)||!K&&re.children.length===1)&&(n.classList.add("selected"),K=t,pe&&(pe.style.background=`linear-gradient(135deg, ${t.primary} 0%, ${t.secondary} 100%)`))}))}function ot(){const t=Number(A==null?void 0:A.value)||N,n=Number(G==null?void 0:G.value)||R,a=Number(T==null?void 0:T.value)||fe;ne&&(ne.textContent=`${t}×${n} @${a}px`)}function $n(){jt(),Nt(),ot(),Vt(),Te||(Te=()=>{const t=nt(Number(A.value)||N,8,30),n=15,a=nt(Number(T.value)||k,20,48),i=L;i&&Mt(),N=t,R=n,k=a,fe=a,ut(N,R),ht(),te(),ot(),i&&ft()}),o||(o=()=>ot()),Le||(Le=()=>{jt(),Nt(),ot(),ut(N,R),ht(),te()}),Fe||(Fe=()=>{if(L){E.textContent="Game already running";return}ft()}),S||(S=()=>Ot()),z==null||z.removeEventListener("click",Te),z==null||z.addEventListener("click",Te),T==null||T.removeEventListener("input",o),A==null||A.removeEventListener("input",o),G==null||G.removeEventListener("input",o),T==null||T.addEventListener("input",o),A==null||A.addEventListener("input",o),G==null||G.addEventListener("input",o),l==null||l.removeEventListener("change",Le),l==null||l.addEventListener("change",Le),m==null||m.removeEventListener("click",Fe),m==null||m.addEventListener("click",Fe),c==null||c.removeEventListener("click",S),c==null||c.addEventListener("click",S)}function En(t=1,n=100){return(I(t*10,n*10)/10).toFixed(1)}function An(){const t=En(1,100),n=I(1,10)*10,a=n.toFixed(1),i=Number(t)*n;return{expr:`${t}*${a}`,value:i}}function Pn(){const t=I(10,200)/10,n=Math.floor(100/t);if(n<1)return null;const a=I(1,Math.min(12,n)),i=t*a;return i>100?null:{expr:`${i.toFixed(1)}/${t.toFixed(1)}`,value:a}}function Bn(){const n=I(2,200)*5/10,a=`${n.toFixed(1)}*10.0/5.0`,i=n*2;return{expr:a,value:i}}function Rn(t,n){let a=t;for(;a.length<n;)a.length+4<=n?a+="+0.0":a+="0";return a.slice(0,n)}function Wn(t=N){const n=[An,Pn,Bn],a=400;for(let i=0;i<a;i++){const r=I(3,5);let d="",u=0;for(let b=0;b<r;b++){const $=n[I(0,n.length-1)],w=$();if(!w){b--;continue}if(b===0)d=w.expr,u=w.value;else{const J=Math.random()<.5?"+":"-";d+=J+w.expr,u=J==="+"?u+w.value:u-w.value}}if(!d.includes(".")||d.length>t)continue;const x=Rn(d,t),g=it(x,["+","-","*","/"]);if(g!==null&&!(Math.abs(g-Math.round(g))>ae))return x}return"0".repeat(t)}function _n(t,n=N){return t==="easy"?un(n):t==="medium"?dn(["+","-"],n):Wn(n)}function Tn(){const t=De();for(let n=0;n<R;n++){const a=_n(t,N);hn(n,a)}}function ft(){L=!0,_=!1,U=0,V=0,W=null,O=null,jt(),Nt(),ut(N,R),Me=10,de=3,Tn(),ht(),te(),Cn(),lt(),E.textContent="Game started — clear rows before the timer ends",h.textContent="Click a full row to solve it.",c.disabled=!1,c.textContent="Pause",v&&(v.style.display="");const t=tt(),n=ct(t,"decimal");n.gamesPlayed+=1,dt(t)}function Mt(){L=!1,_=!1,Je(),F&&(F.style.display="none"),ie=!1,M=null,W=null,O=null,E.textContent="Stopped",c.disabled=!0,v&&(v.style.display="none")}function Ln(){L=!1,Je(),F&&(F.style.display="none"),ie=!1,h.textContent="Game Over",E.textContent=`Game over — score ${U}`,v&&(v.style.display="none");const t=tt(),n=ct(t,"decimal");n.bestScore=Math.max(n.bestScore,U),dt(t)}function Fn(){L=!1,Je(),h.textContent="You win!",E.textContent=`All rows cleared — score ${U}`,v&&(v.style.display="none");const t=tt(),n=ct(t,"decimal");n.bestScore=Math.max(n.bestScore,U),dt(t),Z=On((l==null?void 0:l.value)||"easy20"),Hn()}function Ot(){if(L)if(_=!_,_){if(c.textContent="Resume",X&&ye){const t=performance.now()-ye;me=Math.max(0,me-t),Je()}E.textContent="Paused",v&&(v.style.display="")}else c.textContent="Pause",ye=performance.now(),X=setTimeout(()=>{L=!1,E.textContent="Round time expired",Je(),v&&(v.style.display="none")},me),E.textContent="Resumed",v&&(v.style.display="")}rt.length&&(K=rt[0],pe&&(pe.style.background=`linear-gradient(135deg, ${rt[0].primary} 0%, ${rt[0].secondary} 100%)`)),A&&(A.value=N),G&&(G.value=R),T&&(T.value=fe),ot(),ut(N,R),ht(),te(),Vt(),$n(),window.DecimalTetris={startGame:()=>ft(),stopGame:()=>Mt(),togglePause:()=>Ot(),getState:()=>({running:L,paused:_,score:U,streak:V,COLS:N,ROWS:R,CELL_SIZE:k,BLOCK_COLOR:(K==null?void 0:K.primary)||K,targetRows:an})};function Gn(){if(F)return;const t=document.querySelector(".decimal-page");if(!t)return;F=document.createElement("div"),F.className="decimal-mini-game",F.innerHTML=`
      <div class="decimal-mini-card">
        <div class="decimal-mini-header">
          <span>Synthe Battle</span>
          <span id="decimalMiniHealthText">150 hits</span>
        </div>
        <div class="decimal-mini-bar"><div class="decimal-mini-bar-fill"></div></div>
        <div class="decimal-mini-benny-bar"><div class="decimal-mini-benny-bar-fill"></div></div>
        <div class="decimal-mini-arena"></div>
        <div class="decimal-mini-controls" aria-hidden="true">
          <div class="decimal-mini-joystick" id="decimalMiniJoystick">
            <div class="decimal-mini-stick" id="decimalMiniStick"></div>
          </div>
          <button type="button" class="decimal-mini-shoot" id="decimalMiniShoot">Dis arm synthe</button>
        </div>
      </div>
    `,t.appendChild(F),le=F.querySelector(".decimal-mini-arena"),Ee=F.querySelector(".decimal-mini-bar-fill"),Ae=F.querySelector("#decimalMiniHealthText"),Pe=F.querySelector(".decimal-mini-benny-bar-fill"),H=document.createElement("div"),H.className="decimal-mini-benny",H.innerHTML=`
      <div class="benny-body"></div>
      <div class="benny-head"></div>
      <div class="benny-leg left"></div>
      <div class="benny-leg right"></div>
    `,le.appendChild(H);const n=F.querySelector(".decimal-mini-controls");ve=F.querySelector("#decimalMiniJoystick"),Re=F.querySelector("#decimalMiniStick"),We=F.querySelector("#decimalMiniShoot");const a=()=>{_e=!1,qe={x:0,y:0},Re&&(Re.style.transform="translate(-50%, -50%)")},i=(r,d)=>{const u=r-Qe.x,x=d-Qe.y,g=Math.hypot(u,x),b=g>0?Math.min(1,et/g):0,$=u*b,w=x*b;qe={x:$/et,y:w/et},Re&&(Re.style.transform=`translate(calc(-50% + ${$}px), calc(-50% + ${w}px))`)};if(ve&&(ve.addEventListener("touchstart",r=>{const d=r.touches[0],u=ve.getBoundingClientRect();Qe={x:u.left+u.width/2,y:u.top+u.height/2},_e=!0,i(d.clientX,d.clientY),r.preventDefault()},{passive:!1}),ve.addEventListener("touchmove",r=>{if(!_e)return;const d=r.touches[0];i(d.clientX,d.clientY),r.preventDefault()},{passive:!1}),ve.addEventListener("touchend",a),ve.addEventListener("touchcancel",a)),We){const r=d=>{d&&d.preventDefault(),Kt()};We.addEventListener("touchstart",r,{passive:!1}),We.addEventListener("pointerdown",r),We.addEventListener("click",r)}!("ontouchstart"in window)&&n&&(n.style.display="none")}function Hn(){if(Gn(),!F||!le||!H)return;ie=!0,F.style.display="flex",be=150,Be=at,ue=[],he=[],ee={left:!1,right:!1,up:!1,down:!1},Ye={x:1,y:0},ge.forEach(i=>i.remove()),ge=[],Ee&&(Ee.style.width="100%"),Ae&&(Ae.textContent=`${be} hits`),Pe&&(Pe.style.width="100%");const t=le.getBoundingClientRect();H.dataset.x=String(t.width*.2),H.dataset.y=String(t.height*.7),H.style.transform=`translate(${H.dataset.x}px, ${H.dataset.y}px)`;const n=De(),a=n==="easy"?1:n==="medium"?2:3;for(let i=0;i<a;i++){const r=document.createElement("div");r.className="decimal-mini-shape",r.innerHTML="<span></span><span></span><span></span><span></span>";const d=t.width*(.6+Math.random()*.3),u=t.height*(.2+Math.random()*.6);r.dataset.x=String(d),r.dataset.y=String(u),r.dataset.speed=String(.7+Math.random()*.4),r.style.transform=`translate(${d}px, ${u}px)`,le.appendChild(r),ge.push(r)}ze=performance.now()+1200,Q&&cancelAnimationFrame(Q),Q=requestAnimationFrame(Yt)}function Dn(){ie=!1,Q&&cancelAnimationFrame(Q),Q=null,ue.forEach(t=>t.remove()),ue=[],he.forEach(t=>t.remove()),he=[],F&&(F.style.display="none"),E.textContent="Benny disarmed the synthe!",h.textContent="Press Start to play again.",Zt()}function Vn(){ie=!1,Q&&cancelAnimationFrame(Q),Q=null,ue.forEach(t=>t.remove()),ue=[],he.forEach(t=>t.remove()),he=[],F&&(F.style.display="none"),E.textContent="Its ok benny just needs a nap",h.textContent="Resting...",setTimeout(()=>{Zt()},4e3)}function On(t){const n=["easy20","easy25","easy30","medium","mathamatical"],a=n.indexOf(t);return a===-1||a===n.length-1?t:n[a+1]}function Zt(){Z&&(l&&(l.value=Z),Z=null,ft())}function Kt(){if(!ie||!le||!H)return;const t=parseFloat(H.dataset.x||"0"),n=parseFloat(H.dataset.y||"0"),a=Ye.x||1,i=Ye.y||0;[-6,6].forEach(d=>{const u=document.createElement("div");u.className="decimal-mini-shot",u.textContent="−",u.dataset.x=String(t+18),u.dataset.y=String(n+18+d),u.dataset.vx=String(a*6),u.dataset.vy=String(i*6),le.appendChild(u),ue.push(u)})}function Zn(){const t=I(2,9),n=I(1,9),a=Math.random()<.5?"+":"-";return{text:`${t}${a}${n}`}}function Yt(){if(!ie||!le||!H)return;const t=le.getBoundingClientRect(),n=40,a=56;let i=parseFloat(H.dataset.x||"0"),r=parseFloat(H.dataset.y||"0");const d=_e?qe.x:(ee.right?1:0)-(ee.left?1:0),u=_e?qe.y:(ee.down?1:0)-(ee.up?1:0);if(d||u){const b=Math.hypot(d,u)||1;Ye={x:d/b,y:u/b}}const x=3.2;i=nt(i+d*x,0,Math.max(0,t.width-n)),r=nt(r+u*x,0,Math.max(0,t.height-n)),H.dataset.x=String(i),H.dataset.y=String(r),H.style.transform=`translate(${i}px, ${r}px)`,ge.forEach((b,$)=>{let w=parseFloat(b.dataset.x||"0"),J=parseFloat(b.dataset.y||"0");const je=i-w,we=r-J,Ue=Math.max(1,Math.hypot(je,we)),Xe=parseFloat(b.dataset.speed||"1.1"),se=($%2===0?1:-1)*.4;w=nt(w+je/Ue*Xe+se,0,Math.max(0,t.width-a)),J=nt(J+we/Ue*Xe-se,0,Math.max(0,t.height-a)),b.dataset.x=String(w),b.dataset.y=String(J),b.style.transform=`translate(${w}px, ${J}px)`});const g=performance.now();g>=ze&&(ze=g+1400,ge.forEach(b=>{const $=parseFloat(b.dataset.x||"0"),w=parseFloat(b.dataset.y||"0"),J=i-$,je=r-w,we=Math.max(1,Math.hypot(J,je)),Ue=J/we*2.4,Xe=je/we*2.4,se=document.createElement("div");se.className="decimal-mini-enemy-shot";const qt=Zn();se.textContent=qt.text,se.dataset.x=String($+a/2),se.dataset.y=String(w+a/2),se.dataset.vx=String(Ue),se.dataset.vy=String(Xe),le.appendChild(se),he.push(se)})),ue=ue.filter(b=>{let $=parseFloat(b.dataset.x||"0"),w=parseFloat(b.dataset.y||"0");const J=parseFloat(b.dataset.vx||"0"),je=parseFloat(b.dataset.vy||"0");if($+=J,w+=je,b.dataset.x=String($),b.dataset.y=String(w),b.style.transform=`translate(${$}px, ${w}px)`,$<-20||w<-20||$>t.width+20||w>t.height+20)return b.remove(),!1;for(let we=0;we<ge.length;we++){const Ue=ge[we],Xe=parseFloat(Ue.dataset.x||"0"),se=parseFloat(Ue.dataset.y||"0");if($+10>Xe&&$<Xe+a&&w+10>se&&w<se+a)return b.remove(),be=Math.max(0,be-1),Ee&&(Ee.style.width=`${be/150*100}%`),Ae&&(Ae.textContent=`${be} hits`),be<=0&&Dn(),!1}return!0}),he=he.filter(b=>{let $=parseFloat(b.dataset.x||"0"),w=parseFloat(b.dataset.y||"0");const J=parseFloat(b.dataset.vx||"0"),je=parseFloat(b.dataset.vy||"0");return $+=J,w+=je,b.dataset.x=String($),b.dataset.y=String(w),b.style.transform=`translate(${$}px, ${w}px)`,$<-40||w<-40||$>t.width+40||w>t.height+40?(b.remove(),!1):$+14>i&&$<i+n&&w+14>r&&w<r+n?(b.remove(),H.classList.add("hit"),setTimeout(()=>H.classList.remove("hit"),180),Be=Math.max(0,Be-1),Pe&&(Pe.style.width=`${Be/at*100}%`),Be<=0&&Vn(),!1):!0}),Q=requestAnimationFrame(Yt)}window.__DecimalCleanup=()=>{window.removeEventListener("keydown",Ht),window.removeEventListener("keyup",Dt),Q&&cancelAnimationFrame(Q),Q=null,ie=!1,Y&&Y.removeEventListener("click",St),v&&Ie&&v.removeEventListener("keydown",Ie),z==null||z.removeEventListener("click",Te),l==null||l.removeEventListener("change",Le),m==null||m.removeEventListener("click",Fe),c==null||c.removeEventListener("click",S),T==null||T.removeEventListener("input",o),A==null||A.removeEventListener("input",o),G==null||G.removeEventListener("input",o);try{Mt()}catch{}}}function Na(){return C.useEffect(()=>(wa(),()=>{window.__DecimalCleanup&&window.__DecimalCleanup()}),[]),e.jsxs("main",{className:"game-shell app decimal-page game-page--decimal",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(B,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Deci-What?"}),e.jsxs("div",{className:"game-shell__controls controls",children:[e.jsx("label",{htmlFor:"level",children:"Level"}),e.jsxs("select",{id:"level",defaultValue:"easy20",children:[e.jsx("option",{value:"easy20",children:"Easy .20 — words to number"}),e.jsx("option",{value:"easy25",children:"Easy .25 — words to number"}),e.jsx("option",{value:"easy30",children:"Easy .30 — words to number"}),e.jsx("option",{value:"medium",children:"Medium — add/subtract decimals"}),e.jsx("option",{value:"mathamatical",children:"Mathanomical — all ops"})]}),e.jsx("button",{id:"start",onClick:()=>{var l,m;return(m=(l=window.DecimalTetris)==null?void 0:l.startGame)==null?void 0:m.call(l)},children:"Start"}),e.jsx("button",{id:"pause",disabled:!0,onClick:()=>{var l,m;return(m=(l=window.DecimalTetris)==null?void 0:l.togglePause)==null?void 0:m.call(l)},children:"Pause"})]})]}),e.jsxs("section",{className:"settings-row",children:[e.jsxs("div",{className:"grid-controls",children:[e.jsxs("label",{children:["Columns",e.jsx("input",{id:"colsInput",type:"number",min:"8",max:"24",step:"1",defaultValue:"15"})]}),e.jsxs("label",{children:["Rows",e.jsx("input",{id:"rowsInput",type:"number",min:"10",max:"30",step:"1",defaultValue:"15"})]}),e.jsxs("label",{children:["Cell size",e.jsx("input",{id:"cellSizeInput",type:"range",min:"20",max:"48",step:"1",defaultValue:"28"})]}),e.jsx("button",{id:"applyGridBtn",children:"Apply Grid"}),e.jsxs("div",{className:"grid-info",children:["Grid: ",e.jsx("span",{id:"gridPreview",children:"15×18 @28px"})]})]}),e.jsxs("div",{className:"palette-controls",children:[e.jsx("div",{className:"palette-title",children:"Block color (choose one of 50 acrylics)"}),e.jsx("div",{id:"palette",className:"palette",role:"list"}),e.jsxs("div",{className:"selected-color",children:["Selected:",e.jsx("span",{id:"selectedColorPreview",className:"color-swatch"})]})]})]}),e.jsxs("section",{className:"status-row",children:[e.jsxs("div",{className:"score",children:["Score: ",e.jsx("span",{id:"score",children:"0"})]}),e.jsxs("div",{className:"timer",children:["Time: ",e.jsx("span",{id:"timer",children:"0.0"}),"s"]}),e.jsxs("div",{className:"streak",children:["Streak: x",e.jsx("span",{id:"streak",children:"0"})]})]}),e.jsxs("section",{className:"problem-area game-shell__body",children:[e.jsxs("div",{className:"side-panel game-shell__panel",children:[e.jsxs("div",{className:"game-controls",children:[e.jsx("div",{className:"typed",children:e.jsx("input",{id:"answerInput",placeholder:"Type numeric answer and press Enter"})}),e.jsx("div",{className:"feedback",id:"feedback"})]}),e.jsx("div",{className:"prompt",id:"prompt",children:"Press Start to begin."}),e.jsx("div",{className:"hint",id:"hint"}),e.jsx("div",{className:"legend",children:"Click a full row to solve. Type the numeric value of the word + decimal shown."})]}),e.jsx("div",{className:"board-panel game-shell__board",children:e.jsx("div",{id:"canvasAnchor",className:"canvas-anchor"})})]}),e.jsx("footer",{children:e.jsx("small",{children:"Designed for learning decimal reading and operations. Block color is selectable."})})]})}const zt="/Math-isn-t-Lame/";function ka(){const[l,m]=C.useState(null),[c,h]=C.useState(!1),s=[{src:`${zt}js/howtoplay.js`,key:"howtoplay"},{src:`${zt}js/howto-benny.js`,key:"howto-benny"}];return da(s),C.useEffect(()=>{let p=!0;return(async()=>{try{window.__HowToPlayInit||await new Promise(j=>setTimeout(j,200))}catch(j){p&&m(`Failed to load HowToPlay: ${j.message}`);return}p&&(h(!0),console.log("[HowToPlay] Page initialized"))})(),()=>{p=!1}},[]),C.useEffect(()=>()=>{window.__HowToPlayCleanup&&(console.log("[HowToPlay] Running cleanup"),window.__HowToPlayCleanup())},[]),l?e.jsx("div",{className:"background error-page",children:e.jsx("header",{className:"howto-header",children:e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:l}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Reload"})]})})}):e.jsxs("div",{className:"background",children:[e.jsx("header",{className:"howto-header",children:e.jsxs("div",{className:"hero-card small",children:[e.jsx("h1",{children:"Few Rules from the dev"}),e.jsx("p",{className:"tagline",children:"Play fair, avoid calculators, and have fun learning. This world is about steady progress, not rushing the answer."}),e.jsx("button",{id:"throwBallBtn",className:"throw-btn",type:"button",children:"Throw Benny's Ball"})]})}),e.jsxs("main",{className:"campfire-scene","aria-label":"Campfire scene",children:[e.jsxs("section",{className:"campfire-stage","aria-label":"Campfire characters",children:[e.jsx("div",{className:"campfire",children:e.jsx("canvas",{id:"fireCanvas",width:"420",height:"260"})}),e.jsxs("div",{className:"booiiii","aria-label":"Mr. Boooiiii",children:[e.jsxs("div",{className:"hat",children:[e.jsx("div",{className:"hat-brim"}),e.jsx("span",{className:"dot"}),e.jsx("div",{className:"hat-top"})]}),e.jsxs("div",{className:"head",children:[e.jsx("span",{className:"eye"}),e.jsx("span",{className:"eye"}),e.jsx("span",{className:"mouth"})]}),e.jsxs("div",{className:"collar",children:[e.jsx("span",{className:"collar-left"}),e.jsx("span",{className:"collar-right"})]}),e.jsxs("div",{className:"torso",children:[e.jsx("span",{className:"torso-left"}),e.jsx("span",{className:"torso-right"})]}),e.jsxs("div",{className:"arms",children:[e.jsx("span",{className:"arm left"}),e.jsx("span",{className:"arm right"}),e.jsx("span",{className:"hand left"}),e.jsx("span",{className:"hand right"})]}),e.jsxs("div",{className:"lap-top",children:[e.jsx("span",{className:"laptop-back"}),e.jsx("span",{className:"laptop-seat"})]}),e.jsx("div",{className:"radius"}),e.jsx("span",{className:"radius one"}),e.jsx("span",{className:"radius two"}),e.jsxs("div",{className:"legs",children:[e.jsx("span",{className:"leg left"}),e.jsx("span",{className:"leg right"}),e.jsx("span",{className:"foot left"}),e.jsx("span",{className:"foot right"})]})]}),e.jsx("div",{className:"howto-benny","aria-label":"Benny",children:e.jsx("div",{className:"benny-base",children:e.jsxs("div",{className:"benny-shape",children:[e.jsx("div",{className:"back"}),e.jsx("div",{className:"leg-left"}),e.jsx("div",{className:"leg-right"}),e.jsx("div",{className:"head"})]})})})]}),e.jsxs("section",{className:"instructions","aria-label":"Quick tips",children:[e.jsx("h2",{children:"Quick Tips"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Math Pup: click the correct zombie or type the answer."}),e.jsx("li",{children:"Capture: solve the fraction prompt and pop the right bubble."}),e.jsx("li",{children:"Deci-What?: fill a row and solve it to clear."})]}),e.jsx(B,{id:"backLink",to:"/",className:"back-link",children:"Back Home"})]})]}),e.jsx("div",{id:"nightOverlay"})]})}function Ca(){return e.jsxs("main",{className:"about-page",children:[e.jsx(B,{to:"/",className:"back-link",children:"Back"}),e.jsxs("header",{className:"about-hero",children:[e.jsx("h1",{children:"About"}),e.jsxs("p",{className:"about-subtitle",children:["Welcome to a platform for anyone. ",e.jsx("br",{}),"No matter where your from you can practice math and maybe have some fun ",e.jsx("br",{}),"Play with numbers and words that confuse the soul, ",e.jsx("br",{}),"fractions and decimals even santa doesn't know ",e.jsx("br",{}),"can you take your self serious and reach the goal? become a math wiz and maybe just maybe Mathanomical!"]})]}),e.jsxs("section",{className:"about-section",children:[e.jsx("h2",{children:"Mission"}),e.jsxs("p",{children:["Get better at basic and somewhat complex math. 2 sides here. One side a game. the other side a tool for parents and teachers.",e.jsx("br",{}),e.jsx("mark",{children:" have fun.... duh!"})]})]}),e.jsxs("section",{className:"about-section",children:[e.jsx("h2",{children:"Team"}),e.jsx("p",{children:" I would really like to get a team of like minded people to work on this project with me. If you're interested in building this with me email me daquota92@gmail.com "})]})]})}const Sa="/Math-isn-t-Lame/";function Ma(){const{loadScript:l}=gt(`${Sa}js/mathsynth.js`,"mathsynth"),[m,c]=C.useState(null),[h,s]=C.useState(!1);return C.useEffect(()=>{let p=!0;return(async()=>{if(!window.MathSynth)try{await l(),await new Promise(j=>setTimeout(j,100))}catch(j){p&&c(`Failed to load MathSynth: ${j.message}`);return}p&&(s(!0),console.log("[MathSynth] Game initialized"))})(),()=>{p=!1}},[l]),C.useEffect(()=>()=>{window.__MathSynthCleanup&&(console.log("[MathSynth] Running cleanup"),window.__MathSynthCleanup())},[]),m?e.jsxs("main",{className:"game-shell app mathsynth game-page--mathsynth error-page",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(B,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Ma+h 5Yn+h3"})]}),e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:m}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Reload"})]})]}):e.jsxs("main",{className:"game-shell app mathsynth game-page--mathsynth",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(B,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Ma+h 5Yn+h3"}),e.jsxs("div",{className:"game-shell__controls controls",children:[e.jsx("label",{htmlFor:"mathSynthLevel",className:"sr-only",children:"Level"}),e.jsxs("select",{id:"mathSynthLevel",defaultValue:"easy",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical"})]}),e.jsx("button",{id:"startMathSynth",onClick:()=>{var p,y;return(y=(p=window.MathSynth)==null?void 0:p.start)==null?void 0:y.call(p)},children:"Start"}),e.jsx("button",{id:"resetMathSynth",type:"button",onClick:()=>{var p,y;return(y=(p=window.MathSynth)==null?void 0:p.reset)==null?void 0:y.call(p)},children:"Reset"}),e.jsxs("div",{className:"mathsynth-grid-note",children:["Grid: ",e.jsx("span",{id:"mathSynthPreview"}),"   Easy: 7×6, Medium: 8×6, Mathanomical: 10×6"]})]})]}),e.jsx("div",{className:"mathsynth-board-name",children:"MathSynth (algebra stuff)"}),e.jsxs("section",{className:"status-row",children:[e.jsxs("div",{className:"score",children:["Score: ",e.jsx("span",{id:"mathSynthScore",children:"0"})]}),e.jsxs("div",{className:"timer",children:["Time left: ",e.jsx("span",{id:"mathSynthTimer",children:"0"}),"s"]}),e.jsxs("div",{className:"streak",children:["Best: ",e.jsx("span",{id:"mathSynthBest",children:"--"})]})]}),e.jsxs("section",{className:"problem-area game-shell__body",children:[e.jsxs("div",{className:"side-panel game-shell__panel",children:[e.jsx("div",{className:"prompt",id:"mathSynthPrompt",children:"Press Start to begin."}),e.jsx("div",{className:"hint",id:"mathSynthFeedback"}),e.jsx("div",{className:"mathsynth-hint",children:"Solve each equation for x. Correct answers lock the cell and give -1 point. The best score is the lowest number with the most time left. Oh yea watch out for the others (Mr. Boooiiii's bill collectors)!"}),e.jsxs("div",{className:"mathsynth-clues",children:[e.jsx("div",{className:"mathsynth-label",children:"Warm up problems"}),e.jsx("div",{id:"mathSynthEquations",className:"mathsynth-equations"}),e.jsxs("div",{className:"mathsynth-quote",children:[`just ask yourself, "What's the next right choice?"`,e.jsx("br",{}),"If x = your best self, then I believe in you. -Mr. Boooiiii-"]})]})]}),e.jsxs("div",{className:"board-panel game-shell__board",children:[e.jsx("div",{id:"mathSynthOthers",className:"mathsynth-others","aria-live":"polite"}),e.jsx("div",{id:"mathSynthBoard",className:"mathsynth-board"}),e.jsxs("div",{className:"palette-controls",children:[e.jsx("div",{className:"palette-title",children:"Board colors"}),e.jsx("div",{id:"mathSynthPalette",className:"palette",role:"list"}),e.jsxs("div",{className:"selected-color",children:["Selected:",e.jsx("span",{id:"mathSynthColorPreview",className:"color-swatch"})]}),e.jsxs("div",{className:"grid-info",children:["Colors unlocked: ",e.jsx("span",{id:"mathSynthColorInfo",children:"0"}),"/50"]})]})]})]}),e.jsx("footer",{children:e.jsx("small",{children:"MathSynth blends algebra with a crossword-style grid."})})]})}const Oe=[{id:"solid-01",name:"Sky",type:"solid",primary:"#7dd3fc"},{id:"tone-01",name:"Mint/Lime",type:"tone",primary:"#6ee7b7",secondary:"#a3e635"},{id:"solid-02",name:"Lavender",type:"solid",primary:"#c4b5fd"},{id:"tone-02",name:"Ocean/Blue",type:"tone",primary:"#38bdf8",secondary:"#2563eb"},{id:"solid-03",name:"Sunshine",type:"solid",primary:"#fde047"},{id:"tone-03",name:"Blush/Coral",type:"tone",primary:"#f9a8d4",secondary:"#fb7185"},{id:"solid-04",name:"Mint",type:"solid",primary:"#5eead4"},{id:"tone-04",name:"Berry/Plum",type:"tone",primary:"#f472b6",secondary:"#a855f7"},{id:"solid-05",name:"Lime",type:"solid",primary:"#a3e635"},{id:"tone-05",name:"Teal/Blue",type:"tone",primary:"#22d3ee",secondary:"#0ea5e9"},{id:"solid-06",name:"Rose",type:"solid",primary:"#fb7185"},{id:"tone-06",name:"Berry/Sun",type:"tone",primary:"#f472b6",secondary:"#facc15"},{id:"solid-07",name:"Blue",type:"solid",primary:"#60a5fa"},{id:"tone-07",name:"Grape/Indigo",type:"tone",primary:"#818cf8",secondary:"#4f46e5"},{id:"solid-08",name:"Spring",type:"solid",primary:"#86efac"},{id:"tone-08",name:"Ice/Lavender",type:"tone",primary:"#a5b4fc",secondary:"#e0f2fe"},{id:"solid-09",name:"Bubblegum",type:"solid",primary:"#f9a8d4"},{id:"tone-09",name:"Lemon/Lime",type:"tone",primary:"#fde047",secondary:"#bef264"},{id:"solid-10",name:"Soft Gray",type:"solid",primary:"#cbd5f5"},{id:"tone-10",name:"Cloud/Blue",type:"tone",primary:"#e2e8f0",secondary:"#93c5fd"},{id:"solid-11",name:"Minty Blue",type:"solid",primary:"#7dd3fc"},{id:"tone-11",name:"Aqua/Mint",type:"tone",primary:"#2dd4bf",secondary:"#99f6e4"},{id:"solid-12",name:"Grape",type:"solid",primary:"#c084fc"},{id:"tone-12",name:"Lilac/Rose",type:"tone",primary:"#d8b4fe",secondary:"#fda4af"},{id:"solid-13",name:"Coral",type:"solid",primary:"#fb7185"},{id:"tone-13",name:"Kiwi/Green",type:"tone",primary:"#bef264",secondary:"#4ade80"},{id:"solid-14",name:"Ice Blue",type:"solid",primary:"#bae6fd"},{id:"tone-14",name:"Sky/Indigo",type:"tone",primary:"#60a5fa",secondary:"#6366f1"},{id:"solid-15",name:"Periwinkle",type:"solid",primary:"#a5b4fc"},{id:"tone-15",name:"Mint/Teal",type:"tone",primary:"#5eead4",secondary:"#14b8a6"},{id:"solid-16",name:"Sunbeam",type:"solid",primary:"#fde68a"},{id:"tone-16",name:"Pink/Coral",type:"tone",primary:"#fda4af",secondary:"#fb7185"},{id:"solid-17",name:"Cool Blue",type:"solid",primary:"#93c5fd"},{id:"tone-17",name:"Lime/Teal",type:"tone",primary:"#a3e635",secondary:"#2dd4bf"},{id:"solid-18",name:"Soft Plum",type:"solid",primary:"#d8b4fe"},{id:"tone-18",name:"Sky/Mint",type:"tone",primary:"#7dd3fc",secondary:"#6ee7b7"},{id:"solid-19",name:"Seafoam",type:"solid",primary:"#99f6e4"},{id:"tone-19",name:"Berry/Sky",type:"tone",primary:"#f472b6",secondary:"#60a5fa"},{id:"solid-20",name:"Sunny",type:"solid",primary:"#facc15"},{id:"tone-20",name:"Cool Mint",type:"tone",primary:"#5eead4",secondary:"#38bdf8"},{id:"solid-21",name:"Twilight",type:"solid",primary:"#a78bfa"},{id:"tone-21",name:"Blue/Teal",type:"tone",primary:"#3b82f6",secondary:"#14b8a6"},{id:"solid-22",name:"Spring Leaf",type:"solid",primary:"#4ade80"},{id:"tone-22",name:"Lilac/Ice",type:"tone",primary:"#c4b5fd",secondary:"#bae6fd"},{id:"solid-23",name:"Blush",type:"solid",primary:"#fda4af"},{id:"tone-23",name:"Mint/Sky",type:"tone",primary:"#5eead4",secondary:"#38bdf8"},{id:"solid-24",name:"Cool Mint",type:"solid",primary:"#2dd4bf"},{id:"tone-24",name:"Sun/Lav",type:"tone",primary:"#fde047",secondary:"#c4b5fd"},{id:"solid-25",name:"Powder",type:"solid",primary:"#e2e8f0"},{id:"tone-25",name:"Rose/Mint",type:"tone",primary:"#fb7185",secondary:"#6ee7b7"}],Ia=["Easy","Easy25","Easy50","Easy75"],$a=["Medium","Medium26","Medium60","Medium100"],xt=[{id:1,name:"Starter Pup",power:"Subtraction eyes",points:0,streak:0},{id:2,name:"Greater Signs",power:"Greater-than blast",points:3e3,streak:3,requires:Ia},{id:3,name:"Arrow Blaster",power:"Arrow keys + space",points:6e3,streak:5,requires:$a},{id:4,name:"Lightsaber Pup",power:"Lightsaber cut",points:12e3,streak:6},{id:5,name:"Viral Driver",power:"Viral driver clip",points:24e3,streak:8},{id:6,name:"Nuclear Gauge",power:"Gamma / neutron beam",points:36e3,streak:10},{id:7,name:"Doctor Spray",power:"Disinfectant spray",points:48e3,streak:12},{id:8,name:"Dogko RKO",power:"Dogko finisher",points:6e4,streak:14},{id:9,name:"Mythic Pup",power:"Mythic finisher",points:8e4,streak:16},{id:10,name:"Mathtality",power:"All zombies cleared",points:1e5,streak:18}];function Ea(l){if(!l)return null;const m=localStorage.getItem(`mathpop_profile_stats_${l}`);if(!m)return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],games:{}};try{const c=JSON.parse(m);return{totalPoints:Number(c.totalPoints)||0,totalCorrect:Number(c.totalCorrect)||0,totalAttempted:Number(c.totalAttempted)||0,pupStreakRecord:Number(c.pupStreakRecord)||0,levelsCompleted:Array.isArray(c.levelsCompleted)?c.levelsCompleted:[],games:c.games&&typeof c.games=="object"?c.games:{}}}catch{return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],games:{}}}}function Aa(l){if(!l)return 0;const m=`mathpop_highscore_${l}_`;let c=0;return Object.keys(localStorage).forEach(h=>{if(!h.startsWith(m))return;const s=parseInt(localStorage.getItem(h)||"0",10);s>c&&(c=s)}),c}function It(l){return l.type==="tone"?`linear-gradient(135deg, ${l.primary} 0%, ${l.primary} 50%, ${l.secondary} 50%, ${l.secondary} 100%)`:l.primary}function Pa(){var de,Ke,X,ye,me,q,W,O,ce,xe,ae,ie,F,le,H,ge,Ee,Ae,Pe,Q,ue,he,ze,ee,Ye,be,Be,at,ve,Re,We,_e,qe,Qe,et,Ie,Te,Le,Fe;const[l,m]=C.useState(0),c=C.useMemo(()=>localStorage.getItem("mathpop_current_user"),[]),h=C.useMemo(()=>{if(!c)return null;const o=localStorage.getItem(`mathpop_profile_${c}`);return o?JSON.parse(o):null},[c,l]),s=C.useMemo(()=>Ea(c),[c,l]);if(!c||!h||!s)return e.jsxs("main",{className:"profile-page",children:[e.jsxs("header",{className:"profile-header",children:[e.jsx("h1",{children:"Profile"}),e.jsx("p",{className:"profile-subtitle",children:"Sign in to view your progress."})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("p",{children:"No profile found. Head back to the home page to sign in."}),e.jsx(B,{to:"/",className:"profile-link",children:"Back to Home"})]})]});const p=s.totalAttempted||0,y=s.totalCorrect||0,j=p?Math.round(y/p*100):0,v=s.totalPoints||0,E=Math.max(0,v),A=s.levelsCompleted||[],G=s.pupStreakRecord||0,T=Array.isArray(s.tierUnlocks)?s.tierUnlocks:[],z=Number(s.activeTier)||1,ne=Aa(c),re=(()=>{const o=localStorage.getItem("mathsynth-best");if(!o)return null;try{return JSON.parse(o)}catch{return null}})(),pe=((Ke=(de=s.games)==null?void 0:de.mathpup)==null?void 0:Ke.points)||0,N=Math.min(Math.floor(pe/2500),Oe.length),R=localStorage.getItem(`mathpup_benny_color_${c}`)||Oe[0].id,k=Oe.find(o=>o.id===R)||Oe[0],$e=o=>!o.requires||o.requires.length===0?!0:o.requires.every(S=>A.includes(S)),Ce=o=>o.id===1?!0:T.includes(o.id),fe=[...xt].reverse().find(Ce)||xt[0],oe=o=>!(Ce(o)||!$e(o)||E<o.points),Se=o=>Ce(o),K=o=>{var st;if(!c||!s||!oe(o))return;const S=(st=window.math)==null?void 0:st.evaluate,Z=S?Number(S(`${v}-${o.points}`)):v-o.points,Ge={...s,totalPoints:Math.max(0,Z),tierUnlocks:[...T,o.id]};localStorage.setItem(`mathpop_profile_stats_${c}`,JSON.stringify(Ge)),m(tt=>tt+1)},Y=o=>{if(!c||!s||!Se(o))return;const S={...s,activeTier:o.id};localStorage.setItem(`mathpop_profile_stats_${c}`,JSON.stringify(S)),m(Z=>Z+1)},f=[{id:"mathpup",title:"Math Pup",stats:{points:((ye=(X=s.games)==null?void 0:X.mathpup)==null?void 0:ye.points)||0,correct:((q=(me=s.games)==null?void 0:me.mathpup)==null?void 0:q.correct)||0,attempted:((O=(W=s.games)==null?void 0:W.mathpup)==null?void 0:O.attempted)||0,bestScore:ne,streakRecord:((xe=(ce=s.games)==null?void 0:ce.mathpup)==null?void 0:xe.streakRecord)||0,levels:((F=(ie=(ae=s.games)==null?void 0:ae.mathpup)==null?void 0:ie.levelsCompleted)==null?void 0:F.length)||0}},{id:"capture",title:"Capture The Fraction",stats:{points:((H=(le=s.games)==null?void 0:le.capture)==null?void 0:H.points)||0,correct:((Ee=(ge=s.games)==null?void 0:ge.capture)==null?void 0:Ee.correct)||0,attempted:((Pe=(Ae=s.games)==null?void 0:Ae.capture)==null?void 0:Pe.attempted)||0,bestScore:((ue=(Q=s.games)==null?void 0:Q.capture)==null?void 0:ue.bestScore)||0,streakRecord:((ze=(he=s.games)==null?void 0:he.capture)==null?void 0:ze.streakRecord)||0}},{id:"decimal",title:"Deci-What?",stats:{points:((Ye=(ee=s.games)==null?void 0:ee.decimal)==null?void 0:Ye.points)||0,correct:((Be=(be=s.games)==null?void 0:be.decimal)==null?void 0:Be.correct)||0,attempted:((ve=(at=s.games)==null?void 0:at.decimal)==null?void 0:ve.attempted)||0,bestScore:((We=(Re=s.games)==null?void 0:Re.decimal)==null?void 0:We.bestScore)||0,streakRecord:((qe=(_e=s.games)==null?void 0:_e.decimal)==null?void 0:qe.streakRecord)||0}},{id:"mathsynth",title:"Ma+h5Yn+h3",stats:{points:((et=(Qe=s.games)==null?void 0:Qe.mathsynth)==null?void 0:et.points)||0,correct:((Te=(Ie=s.games)==null?void 0:Ie.mathsynth)==null?void 0:Te.correct)||0,attempted:((Fe=(Le=s.games)==null?void 0:Le.mathsynth)==null?void 0:Fe.attempted)||0,bestScore:re?re.score:"--",timeLeft:re?re.timeLeft:"--"}}],P=C.useMemo(()=>{const o={};return f.forEach(S=>{o[S.id]=S}),o},[f]),L=f.map(o=>({id:o.id,title:o.title})),[_,U]=C.useState({points:"mathpup",correct:"mathpup",attempted:"mathpup",accuracy:"mathpup",levels:"mathpup",streak:"mathpup",colors:"mathpup",tiers:"mathpup"}),V=(o,S)=>{U(Z=>({...Z,[o]:S}))},M=o=>{var S;return((S=P[o])==null?void 0:S.stats)||{}},Me=o=>{const S=o.attempted||0,Z=o.correct||0;return S?Math.round(Z/S*100):0};return e.jsxs("main",{className:"profile-page",children:[e.jsxs("header",{className:"profile-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:h.username}),e.jsx("p",{className:"profile-subtitle",children:"Profile dashboard"})]}),e.jsxs("div",{className:"profile-actions",children:[e.jsx(B,{to:"/",className:"profile-link",children:"Home"}),e.jsx(B,{to:"/list",className:"profile-link",children:"Games"})]})]}),e.jsxs("section",{className:"profile-mobile-grid","aria-label":"Mobile game stats",children:[e.jsxs("div",{className:"profile-box benny-colors-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Total Points"}),e.jsx("select",{value:_.points,onChange:o=>V("points",o.target.value),children:L.map(o=>e.jsx("option",{value:o.id,children:o.title},o.id))})]}),e.jsx("p",{className:"metric",children:M(_.points).points||0})]}),e.jsxs("div",{className:"profile-box benny-powers-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Total Correct"}),e.jsx("select",{value:_.correct,onChange:o=>V("correct",o.target.value),children:L.map(o=>e.jsx("option",{value:o.id,children:o.title},o.id))})]}),e.jsx("p",{className:"metric",children:M(_.correct).correct||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Total Attempted"}),e.jsx("select",{value:_.attempted,onChange:o=>V("attempted",o.target.value),children:L.map(o=>e.jsx("option",{value:o.id,children:o.title},o.id))})]}),e.jsx("p",{className:"metric",children:M(_.attempted).attempted||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Accuracy"}),e.jsx("select",{value:_.accuracy,onChange:o=>V("accuracy",o.target.value),children:L.map(o=>e.jsx("option",{value:o.id,children:o.title},o.id))})]}),e.jsxs("p",{className:"metric",children:[Me(M(_.accuracy)),"%"]})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Levels Completed"}),e.jsx("select",{value:_.levels,onChange:o=>V("levels",o.target.value),children:L.map(o=>e.jsx("option",{value:o.id,children:o.title},o.id))})]}),e.jsx("p",{className:"metric",children:M(_.levels).levels||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Pup Streak Record"}),e.jsx("select",{value:_.streak,onChange:o=>V("streak",o.target.value),children:L.map(o=>e.jsx("option",{value:o.id,children:o.title},o.id))})]}),e.jsx("p",{className:"metric",children:M(_.streak).streakRecord||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Benny Colors"}),e.jsx("select",{value:_.colors,onChange:o=>V("colors",o.target.value),children:L.map(o=>e.jsx("option",{value:o.id,children:o.title},o.id))})]}),_.colors==="mathpup"?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"profile-subtitle",children:["Unlocked colors: ",N,"/",Oe.length]}),e.jsx("div",{className:"benny-colors",children:Oe.map((o,S)=>{const Z=S<N;return e.jsx("span",{className:`benny-color ${Z?"unlocked":"locked"}`,title:o.name,style:{background:It(o)}},o.id)})})]}):e.jsx("p",{className:"profile-subtitle",children:"Only Math Pup"})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Benny Powers"}),e.jsx("select",{value:_.tiers,onChange:o=>V("tiers",o.target.value),children:L.map(o=>e.jsx("option",{value:o.id,children:o.title},o.id))})]}),_.tiers==="mathpup"?e.jsx("div",{className:"tier-track",children:xt.map(o=>{const S=Ce(o);return e.jsxs("div",{className:`tier-card ${S?"unlocked":"locked"}${z===o.id?" active":""}`,children:[e.jsxs("h3",{children:["Tier ",o.id]}),e.jsx("p",{className:"tier-name",children:o.name})]},o.id)})}):e.jsx("p",{className:"profile-subtitle",children:"Only Math Pup"})]})]}),e.jsxs("section",{className:"profile-metrics",children:[e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Total Points"}),e.jsx("p",{className:"metric",children:v})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Total Correct"}),e.jsx("p",{className:"metric",children:y})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Total Attempted"}),e.jsx("p",{className:"metric",children:p})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Accuracy"}),e.jsxs("p",{className:"metric",children:[j,"%"]})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Levels Completed"}),e.jsx("p",{className:"metric",children:A.length})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Pup Streak Record"}),e.jsx("p",{className:"metric",children:G})]})]}),e.jsxs("section",{className:"profile-lower",children:[e.jsxs("div",{className:"profile-benny",children:[e.jsxs("div",{className:"profile-card benny-card",children:[e.jsxs("div",{className:"benny-card-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Benny Sum"}),e.jsxs("p",{className:"profile-subtitle",children:["Current tier: ",fe.name]})]}),e.jsx("div",{className:"benny-color-preview",style:{background:It(k)},"aria-label":"Benny color"})]}),e.jsxs("p",{className:"benny-meta",children:["Unlocked colors: ",N,"/",Oe.length," (2500 pts each)"]}),e.jsx("div",{className:"benny-colors",children:Oe.map((o,S)=>{const Z=S<N;return e.jsx("span",{className:`benny-color ${Z?"unlocked":"locked"}`,title:o.name,style:{background:It(o)}},o.id)})})]}),e.jsxs("div",{className:"profile-card benny-tiers",children:[e.jsx("h2",{children:"Benny Tiers"}),e.jsx("div",{className:"tier-track",children:xt.map(o=>{const S=Ce(o),Z=$e(o);return oe(o),e.jsxs("div",{className:`tier-card ${S?"unlocked":"locked"}${z===o.id?" active":""}`,role:"button",tabIndex:S?0:-1,onClick:()=>Y(o),onKeyDown:Ge=>{(Ge.key==="Enter"||Ge.key===" ")&&Y(o)},children:[e.jsxs("h3",{children:["Tier ",o.id]}),e.jsx("p",{className:"tier-name",children:o.name}),e.jsx("p",{className:"tier-power",children:o.power}),e.jsxs("p",{className:"tier-req",children:["Points: ",o.points]}),e.jsxs("p",{className:"tier-req",children:["Pup streak: ",o.streak]}),o.requires&&o.requires.length>0&&e.jsxs("p",{className:"tier-req tier-requires","aria-label":"Level requirements",children:["Requires: ",o.requires.join(", ")]}),!S&&!Z&&o.requires&&e.jsx("p",{className:"tier-locked-reason",children:"Complete required levels first"}),!S&&Z&&e.jsxs("span",{className:"tier-ticket",children:["Ticket price: ",o.points," pts"]}),o.id===8&&S&&e.jsxs("div",{className:"tier-freeze-frame","aria-label":"Benny Dog KO freeze frame",children:[e.jsx("span",{className:"ff-benny"}),e.jsx("span",{className:"ff-zombie"}),e.jsx("span",{className:"ff-impact"})]}),oe(o)&&e.jsxs("button",{type:"button",className:"tier-buy",onClick:()=>K(o),children:["Unlock ",o.name]})]},o.id)})})]})]}),e.jsxs("section",{className:"profile-card profile-games",children:[e.jsx("h2",{children:"Game Stats"}),e.jsx("div",{className:"game-card-track",children:f.map(o=>{const S=o.stats.attempted||0,Z=o.stats.correct||0,Ge=S?Math.round(Z/S*100):0;return e.jsxs("div",{className:"profile-card game-card",children:[e.jsx("h3",{children:o.title}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Points"}),e.jsx("span",{children:o.stats.points})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Correct"}),e.jsx("span",{children:Z})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Attempted"}),e.jsx("span",{children:S})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Accuracy"}),e.jsxs("span",{children:[Ge,"%"]})]}),"levels"in o.stats&&e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Levels Completed"}),e.jsx("span",{children:o.stats.levels})]}),"streakRecord"in o.stats&&e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Streak Record"}),e.jsx("span",{children:o.stats.streakRecord})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Best"}),e.jsx("span",{children:o.stats.bestScore})]}),"timeLeft"in o.stats&&e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Best Time"}),e.jsxs("span",{children:[o.stats.timeLeft,"s"]})]})]},o.id)})})]})]})]})}const Ba="/Math-isn-t-Lame/";function Ra(){return gt("https://cdn.babylonjs.com/babylon.js","babylon"),gt(`${Ba}js/bennyworld.js`,"bennyworld"),C.useEffect(()=>()=>{window.__BennyWorldCleanup&&window.__BennyWorldCleanup(),window.__BennyWorldBabylonCleanup&&window.__BennyWorldBabylonCleanup()},[]),e.jsxs("main",{className:"benny-world",id:"bennyWorldRoot",children:[e.jsxs("header",{className:"bw-header",children:[e.jsx(B,{className:"back-link",to:"/list",children:"Back"}),e.jsx("h1",{children:"Benny World"}),e.jsx("div",{className:"bw-level",id:"bwLevelLabel",children:"Level 1"})]}),e.jsxs("section",{className:"bw-hud",children:[e.jsx("div",{className:"bw-stat",id:"bwPoints",children:"Points: 0"}),e.jsx("div",{className:"bw-stat",id:"bwDash",children:"Dash: 0m"}),e.jsx("div",{className:"bw-stat",id:"bwStatus",children:"Run to the star!"}),e.jsxs("label",{className:"bw-difficulty",htmlFor:"bwDifficulty",children:["Difficulty",e.jsxs("select",{id:"bwDifficulty",defaultValue:"mathanomical",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical"})]})]})]}),e.jsxs("section",{className:"bw-stage",children:[e.jsx("div",{id:"bennyWorldArea",className:"bw-area","aria-label":"Benny World playfield",children:e.jsx("canvas",{id:"bwBabylon",className:"bw-babylon","aria-hidden":"true"})}),e.jsx("div",{id:"bwGameOver",className:"bw-gameover","aria-live":"polite"}),e.jsx("div",{id:"bwMessage",className:"bw-message","aria-live":"polite"})]}),e.jsxs("div",{className:"bw-controls",id:"bwControls",children:[e.jsx("button",{className:"bw-move",id:"bwLeft",type:"button","aria-label":"Move left",children:"◀"}),e.jsx("button",{className:"bw-move",id:"bwJump",type:"button","aria-label":"Jump",children:"Jump"}),e.jsx("button",{className:"bw-move",id:"bwRight",type:"button","aria-label":"Move right",children:"▶"}),e.jsx("button",{className:"bw-move",id:"bwGlide",type:"button","aria-label":"Glide",children:"Glide"})]})]})}function Wa(){const l=qn(),m=l.pathname!=="/"&&l.pathname!=="/mathsynth"&&l.pathname!=="/about",c=["/game","/capture","/decimal","/bennyworld"].includes(l.pathname),h=l.pathname==="/list",s=l.pathname==="/howto",p=l.pathname==="/profile",y=h||c||s||p;return e.jsxs(e.Fragment,{children:[m&&e.jsxs("nav",{className:"app-nav",children:[!c&&e.jsx(B,{to:"/",className:"app-logo","aria-label":"Home",children:e.jsxs("span",{className:"desk-logo",children:[e.jsx("span",{className:"back"}),e.jsx("span",{className:"seat"}),e.jsx("span",{className:"leg-left"}),e.jsx("span",{className:"leg-right"}),e.jsx("span",{className:"desk"})]})}),!y&&e.jsx(B,{to:"/howto",children:"How to Play"}),!y&&e.jsx("button",{className:"nav-back",onClick:()=>history.length>1?history.back():window.location.href="/",children:"Back"}),!y&&e.jsx(B,{to:"/game",children:"Math Pup"}),!y&&e.jsx(B,{to:"/capture",children:"Capture"}),!y&&e.jsx(B,{to:"/decimal",children:"Deci-What?"}),!y&&e.jsx(B,{to:"/mathsynth",children:"Ma+h5Yn+h3"}),!y&&e.jsx(B,{to:"/about",children:"About"}),!y&&e.jsx(B,{to:"/list",children:"Games"}),!y&&e.jsx(B,{to:"/",children:"Home"})]}),e.jsx("main",{children:e.jsxs(Jn,{children:[e.jsx(Ne,{path:"/",element:e.jsx(sa,{})}),e.jsx(Ne,{path:"/game",element:e.jsx(oa,{})}),e.jsx(Ne,{path:"/capture",element:e.jsx(ua,{})}),e.jsx(Ne,{path:"/decimal",element:e.jsx(Na,{})}),e.jsx(Ne,{path:"/mathsynth",element:e.jsx(Ma,{})}),e.jsx(Ne,{path:"/bennyworld",element:e.jsx(Ra,{})}),e.jsx(Ne,{path:"/list",element:e.jsx(ca,{})}),e.jsx(Ne,{path:"/profile",element:e.jsx(Pa,{})}),e.jsx(Ne,{path:"/howto",element:e.jsx(ka,{})}),e.jsx(Ne,{path:"/about",element:e.jsx(Ca,{})})]})})]})}tn(document.getElementById("root")).render(e.jsx(Un.StrictMode,{children:e.jsx(Xn,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(Wa,{})})}));
