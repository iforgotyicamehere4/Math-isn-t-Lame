import{r as $,a as Yn,u as zn,L as D,b as qn,R as Xn,c as _e,d as Qn,B as ea}from"./vendor-CV00cFDn.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))p(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&p(m)}).observe(document,{childList:!0,subtree:!0});function o(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function p(c){if(c.ep)return;c.ep=!0;const f=o(c);fetch(c.href,f)}})();var an={exports:{}},Nt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=$,na=Symbol.for("react.element"),aa=Symbol.for("react.fragment"),sa=Object.prototype.hasOwnProperty,ia=ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ra={key:!0,ref:!0,__self:!0,__source:!0};function sn(i,d,o){var p,c={},f=null,m=null;o!==void 0&&(f=""+o),d.key!==void 0&&(f=""+d.key),d.ref!==void 0&&(m=d.ref);for(p in d)sa.call(d,p)&&!ra.hasOwnProperty(p)&&(c[p]=d[p]);if(i&&i.defaultProps)for(p in d=i.defaultProps,d)c[p]===void 0&&(c[p]=d[p]);return{$$typeof:na,type:i,key:f,ref:m,props:c,_owner:ia.current}}Nt.Fragment=aa;Nt.jsx=sn;Nt.jsxs=sn;an.exports=Nt;var e=an.exports,rn,Qt=Yn;rn=Qt.createRoot,Qt.hydrateRoot;function la(){var Y;const i=$.useRef(null),d=((Y=zn)==null?void 0:Y())||(()=>{window.location.href="/game"}),[o,p]=$.useState(()=>localStorage.getItem("highContrast")==="true"),[c,f]=$.useState(!1),[m,y]=$.useState(""),[v,w]=$.useState(""),[k,R]=$.useState(""),[W,J]=$.useState(!1),[T,V]=$.useState(()=>localStorage.getItem("mathpop_current_user")||null),[z,C]=$.useState(0);$.useEffect(()=>{document.body.classList.toggle("high-contrast",!!o),localStorage.setItem("highContrast",o?"true":"false")},[o]),$.useEffect(()=>{const g=i.current;if(!g)return;const I=requestAnimationFrame(()=>g.classList.add("animate"));return()=>cancelAnimationFrame(I)},[]),$.useEffect(()=>{if(T){const g=parseInt(localStorage.getItem("mathpop_highscore_"+T)||"0",10);C(Number.isNaN(g)?0:g)}else C(0)},[T]);function F(g){if(!(!g||!g.username))try{return localStorage.setItem("mathpop_profile_"+g.username,JSON.stringify(g)),ve(g.username),!0}catch{return alert("Unable to save profile on this device right now."),!1}}function E(g){if(!g)return null;const I=localStorage.getItem("mathpop_profile_"+g);if(!I)return null;try{return JSON.parse(I)}catch{return null}}function ve(g){g?(localStorage.setItem("mathpop_current_user",g),V(g)):(localStorage.removeItem("mathpop_current_user"),V(null))}function ne(g){if(g)try{const I="mathpop_emails",U=JSON.parse(localStorage.getItem(I)||"[]");U.includes(g)||U.push(g),localStorage.setItem(I,JSON.stringify(U)),localStorage.setItem("mathpop_email_compilation",U.join(","))}catch{}}function pe(){try{if(typeof d=="function"){d("/game");return}}catch{}window.location.href="/game"}function le(){if(!m.trim()||!v.trim()||!k){alert("Please fill all fields");return}if(!W){alert("You must accept the disclaimer");return}const g=typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now(),I={username:m.trim(),email:v.trim(),created:g};F(I)&&(localStorage.setItem("mathpop_highscore_"+I.username,localStorage.getItem("mathpop_highscore_"+I.username)||"0"),ne(I.email),f(!1),alert("Profile created — starting game"),setTimeout(pe,200))}function fe(){if(!m.trim()||!v.trim()){alert("Please fill both fields");return}const g=E(m.trim()),I=v.trim().toLowerCase(),U=String((g==null?void 0:g.email)||"").trim().toLowerCase();if(!g||U!==I){alert("No matching profile found");return}ve(m.trim()),f(!1),alert("Signed in — starting game"),setTimeout(pe,200)}function Z(){ve(null),window.location.reload()}return e.jsxs("div",{className:"background",children:[e.jsxs("nav",{children:[e.jsx("div",{className:"logo",children:e.jsxs("span",{className:"desk-logo",children:[e.jsx("span",{className:"back"}),e.jsx("span",{className:"seat"}),e.jsx("span",{className:"leg-left"}),e.jsx("span",{className:"leg-right"}),e.jsx("span",{className:"desk"})]})}),e.jsxs("div",{id:"userArea",className:"user-area",style:{marginLeft:12},children:[e.jsx("span",{id:"usernameDisplay",style:{display:T?"inline":"none"},children:T}),e.jsx("button",{id:"logoutBtn",style:{display:T?"inline-block":"none"},onClick:Z,children:"Logout"})]}),e.jsxs("ul",{className:"nav",style:{listStyle:"none",display:"flex",gap:8,padding:0},children:[e.jsx("li",{children:e.jsx(D,{to:"/howto",children:"How to Play"})}),e.jsx("li",{children:e.jsx(D,{to:"/list",children:"Games"})}),e.jsx("li",{children:e.jsx(D,{to:"/about",children:"About"})}),T&&e.jsx("li",{children:e.jsx(D,{to:"/profile",children:"Profile"})})]})]}),e.jsx("button",{className:"home-benny",type:"button","aria-pressed":o?"true":"false",title:"Toggle high contrast",onClick:()=>p(g=>!g),children:e.jsx("span",{className:"benny-base",children:e.jsxs("span",{className:"benny-shape",children:[e.jsx("span",{className:"back"}),e.jsx("span",{className:"leg-left"}),e.jsx("span",{className:"leg-right"}),e.jsx("span",{className:"head"})]})})}),e.jsx("header",{children:e.jsxs("div",{className:"hero-card",children:[e.jsx("p",{className:"tagline",children:"Math isn't lame — it's an adventure!"}),e.jsxs("div",{className:"hero-actions",id:"heroActions",children:[e.jsx("button",{className:"start-btn",id:"createProfile",onClick:()=>f(!0),children:"Sign Up / Sign In"}),T&&e.jsx(D,{className:"start-btn",style:{marginLeft:8,textDecoration:"none"},to:"/profile",children:"View Profile"}),e.jsx("div",{id:"homeHighScore",style:{marginTop:10,color:"#e9e2e2",fontWeight:700},children:T?`${T} — High Score: ${z}`:"Not signed in"})]})]})}),e.jsx("section",{ref:i,className:"classroom classroom-word","aria-label":"Classroom seating",children:(()=>{const g={M:["10001","11011","10101","10001","10001"],A:["111","101","111","101","101"],T:["111","010","010","010","010"],H:["101","101","111","101","101"],I:["1","1","1","1","1"],S:["111","100","111","001","111"],L:["100","100","100","100","111"]},I=5,U="0",ie="00",Q=H=>{const re=Array.from({length:I},()=>"");return H.forEach((he,Ae)=>{const oe=g[he];if(oe){for(let G=0;G<I;G++)re[G]+=oe[G];if(Ae<H.length-1)for(let G=0;G<I;G++)re[G]+=U}}),re},K=typeof window<"u"?window.innerWidth:1024,S=Q(["M","A","T","H"]),_=Q(["I","S"]),N=Q(["L","I","T"]),q=K<=520?[...S,...Array.from({length:1},()=>"".padEnd(S[0].length,"0")),..._,...Array.from({length:1},()=>"".padEnd(S[0].length,"0")),...N]:S.map((H,re)=>`${H}${ie}${_[re]}${ie}${N[re]}`),Se=[];q.forEach((H,re)=>{H.split("").forEach((he,Ae)=>{he!=="0"&&Se.push({r:re,c:Ae,rotated:he==="2"})})});let ae=26;K<=360?ae=16:K<=420?ae=18:K<=520&&(ae=22);const je=q[0].length*ae,ee=q.length*ae;return e.jsxs("div",{className:"chair-field",style:{"--cell":`${ae}px`,width:`${q[0].length*ae}px`,height:`${q.length*ae}px`},children:[Se.map(H=>{const re=Math.floor(Math.random()*je),he=Math.floor(Math.random()*ee);return e.jsxs("div",{className:`chair${H.rotated?" desk-rotated":""}`,style:{"--start-x":`${re}px`,"--start-y":`${he}px`,"--end-x":`${H.c*ae}px`,"--end-y":`${H.r*ae}px`},children:[e.jsx("div",{className:"back"}),e.jsx("div",{className:"seat"}),e.jsx("div",{className:"leg-left"}),e.jsx("div",{className:"leg-right"}),e.jsx("div",{className:"desk"})]},`${H.r}-${H.c}`)}),e.jsxs("div",{className:"single-desk","aria-hidden":"true",children:[e.jsx("div",{className:"back"}),e.jsx("div",{className:"seat"}),e.jsx("div",{className:"leg-left"}),e.jsx("div",{className:"leg-right"}),e.jsx("div",{className:"desk"})]}),e.jsx("div",{className:"benny-eat","aria-hidden":"true",children:e.jsx("span",{className:"benny-base",children:e.jsxs("span",{className:"benny-shape",children:[e.jsx("span",{className:"back"}),e.jsx("span",{className:"leg-left"}),e.jsx("span",{className:"leg-right"}),e.jsx("span",{className:"head"})]})})})]})})()}),e.jsx("div",{id:"authModal",className:"modal","aria-hidden":c?"false":"true",style:{display:c?"flex":"none"},children:e.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",children:[e.jsx("button",{className:"modal-close",id:"authClose",onClick:()=>f(!1),children:"✕"}),e.jsx("h2",{id:"modalTitle",children:"Sign Up / Sign In"}),e.jsxs("div",{className:"auth-tabs",children:[e.jsx("button",{className:c?"active":"",style:{marginRight:8},onClick:()=>{},children:"Sign Up"}),e.jsx("button",{onClick:()=>{},children:"Sign In"})]}),e.jsxs("form",{className:"auth-form",onSubmit:g=>{g.preventDefault(),le()},children:[e.jsxs("label",{children:["Username",e.jsx("input",{id:"suUsername",required:!0,value:m,onChange:g=>y(g.target.value)})]}),e.jsxs("label",{children:["Email",e.jsx("input",{id:"suEmail",type:"email",required:!0,value:v,onChange:g=>w(g.target.value)})]}),e.jsxs("label",{children:["Password",e.jsx("input",{id:"suPassword",type:"password",required:!0,value:k,onChange:g=>R(g.target.value)})]}),e.jsxs("label",{className:"disclaimer",children:[e.jsx("input",{id:"dataAccept",type:"checkbox",checked:W,onChange:g=>J(g.target.checked)})," I accept the ",e.jsx("strong",{children:"disclaimer"})," below"]}),e.jsxs("div",{className:"disclaimer-box",children:["By signing up you agree that Math isn't Lame. ",e.jsx("br",{}),"✔ No ads or tracking",e.jsx("br",{}),"✔ Stored locally on your device",e.jsx("br",{}),"✔ Clear data anytime",e.jsx("br",{}),"✔ Email optional"]}),".",e.jsxs("div",{className:"auth-actions",children:[e.jsx("button",{type:"button",id:"doSignUp",onClick:le,children:"Create Profile/Sign in"}),e.jsx("button",{type:"button",id:"doSignIn",onClick:fe,style:{marginLeft:8},children:"Sign In"})]})]})]})})]})}const ut=[{id:"song-01",label:"Math isn’t lame",filename:"01-math-isnt-lame.mp3",originalFilename:" Math isn’t lame.mp3"},{id:"song-02",label:"5ever is a long time",filename:"02-5ever-is-a-long-time.mp3",originalFilename:"5ever is a long time.mp3"},{id:"song-03",label:"Al-Khwarizmi Father of Algebra",filename:"03-al-khwarizmi-father-of-algebra.mp3",originalFilename:"Al-Khwarizmi Father of Algebra.mp3"},{id:"song-04",label:"Avila Dynamics",filename:"04-avila-dynamics.mp3",originalFilename:"Avila Dynamics.mp3"},{id:"song-05",label:"Cloudy numbers with a chance of math",filename:"05-cloudy-numbers-with-a-chance-of-math.mp3",originalFilename:"Cloudy numbers with a chance of math.mp3"},{id:"song-06",label:"Common denominator",filename:"06-common-denominator.mp3",originalFilename:"Common denominator.mp3"},{id:"song-07",label:"Decimal situation",filename:"07-decimal-situation.mp3",originalFilename:"Decimal situation.mp3"},{id:"song-08",label:"Dedicated to Ahmed Baba al-Timbukti",filename:"08-dedicated-to-ahmed-baba-al-timbukti.mp3",originalFilename:"Dedicated to Ahmed Baba al-Timbukti.mp3"},{id:"song-09",label:"Dedicated to Einstein",filename:"09-dedicated-to-einstein.mp3",originalFilename:"Dedicated to Einstein.mp3"},{id:"song-10",label:"Dedicated to Jose Adem",filename:"10-dedicated-to-jose-adem.mp3",originalFilename:"Dedicated to Jose Adem.mp3"},{id:"song-11",label:"Dedicated to Sofia Kovalevskaya",filename:"11-dedicated-to-sofia-kovalevskaya.mp3",originalFilename:"Dedicated to Sofia Kovalevskaya.mp3"},{id:"song-12",label:"Dedicated to Srinivasa Ramanujan",filename:"12-dedicated-to-srinivasa-ramanujan.mp3",originalFilename:"Dedicated to Srinivasa Ramanujan.mp3"},{id:"song-13",label:"Dedicated to Thomas Fuller",filename:"13-dedicated-to-thomas-fuller.mp3",originalFilename:"Dedicated to Thomas Fuller.mp3"},{id:"song-14",label:"Do you even geometrize_",filename:"14-do-you-even-geometrize.mp3",originalFilename:"Do you even geometrize_.mp3"},{id:"song-15",label:"Falling Numbers",filename:"15-falling-numbers.mp3",originalFilename:"Falling Numbers.mp3"},{id:"song-16",label:"Fraction funk",filename:"16-fraction-funk.mp3",originalFilename:"Fraction funk.mp3"},{id:"song-17",label:"Goofy Numbers",filename:"17-goofy-numbers.mp3",originalFilename:"Goofy Numbers.mp3"},{id:"song-18",label:"Jump!",filename:"18-jump.mp3",originalFilename:"Jump!.mp3"},{id:"song-19",label:"Katherine Johnson mission mathematics",filename:"19-katherine-johnson-mission-mathematics.mp3",originalFilename:"Katherine Johnson mission mathematics .mp3"},{id:"song-20",label:"Kiyoshi’s Probability",filename:"20-kiyoshis-probability.mp3",originalFilename:"Kiyoshi’s Probability.mp3"},{id:"song-21",label:"Logarithm",filename:"21-logarithm.mp3",originalFilename:"Logarithm.mp3"},{id:"song-22",label:"The Ballad of Miguel de Guzmán",filename:"22-the-ballad-of-miguel-de-guzman.mp3",originalFilename:"The Ballad of Miguel de Guzmán.mp3"},{id:"song-23",label:"The Lovelace Loop",filename:"23-the-lovelace-loop.mp3",originalFilename:"The Lovelace Loop.mp3"},{id:"song-24",label:"The Mirzakhani Method",filename:"24-the-mirzakhani-method.mp3",originalFilename:"The Mirzakhani Method.mp3"},{id:"song-25",label:"What if 7never89",filename:"25-what-if-7never89.mp3",originalFilename:"What if 7never89.mp3"}],oa="/Math-isn-t-Lame/assets/math-DT29OAa5.js",ca="data:text/javascript;base64,bGV0IGR1cmF0aW9uTXMgPSAzMDAwMDsKbGV0IGludGVydmFsSWQgPSBudWxsOwpsZXQgZW5kQXQgPSAwOwpsZXQgcmVtYWluaW5nTXMgPSAwOwpsZXQgdG9rZW4gPSAwOwpsZXQgb25UaWNrID0gKCkgPT4ge307CmxldCBvblRpbWVvdXQgPSAoKSA9PiB7fTsKCmZ1bmN0aW9uIGNvbmZpZ3VyZVRpbWVyKG9wdGlvbnMgPSB7fSkgewogIGlmIChOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5kdXJhdGlvbk1zKSkgewogICAgZHVyYXRpb25NcyA9IE1hdGgubWF4KDAsIG9wdGlvbnMuZHVyYXRpb25Ncyk7CiAgfQogIGlmICh0eXBlb2Ygb3B0aW9ucy5vblRpY2sgPT09ICdmdW5jdGlvbicpIHsKICAgIG9uVGljayA9IG9wdGlvbnMub25UaWNrOwogIH0KICBpZiAodHlwZW9mIG9wdGlvbnMub25UaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7CiAgICBvblRpbWVvdXQgPSBvcHRpb25zLm9uVGltZW91dDsKICB9Cn0KCmZ1bmN0aW9uIHN0YXJ0Um91bmQoKSB7CiAgc3RvcFRpbWVyKCk7CiAgdG9rZW4gKz0gMTsKICBlbmRBdCA9IHBlcmZvcm1hbmNlLm5vdygpICsgZHVyYXRpb25NczsKICByZW1haW5pbmdNcyA9IGR1cmF0aW9uTXM7CiAgb25UaWNrKHJlbWFpbmluZ01zKTsKICBjb25zdCBjdXJyZW50VG9rZW4gPSB0b2tlbjsKICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgaWYgKGN1cnJlbnRUb2tlbiAhPT0gdG9rZW4pIHJldHVybjsKICAgIGNvbnN0IHJlbWFpbmluZyA9IE1hdGgubWF4KDAsIGVuZEF0IC0gcGVyZm9ybWFuY2Uubm93KCkpOwogICAgcmVtYWluaW5nTXMgPSByZW1haW5pbmc7CiAgICBvblRpY2socmVtYWluaW5nTXMpOwogICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7CiAgICAgIHN0b3BUaW1lcigpOwogICAgICBvblRpbWVvdXQoKTsKICAgIH0KICB9LCAyNTApOwp9CgpmdW5jdGlvbiBoYW5kbGVBbnN3ZXIoKSB7CiAgc3RvcFRpbWVyKCk7CiAgcmVtYWluaW5nTXMgPSBkdXJhdGlvbk1zOwogIG9uVGljayhyZW1haW5pbmdNcyk7Cn0KCmZ1bmN0aW9uIHN0b3BUaW1lcigpIHsKICBpZiAoaW50ZXJ2YWxJZCkgewogICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKICAgIGludGVydmFsSWQgPSBudWxsOwogIH0KfQoKZnVuY3Rpb24gZ2V0UHJvYmxlbVRpbWVSZW1haW5pbmcoKSB7CiAgcmV0dXJuIHJlbWFpbmluZ01zOwp9CgpmdW5jdGlvbiByZXNldFRpbWVyKCkgewogIHN0b3BUaW1lcigpOwogIGR1cmF0aW9uTXMgPSAzMDAwMDsKICBlbmRBdCA9IDA7CiAgcmVtYWluaW5nTXMgPSAwOwogIHRva2VuID0gMDsKICBvblRpY2sgPSAoKSA9PiB7fTsKICBvblRpbWVvdXQgPSAoKSA9PiB7fTsKfQoKaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgd2luZG93Lm1hdGhQdXBUaW1lciA9IHsKICAgIGNvbmZpZ3VyZVRpbWVyLAogICAgc3RhcnRSb3VuZCwKICAgIGhhbmRsZUFuc3dlciwKICAgIHN0b3BUaW1lciwKICAgIGdldFByb2JsZW1UaW1lUmVtYWluaW5nLAogICAgcmVzZXRUaW1lcgogIH07Cn0KCmV4cG9ydCB7CiAgY29uZmlndXJlVGltZXIsCiAgc3RhcnRSb3VuZCwKICBoYW5kbGVBbnN3ZXIsCiAgc3RvcFRpbWVyLAogIGdldFByb2JsZW1UaW1lUmVtYWluaW5nLAogIHJlc2V0VGltZXIKfTsK",da="/Math-isn-t-Lame/assets/game-DdAE7tm-.js";function ma(){if(typeof window<"u"&&window.performance){const i=window.Performance||window.performance.constructor;i&&typeof i.now!="function"&&(i.now=()=>window.performance.now()),window.Performance||(window.Performance=i)}return $.useEffect(()=>{let i=!1;if(window.__MathPopBaseUrl="/Math-isn-t-Lame/",window.__MathPopJukeboxSongs=ut,window.screen&&window.screen.orientation)try{window.screen.orientation.lock("landscape").catch(()=>{})}catch{}window.mathPupTimer&&typeof window.mathPupTimer.resetTimer=="function"&&window.mathPupTimer.resetTimer(),window.__MathPupCleanupDone=!1;const d=(o,p,c={})=>new Promise(f=>{const m=document.querySelector(`script[data-script-key="${p}"]`);m&&m.parentNode&&m.parentNode.removeChild(m);const y=document.createElement("script");y.src=o,y.async=c.async??!0,c.type&&(y.type=c.type),y.dataset.scriptKey=p,y.onload=()=>f(y),document.body.appendChild(y)});return d(oa,"mathjs",{async:!1}).then(()=>i?null:d(ca,"mathpup-timer",{async:!1,type:"module"}).then(()=>i?null:d(da,"mathpup",{type:"module"}))),()=>{if(i=!0,window.__MathPupCleanupDone=!0,window.screen&&window.screen.orientation)try{window.screen.orientation.unlock()}catch{}const o=document.querySelector('script[data-script-key="mathjs"]');o&&o.parentNode&&o.parentNode.removeChild(o);const p=document.querySelector('script[data-script-key="mathpup-timer"]');p&&p.parentNode&&p.parentNode.removeChild(p);const c=document.querySelector('script[data-script-key="mathpup"]');c&&c.parentNode&&c.parentNode.removeChild(c),window.mathPupTimer&&typeof window.mathPupTimer.resetTimer=="function"&&window.mathPupTimer.resetTimer(),window.__MathPupCleanup&&(window.__MathPupCleanup(),window.__MathPupCleanup=null),window.MathPup=null,window.__MathPopJukeboxSongs=null}},[]),e.jsxs("main",{className:"game-shell game-page--mathpup",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(D,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Math Pup"}),e.jsxs("div",{className:"game-shell__controls controls",children:[e.jsx("label",{htmlFor:"levelSelect",children:"Level:"}),e.jsxs("select",{id:"levelSelect",defaultValue:"Easy",children:[e.jsx("option",{value:"Easy",children:"Easy (subtraction + addition)"}),e.jsx("option",{value:"Easy25",children:"Easy25 (addition & subtraction)"}),e.jsx("option",{value:"Easy50",children:"Easy50 (two-digit addition & subtraction)"}),e.jsx("option",{value:"Easy75",children:"Easy75 (two-digit addition & subtraction)"}),e.jsx("option",{value:"Medium",children:"Medium (multiplication & division)"}),e.jsx("option",{value:"Medium26",children:"Medium26 (mul & div)"}),e.jsx("option",{value:"Medium60",children:"Medium60 (mul & div)"}),e.jsx("option",{value:"Medium100",children:"Medium100 (mul & div)"}),e.jsx("option",{value:"Mathanomical",children:"Mathanomical (all ops)"})]}),e.jsx("button",{id:"startBtn",children:"Start"}),e.jsx("button",{id:"pauseBtn",disabled:!0,children:"Pause"}),e.jsxs("label",{htmlFor:"musicToggle",className:"music-toggle",children:[e.jsx("input",{id:"musicToggle",type:"checkbox",defaultChecked:!0}),"Music"]})]})]}),e.jsxs("section",{className:"game-shell__body",children:[e.jsxs("section",{className:"game-info game-shell__panel","aria-live":"polite",children:[e.jsxs("div",{className:"stats-card","aria-label":"Score and timing",children:[e.jsx("div",{id:"score",children:"Score: 0"}),e.jsx("div",{id:"highscore",children:"High Score: 0"}),e.jsx("div",{id:"math-problem",children:"Problem: —"}),e.jsx("div",{id:"timer",children:"Time: —"})]}),e.jsxs("div",{className:"status-row",children:[e.jsx("p",{id:"status",children:"Press Start to begin."}),e.jsx("div",{id:"bennyDock",className:"benny-dock","aria-hidden":"true"})]}),e.jsx("p",{id:"mathHint",className:"math-hint","aria-live":"polite"}),e.jsxs("div",{className:"mobile-answer","aria-label":"Answer input",children:[e.jsx("input",{id:"mobileAnswer",type:"text",inputMode:"numeric",placeholder:"Type answer",autoComplete:"off"}),e.jsx("button",{id:"mobileAnswerBtn",type:"button",children:"Answer"})]}),e.jsx("p",{id:"bennyStory",className:"benny-story",children:"Benny Sum A.K.A the Dog Knight is at home in the backyard while Mr. Boooiiii is teaching. Can you help keep Benny from zombies and keep him company by completing math problems? Benny is 54 in human years, but in this game he is always 8 years old. If Benny gets lost inside a zombie, type his dog age (8) to unlock an ancient Mathanomical power and bring him back."}),e.jsx("div",{id:"bennyUnlockInfo",style:{marginTop:8}}),e.jsx("div",{id:"bennyPalette",className:"benny-palette"}),e.jsxs("div",{className:"mobile-controls",id:"mobileControls","aria-hidden":"true",children:[e.jsx("div",{className:"joystick",id:"mobileJoystick",children:e.jsx("div",{className:"stick",id:"mobileStick"})}),e.jsx("button",{className:"shoot-btn",id:"mobileShoot",type:"button",children:"Benny, Go Play!"})]})]}),e.jsx("div",{className:"game-shell__board",children:e.jsxs("div",{className:"canvas-anchor",children:[e.jsx("canvas",{id:"gameCanvas",width:"800",height:"600","aria-label":"Game canvas"}),e.jsx("div",{id:"game-area",className:"game-area","aria-hidden":"false"})]})})]}),e.jsx("div",{id:"musicNowPlaying",className:"music-now-playing","aria-live":"polite"})]})}function ua(){return e.jsxs("div",{className:"list-page",children:[e.jsxs("div",{className:"list-bar",children:[e.jsx(D,{className:"back-link",to:"/",children:"← Home"}),e.jsx("h1",{children:"Available Games"})]}),e.jsxs("main",{className:"main-content",children:[e.jsx("p",{children:"Select a game to play:"}),e.jsxs("ul",{className:"game-list",children:[e.jsx("li",{children:e.jsx(D,{to:"/game",children:"Math Pup"})}),e.jsx("li",{children:e.jsx(D,{to:"/capture",children:"Capture The Fraction"})}),e.jsx("li",{children:e.jsx(D,{to:"/decimal",children:"Deci-What?"})}),e.jsx("li",{children:e.jsx(D,{to:"/mathsynth",children:"Ma+h5Yn+h3 (MathSynth)"})}),e.jsx("li",{children:e.jsx(D,{to:"/bennyworld",children:"Benny Dash (Zone 1)"})})]})]})]})}function wt(i,d){const o=$.useRef(!1),p=$.useRef(!1),c=$.useCallback(()=>{if(!i||!d)return Promise.reject(new Error("Invalid src or key"));const f=document.querySelector(`script[data-script-key="${d}"]`);if(f){if(o.current)return Promise.resolve(f);if(p.current)return new Promise((m,y)=>{const v=setInterval(()=>{o.current?(clearInterval(v),m(f)):document.querySelector(`script[data-script-key="${d}"]`)===null&&(clearInterval(v),y(new Error("Script was removed")))},100);setTimeout(()=>{clearInterval(v),y(new Error("Script load timeout"))},3e4)})}return f&&f.parentNode&&f.parentNode.removeChild(f),p.current=!0,o.current=!1,new Promise((m,y)=>{const v=document.createElement("script");v.src=i,v.async=!1,v.dataset.scriptKey=d,v.onload=()=>{o.current=!0,p.current=!1,console.log(`[useScriptOnce] Loaded: ${i}`),m(v)},v.onerror=()=>{o.current=!1,p.current=!1,console.error(`[useScriptOnce] Failed to load: ${i}`),y(new Error(`Failed to load script: ${i}`))},document.body.appendChild(v)})},[i,d]);return $.useEffect(()=>{if(!i||!d)return;const f=()=>{o.current=!1};return c().catch(m=>{console.error(`[useScriptOnce] Error loading ${d}:`,m.message)}),f},[i,d,c]),{loadScript:c,isLoaded:o.current,isLoading:p.current}}function kt({toggleId:i,popupId:d,statusId:o,playOnIds:p=[],pauseOnIds:c=[],togglePauseIds:f=[],interactionSelectors:m=[]}){$.useEffect(()=>{if(typeof window>"u"||typeof Audio>"u")return;const y="/Math-isn-t-Lame/",v=y.endsWith("/")?y:`${y}/`,w=d?document.getElementById(d):null,k=i?document.getElementById(i):null,R=o?document.getElementById(o):null;let W=null,J=!0,T=[],V=[],z=null,C=!1;const F=_=>{const N=_.slice();for(let B=N.length-1;B>0;B-=1){const q=Math.floor(Math.random()*(B+1));[N[B],N[q]]=[N[q],N[B]]}return N},E=()=>{const _=localStorage.getItem("mathpop_current_user");if(!_)return[];const N=localStorage.getItem(`mathpop_jukebox_${_}`);if(!N)return[];try{const B=JSON.parse(N);return ut.filter(q=>!!(B!=null&&B[q.id])).map(q=>({title:q.label,filename:q.filename}))}catch{return[]}},ve=()=>{T=E(),V=[],z=null,C=!1,!T.length&&R&&(R.textContent="No songs enabled. Turn songs On in Profile > Benny Jukebox.")},ne=new Audio;ne.loop=!0,ne.preload="auto",ne.volume=.85;const pe=_=>{w&&(w.textContent=`Now Playing: ${_}`,w.classList.add("show"),W&&clearTimeout(W),W=setTimeout(()=>w.classList.remove("show"),2200))},le=()=>T.length?(V.length||(V=F(T)),V.shift()||null):null,fe=(_,N=!1)=>{if(!_)return!1;z=_,C=N;const B=_.filename.replace(/^\//,"");return ne.src=N?`/audio/jukebox/${B}`:`${v}audio/jukebox/${B}`,ne.load(),!0},Z=()=>{if(!z)return;if(!C){fe(z,!0);return}const _=le();!_||!fe(_,!1)||J&&g()},Y=()=>{const _=le();!_||!fe(_,!1)||g()};ne.loop=!1,ne.addEventListener("error",Z),ne.addEventListener("ended",Y),ve();const g=()=>{if(!J||!T.length&&(ve(),!T.length))return;if(!z){const B=le();if(!B||!fe(B,!1))return}const _=ne.paused,N=ne.play();if(N&&typeof N.catch=="function"){N.then(()=>{_&&z&&pe(z.title)}).catch(()=>{R&&(R.textContent="Music blocked by browser. Tap Music once.")});return}_&&z&&pe(z.title)},I=()=>{ne.pause()},U=()=>{J=!!(k!=null&&k.checked),J?(ve(),g()):I()};k&&(k.checked=!0,k.addEventListener("change",U));const ie=[];p.forEach(_=>{const N=document.getElementById(_);if(!N)return;const B=()=>g();N.addEventListener("click",B),ie.push([N,B])});const Q=[];c.forEach(_=>{const N=document.getElementById(_);if(!N)return;const B=()=>I();N.addEventListener("click",B),Q.push([N,B])});const K=[];f.forEach(_=>{const N=document.getElementById(_);if(!N)return;const B=()=>{window.setTimeout(()=>{(N.textContent||"").toLowerCase().includes("resume")?I():g()},0)};N.addEventListener("click",B),K.push([N,B])});const S=[];return m.forEach(_=>{const N=document.querySelector(_);if(!N)return;const B=()=>g();N.addEventListener("pointerdown",B),S.push([N,B,"pointerdown"])}),()=>{I(),ne.removeEventListener("error",Z),k&&k.removeEventListener("change",U),ie.forEach(([_,N])=>_.removeEventListener("click",N)),Q.forEach(([_,N])=>_.removeEventListener("click",N)),K.forEach(([_,N])=>_.removeEventListener("click",N)),S.forEach(([_,N,B])=>_.removeEventListener(B,N)),W&&clearTimeout(W),w&&w.classList.remove("show"),ne.removeEventListener("ended",Y),ne.removeEventListener("error",Z)}},[i,d,o,p.join("|"),c.join("|"),f.join("|"),m.join("|")])}const ha="/Math-isn-t-Lame/";function pa(){const{loadScript:i}=wt(`${ha}js/capture.js`,"capture"),[d,o]=$.useState(null),[p,c]=$.useState(!1);return kt({toggleId:"captureMusicToggle",popupId:"captureNowPlaying",statusId:"status",playOnIds:["startBtn"],pauseOnIds:["pauseBtn"]}),$.useEffect(()=>{let f=!0;return(async()=>{if(!window.__CaptureCleanup)try{await i(),await new Promise(y=>setTimeout(y,100))}catch(y){f&&o(`Failed to load Capture game: ${y.message}`);return}f&&(c(!0),console.log("[Capture] Game initialized"))})(),()=>{f=!1}},[i]),$.useEffect(()=>()=>{window.__CaptureCleanup&&(console.log("[Capture] Running cleanup"),window.__CaptureCleanup())},[]),d?e.jsxs("main",{className:"app-page error-page",children:[e.jsxs("header",{className:"app-header",children:[e.jsx(D,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Capture"})]}),e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:d}),e.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn--primary",children:"Reload"})]})]}):e.jsxs("main",{className:"app-page game-page--capture",children:[e.jsxs("header",{className:"app-header",children:[e.jsx(D,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Capture"}),e.jsxs("div",{className:"game-controls",children:[e.jsx("label",{htmlFor:"levelSelect",children:"Difficulty:"}),e.jsxs("select",{id:"levelSelect",className:"select",defaultValue:"easy",children:[e.jsx("option",{value:"easy",children:"Easy (halves, thirds, quarters)"}),e.jsx("option",{value:"medium",children:"Medium (denominators up to 9)"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical (mixed numbers)"})]}),e.jsx("button",{id:"startBtn",className:"btn btn--primary",children:"Start"}),e.jsx("button",{id:"pauseBtn",className:"btn btn--secondary",disabled:!0,children:"Pause"}),e.jsxs("label",{htmlFor:"captureMusicToggle",className:"game-music-toggle",children:[e.jsx("input",{id:"captureMusicToggle",type:"checkbox",defaultChecked:!0}),"Music"]})]})]}),e.jsxs("section",{className:"game-stats",children:[e.jsx("div",{className:"stat-badge stat-badge--score",id:"scoreDisplay",children:"Score: 0"}),e.jsx("div",{className:"stat-badge",id:"streakDisplay",children:"Streak: x0"}),e.jsx("div",{className:"stat-badge",id:"targetFraction",children:"Find: —"})]}),e.jsxs("section",{className:"game-body",children:[e.jsxs("section",{className:"game-panel","aria-live":"polite",children:[e.jsx("p",{id:"status",children:"Press Start to begin."}),e.jsx("div",{className:"hint",id:"hint",style:{marginTop:"12px"}}),e.jsxs("div",{className:"inputWrap",style:{marginTop:"12px"},children:[e.jsx("label",{htmlFor:"fractionInput",style:{marginBottom:"6px"},children:"Type Answer:"}),e.jsx("input",{type:"text",id:"fractionInput",placeholder:"example: 3/6",autoComplete:"off",className:"input"})]})]}),e.jsx("div",{className:"game-board",children:e.jsx("div",{className:"canvas-anchor",children:e.jsx("canvas",{id:"gameCanvas",width:"800",height:"600","aria-label":"Game canvas"})})})]}),e.jsx("div",{id:"captureNowPlaying",className:"game-music-popup","aria-live":"polite"})]})}const se=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],rt=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function Ie(i){if(i=Math.abs(Math.trunc(i)),i<20)return se[i];if(i<100){const p=Math.floor(i/10),c=i%10;return c?`${rt[p]}-${se[c]}`:rt[p]}const d=Math.floor(i/100),o=i%100;return o?`${se[d]} hundred ${Ie(o)}`:`${se[d]} hundred`}function fa(i){if(!i||Number(i)===0)return"";let d=i;d.endsWith("00")?d=d.slice(0,1):d.endsWith("0")&&(d=d.slice(0,2));const c=({1:"tenth",2:"hundredth",3:"thousandth"}[d.length]||`${Math.pow(10,d.length)}th`)+"s",f=parseInt(d,10);return`${Ie(f).replace(/\s+/g,"-")}-${c}`}function be(i){if(!i)return null;const d=i.trim().toLowerCase();for(let p=0;p<se.length;p++)if(se[p]===d)return p;for(let p=2;p<rt.length;p++){const c=rt[p];if(d===c)return p*10;if(d.startsWith(c)){const f=d.slice(c.length),m=se.indexOf(f);if(m>0&&m<10)return p*10+m}}if(d.includes("-")){const p=d.split("-");if(p.length===2){const c=rt.indexOf(p[0]),f=se.indexOf(p[1]);if(c>=2&&f>=0)return c*10+f}}else{const p=rt.indexOf(d);if(p>=2)return p*10}const o=d.split(/\s+/);if(o.length===2){const p=be(o[0]),c=be(o[1]);if(p!==null&&c!==null)return p+c}return null}function At(i){const d=Math.trunc(i),o=Math.round((i-d)*1e3),p=Ie(d);if(o===0)return p.toLowerCase().replace(/\s+/g,"-");let c=String(o).padStart(3,"0");c.endsWith("00")?c=c.slice(0,1):c.endsWith("0")&&(c=c.slice(0,2));const f=fa(c);return`${p.toLowerCase().replace(/\s+/g,"-")}-and-${f}`}function en(i,d){const o=typeof i=="number"?i:Math.floor(Math.random()*80)+20,p=typeof d=="number"?d:Math.floor(Math.random()*100),c=At(o),f=String(p).padStart(2,"0");return`${c}.${f}`}function tn(i,d="word-digit"){const o=Ie(i).toLowerCase().replace(/[\s-]+/g,""),p=Math.floor(i/10),c=i%10;return d==="digits"?String(i):d==="word"?o:d==="digit-word"?c===0?String(i):`${p}${se[c]}`:c>0?`${Ie(p*10).toLowerCase().replace(/[\s-]+/g,"")}${c}`:o}function ya(i,d="word-and-digit"){const o=Math.max(0,Math.min(99,i)),p=Math.floor(o/10),c=o%10,f=Ie(o).toLowerCase().replace(/[\s-]+/g,"");return d==="digits"?`${o}hundredths`:d==="word"?`${Ie(o).toLowerCase().replace(/[\s-]+/g,"")}hundredths`:d==="word-digit"?c===0?`${f}hundredths`:`${se[p]}${c}hundredths`:o>=10?c===0?`${f}hundredths`:`${se[p]}and${c}hundredths`:`${Ie(o).toLowerCase().replace(/[\s-]+/g,"")}hundredths`}function ga(i,d="word-and-digit"){const o=Math.max(0,Math.min(999,i));if(d==="digits")return`${o}thousandths`;const p=Ie(o).toLowerCase().replace(/[\s-]+/g,"");if(d==="word")return`${p}thousandths`;const c=Ie(Math.floor(o/10)*10).toLowerCase().replace(/[\s-]+/g,""),f=Math.floor(o/100),m=Math.floor(o%100/10),y=o%10;if(d==="word-digit-word"&&f>0){const v=se[f],w=y>0?se[y]:"";return`${w?`${v}${m}${w}`:`${v}${m}`}thousandths`}return d==="word-digit"&&o>=10?y===0?`${c}thousandths`:`${se[m]}${y}thousandths`:d==="digit-word"&&o>=10?y===0?`${c}thousandths`:`${m}${se[y]}thousandths`:o>=10?y===0?`${c}thousandths`:`${se[m]}and${y}thousandths`:`${p}thousandths`}function xa(i){if(!i)return null;const d=i.toLowerCase().replace(/thousandths?$/,"");if(!d)return null;const o=d.match(/^(\d)([a-z\-]+)$/);if(o){const f=parseInt(o[1],10),m=o[2],y=be(m);if(isFinite(f)&&y!==null&&y>=0&&y<10)return f*10+y}const p=d.replace(/[^0-9]/g,""),c=d.replace(/[^a-z\-]/g,"").replace(/and/g,"");if(p&&c){const f=parseInt(p,10),m=be(c);if(m!==null)return p.length===2&&m<10?m*100+f:p.length===1&&m<10?m*10+f:p.length===1&&m>=20&&m%10===0?m+f:parseInt(`${f}${m}`,10);const y=ln(d);if(y!==null)return y}return p?parseInt(p,10):be(c)}function ln(i){if(!i)return null;let d=null,o=null;for(const y of se.slice(1))if(i.startsWith(y)){d=y;break}for(const y of se.slice(1))if(i.endsWith(y)){o=y;break}if(!d||!o)return null;const p=i.slice(d.length,i.length-o.length);if(!/^\d+$/.test(p))return null;const c=se.indexOf(d),f=se.indexOf(o),m=parseInt(p,10);return c<0||f<0||m<0||m>9?null:c*100+m*10+f}function ba(i){if(!i)return null;const d=i.toLowerCase(),o=d.match(/^(\d)([a-z\-]+)$/);if(o){const m=parseInt(o[1],10),y=o[2],v=be(y);if(isFinite(m)&&v!==null&&v>=0&&v<10)return m*10+v}const p=d.replace(/[^0-9]/g,""),c=d.replace(/[^a-z\-]/g,"").replace(/and/g,""),f=c?be(c):null;if(p){const m=parseInt(p,10);return f!==null?p.length===1&&f<10?f*10+m:f>=20&&f%10===0&&p.length===1?f+m:parseInt(`${f}${p}`,10):m}return f}function va(i){if(!i)return null;const d=i.toLowerCase().replace(/hundredths?$/,""),o=d.replace(/[^0-9]/g,""),p=d.replace(/[^a-z\-]/g,"").replace(/and/g,""),c=p?be(p):null;if(o){const f=parseInt(o,10);return c!==null?o.length===1&&c<10?c*10+f:c>=20&&c%10===0&&o.length===1?c+f:parseInt(`${c}${o}`,10):f}return c}function vt(i){if(!i)return null;if(i.includes("-and-"))return wa(i);if(i.includes("&")){const[d,o]=i.split("&"),p=ba(d);if(p===null)return null;const c=o||"";if(c.includes("thousandth")){const m=c.toLowerCase().replace(/thousandths?$/,""),y=xa(c)??ln(m);return y===null||y<0||y>999?null:Number((p+y/1e3).toFixed(6))}const f=va(c);return f===null||f<0||f>99?null:Number((p+f/100).toFixed(6))}return ja(i)}function ja(i){if(!i)return null;const o=i.toLowerCase().replace(/[^a-z0-9\.\-]/g,"").split(".");if(o.length!==2)return null;const p=o[0].replace(/[^a-z\-]/g,""),c=o[1].replace(/[^0-9]/g,"");if(!p||!c)return null;const f=be(p);if(f===null)return null;const m=Math.pow(10,c.length);return Number((f+Number(c)/m).toFixed(6))}function wa(i){if(!i)return null;const d=i.trim().toLowerCase().replace(/^-+/,"").replace(/-+$/,"");if(d.includes("-and-")){const[p,c]=d.split("-and-"),f=be(p);if(f===null)return null;let m=null,y=null;if(c.endsWith("thousandths"))m=1e3,y=c.slice(0,-11);else if(c.endsWith("hundredths"))m=100,y=c.slice(0,-10);else if(c.endsWith("tenths"))m=10,y=c.slice(0,-6);else if(c.endsWith("thousandth"))m=1e3,y=c.slice(0,-10);else if(c.endsWith("hundredth"))m=100,y=c.slice(0,-9);else if(c.endsWith("tenth"))m=10,y=c.slice(0,-5);else return null;y=y.replace(/-+$/,"").replace(/^-+/,"").trim();const v=be(y);return v===null?null:Number((f+v/m).toFixed(6))}const o=be(d);return o===null?null:Number(o.toFixed(6))}function Na(){window.__DecimalCleanup&&window.__DecimalCleanup(),window.__DecimalCleanup=null;const i=document.getElementById("level"),d=document.getElementById("start"),o=document.getElementById("pause");document.getElementById("backBtn");const p=document.getElementById("prompt"),c=document.getElementById("hint"),f=document.getElementById("score"),m=document.getElementById("timer"),y=document.getElementById("streak"),v=document.getElementById("answerInput"),w=document.getElementById("feedback"),k=document.getElementById("colsInput"),R=document.getElementById("rowsInput"),W=document.getElementById("cellSizeInput"),J=document.getElementById("applyGridBtn"),T=document.getElementById("gridPreview"),V=document.getElementById("palette"),z=document.getElementById("selectedColorPreview");let C=Number(k==null?void 0:k.value)||15,F=Number(R==null?void 0:R.value)||15,E=Number(W==null?void 0:W.value)||28;const ve=20,ne=15;let pe=Number(W==null?void 0:W.value)||28,le=0,fe=0,Z={primary:"#1f77b4",secondary:"#0b2740"},Y,g,I=[],U=!1,ie=!1,Q=0,K=0,S=null,_=10,N=3;const B={easy:125e4,medium:125e4,medium5:125e4,mathamatical:125e4};let q=null,Se=0,ae=0,je=null,ee=null,H=null,re=null,he=null;const Ae=.001;let oe=!1,G=null,xe=null,X=null,Ce=[],Be=null,Le=null,Re=null,ce=null,we=[],Ne=[],nt=0,de={left:!1,right:!1,up:!1,down:!1},Ze={x:1,y:0},Me=150,We=20;const lt=20;let Ee=null,Fe=null,Ge=null,De=!1,Ye={x:0,y:0},at={x:0,y:0};const st=28;let Te=null,He=null,Ke=null,Ve=null,ye=null,Oe=null,ze=null;function ht(){return localStorage.getItem("mathpop_current_user")||"guest"}function ot(){return`mathpop_profile_stats_${ht()}`}function s(){const t=localStorage.getItem(ot());if(!t)return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],games:{}};try{const n=JSON.parse(t);return{totalPoints:Number(n.totalPoints)||0,totalCorrect:Number(n.totalCorrect)||0,totalAttempted:Number(n.totalAttempted)||0,pupStreakRecord:Number(n.pupStreakRecord)||0,levelsCompleted:Array.isArray(n.levelsCompleted)?n.levelsCompleted:[],games:n.games&&typeof n.games=="object"?n.games:{}}}catch{return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],games:{}}}}function P(t,n){return t.games[n]||(t.games[n]={points:0,correct:0,attempted:0,bestScore:0,streakRecord:0,gamesPlayed:0}),t.games[n]}function O(t){localStorage.setItem(ot(),JSON.stringify(t))}function me(t,n){const a=s(),l=P(a,"decimal");a.totalAttempted+=1,l.attempted+=1,t&&(a.totalCorrect+=1,l.correct+=1,a.totalPoints+=n,l.points+=n),l.streakRecord=Math.max(l.streakRecord,K),l.bestScore=Math.max(l.bestScore,Q),O(a)}function pt(){const t=Ct();return t.startsWith("easy")?{level:"easy",cols:parseInt(t.replace("easy",""),10)||20}:t==="medium"?{level:"medium",cols:Number(k==null?void 0:k.value)||25}:{level:"mathamatical",cols:Number(k==null?void 0:k.value)||25}}function ke(){const t=Ct();return t.startsWith("easy")?"easy":t==="medium"?"medium":"mathamatical"}function qe(){const t=pt();C=t.cols,F=15,R&&(R.value=String(F),R.disabled=!0),k&&(k.value=String(C),k.disabled=t.level==="easy"),J&&(J.disabled=t.level==="easy")}const Xe=[{id:"dp-01",primary:"#0c0b18",secondary:"#3b0f58"},{id:"dp-02",primary:"#0b1026",secondary:"#0f6b6d"},{id:"dp-03",primary:"#160a2a",secondary:"#5b1e57"},{id:"dp-04",primary:"#071a24",secondary:"#164c70"},{id:"dp-05",primary:"#140b1f",secondary:"#6b2a3f"},{id:"dp-06",primary:"#09131c",secondary:"#246b4f"},{id:"dp-07",primary:"#0e0f1e",secondary:"#4a2f8a"},{id:"dp-08",primary:"#0a1a1f",secondary:"#1e5a7a"},{id:"dp-09",primary:"#131126",secondary:"#3f2d78"},{id:"dp-10",primary:"#0d1a2d",secondary:"#1b5ea5"},{id:"dp-11",primary:"#150b24",secondary:"#6d1f5f"},{id:"dp-12",primary:"#111629",secondary:"#3c5bdc"},{id:"dp-13",primary:"#0f0e1d",secondary:"#7a2bff"},{id:"dp-14",primary:"#0b1426",secondary:"#2f8bff"},{id:"dp-15",primary:"#120d1a",secondary:"#ff2f92"},{id:"dp-16",primary:"#0f1216",secondary:"#27f2ff"},{id:"dp-17",primary:"#170f25",secondary:"#8a4bff"},{id:"dp-18",primary:"#0f1a24",secondary:"#22d3ee"},{id:"dp-19",primary:"#120a1c",secondary:"#ff5e5e"},{id:"dp-20",primary:"#10121d",secondary:"#c97bff"},{id:"dp-21",primary:"#0b0f18",secondary:"#19b5a5"},{id:"dp-22",primary:"#0f1422",secondary:"#ff8a3d"},{id:"dp-23",primary:"#0c1520",secondary:"#3dd6ff"},{id:"dp-24",primary:"#140c1c",secondary:"#ff42c7"},{id:"dp-25",primary:"#0d1420",secondary:"#40ff8a"},{id:"dp-26",primary:"#0b1222",secondary:"#7c7cff"},{id:"dp-27",primary:"#0f0b18",secondary:"#ff6a00"},{id:"dp-28",primary:"#0d1a2b",secondary:"#00d1ff"},{id:"dp-29",primary:"#0f0f1b",secondary:"#ff4f7b"},{id:"dp-30",primary:"#101821",secondary:"#23c3ff"},{id:"dp-31",primary:"#120b1e",secondary:"#a855f7"},{id:"dp-32",primary:"#0a1622",secondary:"#00f5a0"},{id:"dp-33",primary:"#0c101f",secondary:"#4ade80"},{id:"dp-34",primary:"#0f1428",secondary:"#60a5fa"},{id:"dp-35",primary:"#150c20",secondary:"#f472b6"},{id:"dp-36",primary:"#0d1821",secondary:"#14b8a6"},{id:"dp-37",primary:"#140c24",secondary:"#e879f9"},{id:"dp-38",primary:"#0b151f",secondary:"#22d3ee"},{id:"dp-39",primary:"#0f0c1f",secondary:"#a3e635"},{id:"dp-40",primary:"#0e1420",secondary:"#38bdf8"},{id:"dp-41",primary:"#130d22",secondary:"#f97316"},{id:"dp-42",primary:"#0c1723",secondary:"#06b6d4"},{id:"dp-43",primary:"#120c1a",secondary:"#fb7185"},{id:"dp-44",primary:"#0d1524",secondary:"#3b82f6"},{id:"dp-45",primary:"#130c1f",secondary:"#d946ef"},{id:"dp-46",primary:"#0b1620",secondary:"#10b981"},{id:"dp-47",primary:"#0f0d18",secondary:"#facc15"},{id:"dp-48",primary:"#0c1326",secondary:"#6366f1"},{id:"dp-49",primary:"#100b1d",secondary:"#f43f5e"},{id:"dp-50",primary:"#0c1726",secondary:"#0ea5e9"}];let St=[];function A(t,n){return Math.floor(Math.random()*(n-t+1))+t}function it(t,n,a){return Math.max(n,Math.min(a,t))}function Ue(t){return Number(t).toFixed(3).replace(/\.?0+$/,"")}function Ct(){return i&&i.value||"easy20"}const Tt={easy20:[{name:"euler-vortex",map:["...#####.....","..#...#..###.",".#....#.#...#","#.....###...#","#....##.....#",".#..###..#...","..#...#..#...","...###..#....","....#..###..."]},{name:"quadratic-wave",map:[".....#.......","....#.#......","...#...#.....","..#.....#....",".#.......#...","#.........#..",".#.......#...","..#.....#....","...#...#....."]},{name:"sine-cosine",map:["..#.....#....",".#.#...#.#...","#...#.#...#..",".#...#...#...","..#...#...#..",".#...#...#...","#..#...#..#..",".#.#...#.#...","..#.....#...."]},{name:"log-tunnel",map:["#############","##.........##","#..#######..#","#..#.....#..#","#..#..#..#..#","#..#.....#..#","#..#######..#","##.........##","#############"]},{name:"exponential-bloom",map:[".....#.......","...#.#.#.....","..#..#..#....","..#..#..#....",".##.###.##...","..#..#..#....","..#..#..#....","...#.#.#.....",".....#......."]}],easy25:[{name:"mandelbrot",map:["....#####....","..#########..",".###########.",".###########.",".###########.","..#########..","...#######...","....#####....",".....###....."]},{name:"julia-dream",map:["....###..###.","...####..####","..#####..####","..####....###","..####....###","..#####..####","...####..####","....###..###.",".....#....#.."]},{name:"chaos-glitch",map:["#..#...#..#..",".#....##.....","...##...#.#..","#...#..#....#","..#..#...##..",".##....#..#..","..#.#...##...","#..##.....#..",".#..#..#..#.."]},{name:"spiral-stair",map:["#............","##...........",".##..........","..##.........","...##........","....##.......",".....##......","......##.....",".......##...."]},{name:"butterfly",map:["..##.....##..",".###.....###.","#####...#####",".###..#..###.","..##.###.##..",".###..#..###.","#####...#####",".###.....###.","..##.....##.."]}],easy30:[{name:"fourier-spectrum",map:["....#...#....","...##..###...","..###.####...",".####.#####..","#####.#####..","#####.######.","######.######","######.######","#############"]},{name:"wave-interference",map:["#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#"]},{name:"beat-grid",map:["##..##..##..#","..##..##..##.","##..##..##..#","..##..##..##.","##..##..##..#","..##..##..##.","##..##..##..#","..##..##..##.","##..##..##..#"]},{name:"harmonic-rings",map:["...#####.....","..#.....#....",".#..###..#...",".#..#.#..#...",".#..###..#...","..#.....#....","...#####.....",".............","............."]},{name:"rhythm-matrix",map:["###...###...#","#..#..#..#..#","###...###...#","..#.....#....","###...###...#","#..#..#..#..#","###...###...#","....#....#...","###...###...#"]}],medium:[{name:"impossible-triangle",map:["......#......",".....#.#.....","....#...#....","...#.....#...","..#.......#..",".#.........#.","#############","............#","###########.."]},{name:"tessellation",map:["..#...#...#..",".#.#.#.#.#.#.","#...#...#...#",".#.#.#.#.#.#.","..#...#...#..",".#.#.#.#.#.#.","#...#...#...#",".#.#.#.#.#.#.","..#...#...#.."]},{name:"mobius-loop",map:["..####...####",".#....#.#....","#......#.....","#.....#......",".#....#.#....","..####...####","....#.#....#.",".....#......#","....#........"]},{name:"golden-garden",map:["....#####....","...#.....#...","..#..###..#..",".#..#...#..#.",".#..#...#..#.","..#..###..#..","...#.....#...","....#####....","......#......"]},{name:"polyhedron",map:["....#####....","...#.....#...","..#.......#..",".#.........#.",".#.........#.","..#.......#..","...#.....#...","....#####....","............."]}],mathamatical:[{name:"number-soup",map:["#.#.##..#.#.#","##..#.#..##..",".#.#..##.#.#.","##..##..#..##","#..#.#.##..#.",".##..#..##..#","#.#..##.#..##","##..#..##.#..",".#.#.##..#.#."]},{name:"graffiti-wall",map:["########.....","#######....#.","######...##..","#####...###..","####...####..","###...#####..","##...######..","#...#######..","...########.."]},{name:"infinity-raceway",map:["...####.####.","..#....#....#",".#.....#.....",".#....#.#....",".#.....#.....","..#....#....#","...####.####.",".............","............."]},{name:"probability-cloud",map:[".....###.....","....#####....","...#######...","..#########..",".###########.","..#########..","...#######...","....#####....",".....###....."]},{name:"mathanomical-void",map:["#....#....#..","...#.....#...",".....#.......","..#.......#..","....#..#.....","#.......#....","....#........","..#....#.....",".....#....#.."]}]};let ft=null;function on(t){if(!t||!t.length)return null;const n=t.length,a=t[0].length,l=Math.max(1,Math.floor(Math.min((C-2)/a,(F-2)/n))),r=Math.max(0,Math.floor((C-a*l)/2)),u=Math.max(0,Math.floor((F-n*l)/2)),h=Array.from({length:F},()=>Array(C).fill(!1));for(let x=0;x<n;x++)for(let b=0;b<a;b++)if(t[x][b]==="#")for(let j=0;j<l;j++)for(let L=0;L<l;L++){const M=u+x*l+j,te=r+b*l+L;M>=0&&M<F&&te>=0&&te<C&&(h[M][te]=!0)}return h}function Mt(){const t=Ct(),n=Tt[t]||Tt.easy20,a=n[A(0,n.length-1)];a.name,ft=on(a.map)}function cn(){const t=A(20,99),n=A(0,99),a=A(0,2);if(a===0)return en(t,n);const l=a===1?"word-digit":"digit-word",r=a===1?"word-and-digit":"word-digit",u=tn(t,l),h=ya(n,r);return`${u}&${h}`}function dn(){const t=A(20,99),n=A(0,999),a=A(0,2);if(a===0){const x=At(t),b=String(n).padStart(3,"0");return`${x}.${b}`}const l=a===1?"word-digit":"digit-word",r=a===1?"word-and-digit":"word-digit-word",u=tn(t,l),h=ga(n,r);return`${u}&${h}`}function Et(){let t=A(2,30),a=`${(t/10).toFixed(1)}*10`;const l=A(0,2);for(let r=0;r<l;r++)if(Math.random()<.6){const u=A(2,5);t*=u,a+=`*${u}`}else{const u=[];for(let h=2;h<=9;h++)t%h===0&&u.push(h);if(u.length===0){const h=A(2,5);t*=h,a+=`*${h}`}else{const h=u[A(0,u.length-1)];t=t/h,a+=`/${h}`}}return{expr:a,value:t}}function mn(t){const n=t.includes("+")||t.includes("-"),a=t.includes("*")||t.includes("/");if(!n&&a)return Et().expr;if(n&&!a){const u=A(2,4);let h=`${A(1,9)}.${A(0,9)}`;for(let x=1;x<u;x++){const b=Math.random()<.5?"+":"-",j=`${A(1,9)}.${A(0,9)}`;h+=`${b}${j}`}return h}const l=A(2,4);let r=Et().expr;for(let u=1;u<l;u++){const h=Math.random()<.5?"+":"-",x=Et().expr;r+=`${h}${x}`}return r}function un(t,n,a){if(t.length>=a)return t.slice(0,a);let l=t;const r=n.includes("+")||n.includes("-"),u=n.includes("*")||n.includes("/");for(;l.length<a;){const h=a-l.length;if(r&&h>=2){const x=Math.random()<.5?"+":"-",b=String(A(1,9));l+=x+b;continue}if(u&&h>=2){const x=Math.random()<.5?"*":"/";l+=x+"1";continue}l+=String(A(1,9))}return l.slice(0,a)}function hn(t,n=C){for(let l=0;l<400;l++){let r=mn(t);if(r.length>n&&(r=pn(r,n)),r=un(r,t,n),r.length!==n)continue;const u=ct(r,t);if(u!==null&&!(Math.abs(u-Math.round(u))>Ae))return r}return"0".repeat(n)}function pn(t,n){const a=t.match(/(\d+\.\d+|\d+|[+\-*/])/g)||[];let l="";for(let r=0;r<a.length;r++){let u=a[r];if(/\d+\.\d+/.test(u)&&l.length+u.length>n){const[h,x]=u.split(".");let b=x;for(;b.length>0&&l.length+(h+"."+b).length>n;)b=b.slice(0,-1);b.length===0?u=h:u=h+"."+b}if(l.length+u.length>n)break;l+=u}return l}function fn(t=C){const a=i&&i.value||"easy20",l=a==="easy25",r=a==="easy30";for(let u=0;u<200;u++){let x=(r?dn():l?cn():en()).replace(/[^a-z0-9\-\.&]/g,"").toLowerCase();if(x.length>t&&(x=x.replace(/-+/g,"-"),x.length>t))continue;const b=t-x.length,j=Math.floor(b/2),L=b-j,M="-".repeat(j)+x+"-".repeat(L),te=M.replace(/^-+|-+$/g,"");if(vt(te)!==null)return M}return"one".repeat(Math.ceil(t/3)).slice(0,t)}function ct(t,n){if(!/^[0-9\.\+\-\*\/\s]+$/.test(t))return null;for(const b of t)if((b==="+"||b==="-"||b==="*"||b==="/")&&!n.includes(b))return null;const a=[];let l=0;for(;l<t.length;){const b=t[l];if(b===" "){l++;continue}if(b>="0"&&b<="9"||b==="."){let j=l;for(;j<t.length&&(t[j]>="0"&&t[j]<="9"||t[j]===".");)j++;const L=t.slice(l,j),M=Number(L);if(!isFinite(M))return null;a.push({type:"num",value:M}),l=j;continue}if("+-*/".includes(b)){a.push({type:"op",value:b}),l++;continue}return null}function r(b){return b==="+"||b==="-"?1:b==="*"||b==="/"?2:0}const u=[],h=[];for(const b of a)if(b.type==="num")u.push(b);else{for(;h.length&&r(h[h.length-1].value)>=r(b.value);)u.push(h.pop());h.push(b)}for(;h.length;)u.push(h.pop());const x=[];for(const b of u)if(b.type==="num")x.push(b.value);else{if(x.length<2)return null;const j=x.pop(),L=x.pop();let M;switch(b.value){case"+":M=L+j;break;case"-":M=L-j;break;case"*":M=L*j;break;case"/":if(j===0)return null;M=L/j;break;default:return null}x.push(M)}return x.length!==1?null:x[0]}function yt(t=C,n=F){C=t,F=n,I=[];for(let a=0;a<F;a++){const l=[];for(let r=0;r<C;r++)l.push(null);I.push(l)}}function yn(t,n){for(let a=0;a<C;a++)I[t][a]={ch:n[a]||"0"}}function gn(){for(let t=0;t<F;t++)for(let n=0;n<C;n++)if(I[t][n])return!0;return!1}function gt(){let t=document.getElementById("decimalGameCanvas");if(!t){t=document.createElement("canvas"),t.id="decimalGameCanvas",t.style.display="block",t.style.marginTop="8px";const n=document.getElementById("canvasAnchor");n?n.appendChild(t):p.insertAdjacentElement("afterend",t)}Y=t,g=Y.getContext("2d"),Bt(),Y.removeEventListener("click",$t),Y.addEventListener("click",$t)}function Bt(){if(!Y)return;const t=ve*pe,n=ne*pe;E=Math.min(t/C,n/F);const l=C*E,r=F*E;le=Math.floor((t-l)/2),fe=Math.floor((n-r)/2),Y.width=Math.round(t),Y.height=Math.round(n)}function Lt(t,n){const a=(Z==null?void 0:Z.primary)||"#1f77b4",l=(Z==null?void 0:Z.secondary)||a,r=g.createLinearGradient(t,n,t+E,n+E);return r.addColorStop(0,a),r.addColorStop(1,l),r}function ue(){if(g){Bt(),g.clearRect(0,0,Y.width,Y.height);for(let t=0;t<F;t++)for(let n=0;n<C;n++){const a=le+n*E,l=fe+t*E,r=ft&&ft[t]&&ft[t][n];g.fillStyle=r?"#0b3a4a":"#041218",g.fillRect(a,l,E,E),g.strokeStyle=r?"#1b5566":"#07202a",g.strokeRect(a+.5,l+.5,E-1,E-1);const u=I[t][n];u?(g.fillStyle=Lt(a,l),Pt(g,a+2,l+2,E-4,E-4,4),r&&(g.fillStyle="rgba(255, 255, 255, 0.18)",Pt(g,a+2,l+2,E-4,E-4,4)),g.fillStyle="#fff",g.font=`700 ${Math.max(14,Math.floor(E*.7))}px monospace`,g.textAlign="center",g.textBaseline="middle",g.fillText(u.ch,a+E/2,l+E/2+1)):r&&(g.fillStyle="rgba(255, 255, 255, 0.16)",g.beginPath(),g.arc(a+E/2,l+E/2,Math.max(1,E*.12),0,Math.PI*2),g.fill())}if(S){const{blocks:t,row:n,col:a}=S;for(let l=0;l<t.length;l++){const r=t[l],u=r.ch,h=le+(a+r.c)*E,x=fe+(n+r.r)*E;g.fillStyle=Lt(h,x),Pt(g,h+2,x+2,E-4,E-4,4),g.strokeStyle="#0ea5a4",g.strokeRect(h+2,x+2,E-4,E-4),g.fillStyle="#fff",g.font=`700 ${Math.max(14,Math.floor(E*.7))}px monospace`,g.textAlign="center",g.textBaseline="middle",g.fillText(u,h+E/2,x+E/2+1)}}ee!==null&&(g.fillStyle="rgba(255,255,255,0.06)",g.fillRect(le,fe+ee*E,C*E,E))}}function Pt(t,n,a,l,r,u,h,x){t.beginPath(),t.moveTo(n+u,a),t.arcTo(n+l,a,n+l,a+r,u),t.arcTo(n+l,a+r,n,a+r,u),t.arcTo(n,a+r,n,a,u),t.arcTo(n,a,n+l,a,u),t.closePath(),t.fill()}function xt(t,n,a){const l=t.blocks;for(let r=0;r<l.length;r++){const u=n+l[r].r,h=a+l[r].c;if(h<0||h>=C||u>=F||u>=0&&I[u][h])return!1}return!0}function xn(){if(!S)return;const{blocks:t,row:n,col:a}=S;for(let r=0;r<t.length;r++){const u=n+t[r].r,h=a+t[r].c;if(u>=0&&u<F&&h>=0&&h<C)I[u][h]={ch:t[r].ch};else{Dn();return}}S=null;const l=[];for(let r=0;r<F;r++)I[r].every(u=>u!==null)&&l.push(r);if(l.length>0)Wt(l[0]),w.textContent="Row filled — solve when ready.";else{const r=[];for(let u=0;u<C;u++)I.every(h=>h[u]!==null)&&r.push(u);r.length>0?(Pn(r[0]),w.textContent="Column filled — solve when ready."):(ee=null,H=null)}ue()}const Rt=[{name:"I",blocks:[[0,0],[1,0],[2,0],[3,0]]},{name:"L",blocks:[[0,0],[1,0],[2,0],[2,1]]},{name:"T",blocks:[[0,0],[0,1],[0,2],[1,1]]},{name:"O",blocks:[[0,0],[0,1],[1,0],[1,1]]},{name:"I3",blocks:[[0,0],[1,0],[2,0]]},{name:"L3",blocks:[[0,0],[1,0],[1,1]]}];function bn(){return Rt[A(0,Rt.length-1)]}function vn(t){const n=A(1,25),a=A(1,2),l=A(0,Math.pow(10,a)-1),r=+`${n}.${String(l).padStart(a,"0")}`;let u=At(r).replace(/[^a-z\-]/g,"").toLowerCase();if(u.length<t&&(u=u.padEnd(t,"-")),u.length>t){const h=A(0,Math.max(0,u.length-t));u=u.slice(h,h+t)}return u.split("")}function jn(t,n){let a=t>=3?`${A(1,9)}.${A(0,9)}`:`${A(0,9)}`;for(;a.length<t;){const l=a[a.length-1];n.length&&!"+-*/".includes(l)&&a.length<t-1&&Math.random()<.45?a+=n[A(0,n.length-1)]:a+=String(A(0,9))}return a.slice(0,t).split("")}function wn(t,n,a){return n==="easy"?vn(t):jn(t,a)}function Nn(){if(S)return!1;const t=ke(),n=t==="easy"?["+","-"]:t==="medium"?["*","/"]:["+","-","*","/"],l=bn().blocks.map(([x,b])=>({r:x,c:b,ch:""})),r=wn(l.length,t,n);for(let x=0;x<l.length;x++)l[x].ch=r[x];const u=Math.max(...l.map(x=>x.c))+1,h=A(0,Math.max(0,C-u));return S={blocks:l,row:0,col:h},ue(),!0}function kn(){if(!S)return;const t=S.row+1;xt(S,t,S.col)?(S.row=t,ue()):(xn(),Nn())}function Sn(){if(!S)return;const t=S.col-1;xt(S,S.row,t)&&(S.col=t,ue())}function Cn(){if(!S)return;const t=S.col+1;xt(S,S.row,t)&&(S.col=t,ue())}function Mn(){if(!S)return;const t=S.blocks.map(h=>({r:h.r,c:h.c,ch:h.ch})),n=Math.max(...t.map(h=>h.r));Math.max(...t.map(h=>h.c));const a=t.map(h=>({r:h.c,c:n-h.r,ch:h.ch})),l=Math.max(...a.map(h=>h.c))+1;let r=S.col;r+l>C&&(r=Math.max(0,C-l));const u={blocks:a,row:S.row,col:r};xt(u,u.row,u.col)&&(S.blocks=a,S.col=r,ue())}function En(){Qe();const t=ke();ae=B[t]||125e4,Se=performance.now(),q=setTimeout(()=>{U=!1,w.textContent="Round time expired",Qe(),v&&(v.style.display="none")},ae),je&&clearInterval(je),je=setInterval(()=>{if(!q)return;const n=performance.now()-Se,a=Math.max(0,ae-n);m.textContent=(a/1e3).toFixed(1)},100)}function Qe(){q&&(clearTimeout(q),q=null),je&&(clearInterval(je),je=null)}function Wt(t){ee=t,H=null;const n=I[t].map(r=>r?r.ch:"").join("").trim();re=n,he=null,p.textContent=`Solve row ${t+1}: ${n}`;const a=ke(),l=Vt(n,a);Kt(n,a)||c&&(c.textContent=l),ue()}function Pn(t){H=t,ee=null;const n=I.map(r=>r[t]?r[t].ch:"").join("").trim();he=n,re=null,p.textContent=`Solve column ${t+1}: ${n}`;const a=ke(),l=Vt(n,a);Kt(n,a)||c&&(c.textContent=l),ue()}function Ft(){if(!p)return null;const t=p.textContent||"",n=t.indexOf(":");return n===-1?null:t.slice(n+1).trim()||null}function $n(t){if(ee===null)return;let n=Ft()||re||I[ee].map(h=>h?h.ch:"").join("");n=n.replace(/^[+\-*/]+/,"").replace(/[+\-*/]+$/,"");const a=ke();if(a==="easy"){const h=n.replace(/^-+|-+$/g,""),x=vt(h);if(x===null)return w.textContent="Row word invalid",!1;const b=Number(t);return isFinite(b)?Math.abs(x-b)<=.001?(Gt(ee),Q+=8,K++,dt(),w.textContent="Correct — row cleared",ee=null,re=null,me(!0,8),!0):(K=0,w.textContent=`Incorrect — expected ${Ue(x)}`,me(!1,0),!1):(w.textContent="Invalid number",!1)}const r=ct(n,a==="medium"?["+","-"]:["+","-","*","/"]);if(r===null)return w.textContent="Row expression invalid",!1;const u=Number(t);return isFinite(u)?Math.abs(u-r)<=.001?(Gt(ee),Q+=10,K++,dt(),w.textContent="Correct — row cleared",ee=null,re=null,me(!0,10),!0):(K=0,w.textContent=`Incorrect — expected ${Ue(r)}`,me(!1,0),!1):(w.textContent="Invalid number",!1)}function _n(t){if(H===null)return;let n=Ft()||he||I.map(h=>h[H]?h[H].ch:"").join("");n=n.replace(/^[+\-*/]+/,"").replace(/[+\-*/]+$/,"");const a=ke();if(a==="easy"){const h=n.replace(/^-+|-+$/g,""),x=vt(h);if(x===null)return w.textContent="Column word invalid",!1;const b=Number(t);return isFinite(b)?Math.abs(x-b)<=.001?(Dt(H),Q+=8,K++,dt(),w.textContent="Correct — column cleared",H=null,he=null,me(!0,8),!0):(K=0,w.textContent=`Incorrect — expected ${Ue(x)}`,me(!1,0),!1):(w.textContent="Invalid number",!1)}const r=ct(n,a==="medium"?["+","-"]:["+","-","*","/"]);if(r===null)return w.textContent="Column expression invalid",!1;const u=Number(t);return isFinite(u)?Math.abs(u-r)<=.001?(Dt(H),Q+=10,K++,dt(),w.textContent="Correct — column cleared",H=null,he=null,me(!0,10),!0):(K=0,w.textContent=`Incorrect — expected ${Ue(r)}`,me(!1,0),!1):(w.textContent="Invalid number",!1)}function Gt(t){for(let n=0;n<C;n++)I[t][n]=null;if(_>0&&(_--,_===0&&(w.textContent="No more drops — clear the remaining rows to win!")),_===0&&!gn()){Hn();return}ue()}function Dt(t){for(let n=F-1;n>=0;n--)I[n][t]=null;ue()}function Ht(t,n){let a=t.trim();return n==="easy"?a=a.replace(/^-+|-+$/g,""):a=a.replace(/^[+\-*/]+/,"").replace(/[+\-*/]+$/,""),a}function Kt(t,n){if(N<=0||Math.random()>.18)return!1;const a=Ht(t,n);let l=null;return n==="easy"?l=vt(a):l=ct(a,n==="medium"?["+","-"]:["+","-","*","/"]),l===null?!1:(N-=1,c&&(c.textContent=`Answer reveal (${3-N}/3): ${Ue(l)}`),!0)}function Vt(t,n){const a=Ht(t,n);if(!a)return"Hint: click a full row to solve it.";if(n==="easy"){if(a.includes("&")){const[x,b]=a.split("&"),j=/thousandth/.test(b)?"thousandths":"hundredths";return`Hint: "${x}" is the whole number and "${b}" are ${j}.`}const r=a.split("."),u=r[0]?r[0].replace(/-/g," "):"",h=r[1]||"";if(u&&h){const x=h.length===3?"thousandths":"hundredths";return`Hint: word part "${u}" and decimal digits ".${h}" (${x}).`}return"Hint: convert the word to a number, then append the decimal digits shown."}if(n==="medium"){const r=a.match(/(\d+\.\d+|\d+|[+\-])/g)||[];if(r.length>=3){const u=Number(r[0]),h=r[1],x=Number(r[2]);if(isFinite(u)&&isFinite(x)){const b=h==="+"?u+x:u-x;return`Hint: first do ${r[0]}${h}${r[2]} = ${Ue(b)}, then continue left to right.`}}return"Hint: add and subtract left to right, keep one decimal place."}const l=a.match(/(\d+\.\d+|\d+|[+\-*/])/g)||[];for(let r=0;r<l.length;r++)if(l[r]==="*"||l[r]==="/"){const u=Number(l[r-1]),h=Number(l[r+1]);if(isFinite(u)&&isFinite(h)&&(l[r]!=="/"||h!==0)){const x=l[r]==="*"?u*h:u/h;return`Hint: resolve ${l[r-1]}${l[r]}${l[r+1]} = ${Ue(x)} first.`}}if(l.length>=3){const r=Number(l[0]),u=l[1],h=Number(l[2]);if(isFinite(r)&&isFinite(h)){const x=u==="+"?r+h:r-h;return`Hint: start with ${l[0]}${u}${l[2]} = ${Ue(x)}.`}}return"Hint: do multiplication/division before addition/subtraction."}v&&(v.style.display="",Te||(Te=t=>{if(t.key==="Enter"){const n=v.value.trim();if(v.value="",!n)return;if(ee===null&&H===null){w.textContent="Click a full row to select it then answer.";return}ee!==null?$n(n):_n(n)}}),v.removeEventListener("keydown",Te),v.addEventListener("keydown",Te));function $t(t){if(!Y)return;const n=Y.getBoundingClientRect(),a=Y.width/n.width,l=Y.height/n.height;(t.clientX-n.left)*a-le;const r=(t.clientY-n.top)*l-fe,u=Math.floor(r/E);if(u>=0&&u<F&&I[u].every(h=>h!==null)){Wt(u),w.textContent="Row selected — solve when ready.";return}ee=null,H=null,ie||(p.textContent="Select a full row to solve"),ue()}const Ot=t=>{if(oe){t.key==="ArrowLeft"&&(de.left=!0,t.preventDefault()),t.key==="ArrowRight"&&(de.right=!0,t.preventDefault()),t.key==="ArrowUp"&&(de.up=!0,t.preventDefault()),t.key==="ArrowDown"&&(de.down=!0,t.preventDefault()),t.key===" "&&(zt(),t.preventDefault());return}!U||ie||(t.key==="ArrowLeft"&&(Sn(),t.preventDefault()),t.key==="ArrowRight"&&(Cn(),t.preventDefault()),t.key==="ArrowDown"&&(kn(),t.preventDefault()),(t.key==="ArrowUp"||t.key.toLowerCase()==="r"||t.key===" ")&&(Mn(),t.preventDefault()))},Ut=t=>{oe&&(t.key==="ArrowLeft"&&(de.left=!1),t.key==="ArrowRight"&&(de.right=!1),t.key==="ArrowUp"&&(de.up=!1),t.key==="ArrowDown"&&(de.down=!1))};window.addEventListener("keydown",Ot),window.addEventListener("keyup",Ut);function dt(){f&&(f.textContent=String(Q)),y&&(y.textContent=String(K))}function Jt(){V&&(V.innerHTML="",Xe.forEach(t=>{const n=document.createElement("div");n.className="swatch",n.style.background=`linear-gradient(135deg, ${t.primary} 0%, ${t.secondary} 100%)`,n.dataset.color=t.primary,n.addEventListener("click",()=>{V.querySelectorAll(".swatch").forEach(a=>a.classList.remove("selected")),n.classList.add("selected"),Z=t,z&&(z.style.background=`linear-gradient(135deg, ${t.primary} 0%, ${t.secondary} 100%)`),ue()}),V.appendChild(n),(t.primary===(Z==null?void 0:Z.primary)||!Z&&V.children.length===1)&&(n.classList.add("selected"),Z=t,z&&(z.style.background=`linear-gradient(135deg, ${t.primary} 0%, ${t.secondary} 100%)`))}))}function mt(){const t=Number(k==null?void 0:k.value)||C,n=Number(R==null?void 0:R.value)||F,a=Number(W==null?void 0:W.value)||pe;T&&(T.textContent=`${t}×${n} @${a}px`)}function In(){qe(),Mt(),mt(),Jt(),He||(He=()=>{const t=it(Number(k.value)||C,8,30),n=15,a=it(Number(W.value)||E,20,48),l=U;l&&_t(),C=t,F=n,E=a,pe=a,yt(C,F),gt(),ue(),mt(),l&&bt()}),ye||(ye=()=>mt()),Ke||(Ke=()=>{qe(),Mt(),mt(),yt(C,F),gt(),ue()}),Ve||(Ve=()=>{if(U){w.textContent="Game already running";return}bt()}),Oe||(Oe=()=>Zt()),J==null||J.removeEventListener("click",He),J==null||J.addEventListener("click",He),W==null||W.removeEventListener("input",ye),k==null||k.removeEventListener("input",ye),R==null||R.removeEventListener("input",ye),W==null||W.addEventListener("input",ye),k==null||k.addEventListener("input",ye),R==null||R.addEventListener("input",ye),i==null||i.removeEventListener("change",Ke),i==null||i.addEventListener("change",Ke),d==null||d.removeEventListener("click",Ve),d==null||d.addEventListener("click",Ve),o==null||o.removeEventListener("click",Oe),o==null||o.addEventListener("click",Oe)}function An(t=1,n=100){return(A(t*10,n*10)/10).toFixed(1)}function Tn(){const t=An(1,100),n=A(1,10)*10,a=n.toFixed(1),l=Number(t)*n;return{expr:`${t}*${a}`,value:l}}function Bn(){const t=A(10,200)/10,n=Math.floor(100/t);if(n<1)return null;const a=A(1,Math.min(12,n)),l=t*a;return l>100?null:{expr:`${l.toFixed(1)}/${t.toFixed(1)}`,value:a}}function Ln(){const n=A(2,200)*5/10,a=`${n.toFixed(1)}*10.0/5.0`,l=n*2;return{expr:a,value:l}}function Rn(t,n){let a=t;for(;a.length<n;)a.length+4<=n?a+="+0.0":a+="0";return a.slice(0,n)}function Wn(t=C){const n=[Tn,Bn,Ln],a=400;for(let l=0;l<a;l++){const r=A(3,5);let u="",h=0;for(let j=0;j<r;j++){const L=n[A(0,n.length-1)],M=L();if(!M){j--;continue}if(j===0)u=M.expr,h=M.value;else{const te=Math.random()<.5?"+":"-";u+=te+M.expr,h=te==="+"?h+M.value:h-M.value}}if(!u.includes(".")||u.length>t)continue;const x=Rn(u,t),b=ct(x,["+","-","*","/"]);if(b!==null&&!(Math.abs(b-Math.round(b))>Ae))return x}return"0".repeat(t)}function Fn(t,n=C){return t==="easy"?fn(n):t==="medium"?hn(["+","-"],n):Wn(n)}function Gn(){const t=ke();for(let n=0;n<F;n++){const a=Fn(t,C);yn(n,a)}}function bt(){U=!0,ie=!1,Q=0,K=0,ee=null,H=null,qe(),Mt(),yt(C,F),_=10,N=3,Gn(),gt(),ue(),En(),dt(),w.textContent="Game started — clear rows before the timer ends",p.textContent="Click a full row to solve it.",o.disabled=!1,o.textContent="Pause",v&&(v.style.display="");const t=s(),n=P(t,"decimal");n.gamesPlayed+=1,O(t)}function _t(){U=!1,ie=!1,Qe(),G&&(G.style.display="none"),oe=!1,S=null,ee=null,H=null,w.textContent="Stopped",o.disabled=!0,v&&(v.style.display="none")}function Dn(){U=!1,Qe(),G&&(G.style.display="none"),oe=!1,p.textContent="Game Over",w.textContent=`Game over — score ${Q}`,v&&(v.style.display="none");const t=s(),n=P(t,"decimal");n.bestScore=Math.max(n.bestScore,Q),O(t)}function Hn(){U=!1,Qe(),p.textContent="You win!",w.textContent=`All rows cleared — score ${Q}`,v&&(v.style.display="none");const t=s(),n=P(t,"decimal");n.bestScore=Math.max(n.bestScore,Q),O(t),ze=Jn((i==null?void 0:i.value)||"easy20"),Vn()}function Zt(){if(U)if(ie=!ie,ie){if(o.textContent="Resume",q&&Se){const t=performance.now()-Se;ae=Math.max(0,ae-t),Qe()}w.textContent="Paused",v&&(v.style.display="")}else o.textContent="Pause",Se=performance.now(),q=setTimeout(()=>{U=!1,w.textContent="Round time expired",Qe(),v&&(v.style.display="none")},ae),w.textContent="Resumed",v&&(v.style.display="")}Xe.length&&(Z=Xe[0],z&&(z.style.background=`linear-gradient(135deg, ${Xe[0].primary} 0%, ${Xe[0].secondary} 100%)`)),k&&(k.value=C),R&&(R.value=F),W&&(W.value=pe),mt(),yt(C,F),gt(),ue(),Jt(),In(),window.DecimalTetris={startGame:()=>bt(),stopGame:()=>_t(),togglePause:()=>Zt(),getState:()=>({running:U,paused:ie,score:Q,streak:K,COLS:C,ROWS:F,CELL_SIZE:E,BLOCK_COLOR:(Z==null?void 0:Z.primary)||Z,targetRows:St})};function Kn(){if(G)return;const t=document.querySelector(".decimal-page");if(!t)return;G=document.createElement("div"),G.className="decimal-mini-game",G.innerHTML=`
      <div class="decimal-mini-card">
        <div class="decimal-mini-header">
          <span>Synthe Battle</span>
          <span id="decimalMiniHealthText">150 hits</span>
        </div>
        <div class="decimal-mini-bar"><div class="decimal-mini-bar-fill"></div></div>
        <div class="decimal-mini-benny-bar"><div class="decimal-mini-benny-bar-fill"></div></div>
        <div class="decimal-mini-arena"></div>
        <div class="decimal-mini-controls" aria-hidden="true">
          <div class="decimal-mini-joystick" id="decimalMiniJoystick">
            <div class="decimal-mini-stick" id="decimalMiniStick"></div>
          </div>
          <button type="button" class="decimal-mini-shoot" id="decimalMiniShoot">Dis arm synthe</button>
        </div>
      </div>
    `,t.appendChild(G),xe=G.querySelector(".decimal-mini-arena"),Be=G.querySelector(".decimal-mini-bar-fill"),Le=G.querySelector("#decimalMiniHealthText"),Re=G.querySelector(".decimal-mini-benny-bar-fill"),X=document.createElement("div"),X.className="decimal-mini-benny",X.innerHTML=`
      <div class="benny-body"></div>
      <div class="benny-head"></div>
      <div class="benny-leg left"></div>
      <div class="benny-leg right"></div>
    `,xe.appendChild(X);const n=G.querySelector(".decimal-mini-controls");Ee=G.querySelector("#decimalMiniJoystick"),Fe=G.querySelector("#decimalMiniStick"),Ge=G.querySelector("#decimalMiniShoot");const a=()=>{De=!1,Ye={x:0,y:0},Fe&&(Fe.style.transform="translate(-50%, -50%)")},l=(r,u)=>{const h=r-at.x,x=u-at.y,b=Math.hypot(h,x),j=b>0?Math.min(1,st/b):0,L=h*j,M=x*j;Ye={x:L/st,y:M/st},Fe&&(Fe.style.transform=`translate(calc(-50% + ${L}px), calc(-50% + ${M}px))`)};if(Ee&&(Ee.addEventListener("touchstart",r=>{const u=r.touches[0],h=Ee.getBoundingClientRect();at={x:h.left+h.width/2,y:h.top+h.height/2},De=!0,l(u.clientX,u.clientY),r.preventDefault()},{passive:!1}),Ee.addEventListener("touchmove",r=>{if(!De)return;const u=r.touches[0];l(u.clientX,u.clientY),r.preventDefault()},{passive:!1}),Ee.addEventListener("touchend",a),Ee.addEventListener("touchcancel",a)),Ge){const r=u=>{u&&u.preventDefault(),zt()};Ge.addEventListener("touchstart",r,{passive:!1}),Ge.addEventListener("pointerdown",r),Ge.addEventListener("click",r)}!("ontouchstart"in window)&&n&&(n.style.display="none")}function Vn(){if(Kn(),!G||!xe||!X)return;oe=!0,G.style.display="flex",Me=150,We=lt,we=[],Ne=[],de={left:!1,right:!1,up:!1,down:!1},Ze={x:1,y:0},Ce.forEach(l=>l.remove()),Ce=[],Be&&(Be.style.width="100%"),Le&&(Le.textContent=`${Me} hits`),Re&&(Re.style.width="100%");const t=xe.getBoundingClientRect();X.dataset.x=String(t.width*.2),X.dataset.y=String(t.height*.7),X.style.transform=`translate(${X.dataset.x}px, ${X.dataset.y}px)`;const n=ke(),a=n==="easy"?1:n==="medium"?2:3;for(let l=0;l<a;l++){const r=document.createElement("div");r.className="decimal-mini-shape",r.innerHTML="<span></span><span></span><span></span><span></span>";const u=t.width*(.6+Math.random()*.3),h=t.height*(.2+Math.random()*.6);r.dataset.x=String(u),r.dataset.y=String(h),r.dataset.speed=String(.7+Math.random()*.4),r.style.transform=`translate(${u}px, ${h}px)`,xe.appendChild(r),Ce.push(r)}nt=performance.now()+1200,ce&&cancelAnimationFrame(ce),ce=requestAnimationFrame(qt)}function On(){oe=!1,ce&&cancelAnimationFrame(ce),ce=null,we.forEach(t=>t.remove()),we=[],Ne.forEach(t=>t.remove()),Ne=[],G&&(G.style.display="none"),w.textContent="Benny disarmed the synthe!",p.textContent="Press Start to play again.",Yt()}function Un(){oe=!1,ce&&cancelAnimationFrame(ce),ce=null,we.forEach(t=>t.remove()),we=[],Ne.forEach(t=>t.remove()),Ne=[],G&&(G.style.display="none"),w.textContent="Its ok benny just needs a nap",p.textContent="Resting...",setTimeout(()=>{Yt()},4e3)}function Jn(t){const n=["easy20","easy25","easy30","medium","mathamatical"],a=n.indexOf(t);return a===-1||a===n.length-1?t:n[a+1]}function Yt(){ze&&(i&&(i.value=ze),ze=null,bt())}function zt(){if(!oe||!xe||!X)return;const t=parseFloat(X.dataset.x||"0"),n=parseFloat(X.dataset.y||"0"),a=Ze.x||1,l=Ze.y||0;[-6,6].forEach(u=>{const h=document.createElement("div");h.className="decimal-mini-shot",h.textContent="−",h.dataset.x=String(t+18),h.dataset.y=String(n+18+u),h.dataset.vx=String(a*6),h.dataset.vy=String(l*6),xe.appendChild(h),we.push(h)})}function Zn(){const t=A(2,9),n=A(1,9),a=Math.random()<.5?"+":"-";return{text:`${t}${a}${n}`}}function qt(){if(!oe||!xe||!X)return;const t=xe.getBoundingClientRect(),n=40,a=56;let l=parseFloat(X.dataset.x||"0"),r=parseFloat(X.dataset.y||"0");const u=De?Ye.x:(de.right?1:0)-(de.left?1:0),h=De?Ye.y:(de.down?1:0)-(de.up?1:0);if(u||h){const j=Math.hypot(u,h)||1;Ze={x:u/j,y:h/j}}const x=3.2;l=it(l+u*x,0,Math.max(0,t.width-n)),r=it(r+h*x,0,Math.max(0,t.height-n)),X.dataset.x=String(l),X.dataset.y=String(r),X.style.transform=`translate(${l}px, ${r}px)`,Ce.forEach((j,L)=>{let M=parseFloat(j.dataset.x||"0"),te=parseFloat(j.dataset.y||"0");const Pe=l-M,$e=r-te,et=Math.max(1,Math.hypot(Pe,$e)),tt=parseFloat(j.dataset.speed||"1.1"),ge=(L%2===0?1:-1)*.4;M=it(M+Pe/et*tt+ge,0,Math.max(0,t.width-a)),te=it(te+$e/et*tt-ge,0,Math.max(0,t.height-a)),j.dataset.x=String(M),j.dataset.y=String(te),j.style.transform=`translate(${M}px, ${te}px)`});const b=performance.now();b>=nt&&(nt=b+1400,Ce.forEach(j=>{const L=parseFloat(j.dataset.x||"0"),M=parseFloat(j.dataset.y||"0"),te=l-L,Pe=r-M,$e=Math.max(1,Math.hypot(te,Pe)),et=te/$e*2.4,tt=Pe/$e*2.4,ge=document.createElement("div");ge.className="decimal-mini-enemy-shot";const Xt=Zn();ge.textContent=Xt.text,ge.dataset.x=String(L+a/2),ge.dataset.y=String(M+a/2),ge.dataset.vx=String(et),ge.dataset.vy=String(tt),xe.appendChild(ge),Ne.push(ge)})),we=we.filter(j=>{let L=parseFloat(j.dataset.x||"0"),M=parseFloat(j.dataset.y||"0");const te=parseFloat(j.dataset.vx||"0"),Pe=parseFloat(j.dataset.vy||"0");if(L+=te,M+=Pe,j.dataset.x=String(L),j.dataset.y=String(M),j.style.transform=`translate(${L}px, ${M}px)`,L<-20||M<-20||L>t.width+20||M>t.height+20)return j.remove(),!1;for(let $e=0;$e<Ce.length;$e++){const et=Ce[$e],tt=parseFloat(et.dataset.x||"0"),ge=parseFloat(et.dataset.y||"0");if(L+10>tt&&L<tt+a&&M+10>ge&&M<ge+a)return j.remove(),Me=Math.max(0,Me-1),Be&&(Be.style.width=`${Me/150*100}%`),Le&&(Le.textContent=`${Me} hits`),Me<=0&&On(),!1}return!0}),Ne=Ne.filter(j=>{let L=parseFloat(j.dataset.x||"0"),M=parseFloat(j.dataset.y||"0");const te=parseFloat(j.dataset.vx||"0"),Pe=parseFloat(j.dataset.vy||"0");return L+=te,M+=Pe,j.dataset.x=String(L),j.dataset.y=String(M),j.style.transform=`translate(${L}px, ${M}px)`,L<-40||M<-40||L>t.width+40||M>t.height+40?(j.remove(),!1):L+14>l&&L<l+n&&M+14>r&&M<r+n?(j.remove(),X.classList.add("hit"),setTimeout(()=>X.classList.remove("hit"),180),We=Math.max(0,We-1),Re&&(Re.style.width=`${We/lt*100}%`),We<=0&&Un(),!1):!0}),ce=requestAnimationFrame(qt)}window.__DecimalCleanup=()=>{window.removeEventListener("keydown",Ot),window.removeEventListener("keyup",Ut),ce&&cancelAnimationFrame(ce),ce=null,oe=!1,Y&&Y.removeEventListener("click",$t),v&&Te&&v.removeEventListener("keydown",Te),J==null||J.removeEventListener("click",He),i==null||i.removeEventListener("change",Ke),d==null||d.removeEventListener("click",Ve),o==null||o.removeEventListener("click",Oe),W==null||W.removeEventListener("input",ye),k==null||k.removeEventListener("input",ye),R==null||R.removeEventListener("input",ye);try{_t()}catch{}}}function ka(){return kt({toggleId:"decimalMusicToggle",popupId:"decimalNowPlaying",statusId:"prompt",playOnIds:["start"],togglePauseIds:["pause"]}),$.useEffect(()=>{const i=localStorage.getItem("highContrast")==="true";document.body.classList.toggle("high-contrast",i)},[]),$.useEffect(()=>(Na(),()=>{window.__DecimalCleanup&&window.__DecimalCleanup()}),[]),e.jsxs("main",{className:"app-page decimal-page",children:[e.jsxs("header",{className:"app-header",children:[e.jsx(D,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Deci-What?"}),e.jsxs("div",{className:"game-controls",children:[e.jsx("label",{htmlFor:"level",children:"Level"}),e.jsxs("select",{id:"level",className:"select",defaultValue:"easy20",children:[e.jsx("option",{value:"easy20",children:"Easy .20 — words to number"}),e.jsx("option",{value:"easy25",children:"Easy .25 — words to number"}),e.jsx("option",{value:"easy30",children:"Easy .30 — words to number"}),e.jsx("option",{value:"medium",children:"Medium — add/subtract decimals"}),e.jsx("option",{value:"mathamatical",children:"Mathanomical — all ops"})]}),e.jsx("button",{id:"start",className:"btn btn--primary",onClick:()=>{var i,d;return(d=(i=window.DecimalTetris)==null?void 0:i.startGame)==null?void 0:d.call(i)},children:"Start"}),e.jsx("button",{id:"pause",className:"btn btn--secondary",disabled:!0,onClick:()=>{var i,d;return(d=(i=window.DecimalTetris)==null?void 0:i.togglePause)==null?void 0:d.call(i)},children:"Pause"}),e.jsxs("label",{htmlFor:"decimalMusicToggle",className:"game-music-toggle",children:[e.jsx("input",{id:"decimalMusicToggle",type:"checkbox",defaultChecked:!0}),"Music"]})]})]}),e.jsxs("section",{className:"game-stats",children:[e.jsxs("div",{className:"stat-badge stat-badge--score",children:["Score: ",e.jsx("span",{id:"score",children:"0"})]}),e.jsxs("div",{className:"stat-badge stat-badge--timer",children:["Time: ",e.jsx("span",{id:"timer",children:"0.0"}),"s"]}),e.jsxs("div",{className:"stat-badge",children:["Streak: x",e.jsx("span",{id:"streak",children:"0"})]})]}),e.jsxs("section",{className:"game-body",children:[e.jsxs("section",{className:"game-panel",children:[e.jsxs("div",{className:"prompt-row",children:[e.jsx("div",{className:"prompt",id:"prompt",children:"Press Start to begin."}),e.jsx("div",{className:"typed",children:e.jsx("input",{id:"answerInput",placeholder:"Type answer",className:"input"})})]}),e.jsx("div",{className:"hint",id:"hint"}),e.jsx("div",{className:"feedback",id:"feedback",style:{marginTop:"12px"}}),e.jsx("div",{className:"legend",style:{marginTop:"12px"},children:"Click a full row to solve. Type the numeric value of the word + decimal shown."})]}),e.jsx("div",{className:"game-board",children:e.jsx("div",{id:"canvasAnchor",className:"canvas-anchor"})})]}),e.jsxs("section",{className:"settings-row",style:{marginTop:"16px"},children:[e.jsxs("div",{className:"grid-controls",children:[e.jsxs("label",{children:["Columns",e.jsx("input",{id:"colsInput",type:"number",min:"8",max:"24",step:"1",defaultValue:"15",className:"input",style:{width:"64px",marginLeft:"8px"}})]}),e.jsxs("label",{children:["Rows",e.jsx("input",{id:"rowsInput",type:"number",min:"10",max:"30",step:"1",defaultValue:"15",className:"input",style:{width:"64px",marginLeft:"8px"}})]}),e.jsxs("label",{children:["Cell size",e.jsx("input",{id:"cellSizeInput",type:"range",min:"20",max:"48",step:"1",defaultValue:"28",style:{marginLeft:"8px",verticalAlign:"middle"}})]}),e.jsx("button",{id:"applyGridBtn",className:"btn btn--secondary",children:"Apply Grid"}),e.jsxs("div",{className:"grid-info",style:{marginLeft:"8px"},children:["Grid: ",e.jsx("span",{id:"gridPreview",children:"15×18 @28px"})]})]}),e.jsxs("div",{className:"palette-controls",children:[e.jsx("div",{className:"palette-title",children:"Block color (choose one of 50 acrylics)"}),e.jsx("div",{id:"palette",className:"palette",role:"list"}),e.jsxs("div",{className:"selected-color",children:["Selected:",e.jsx("span",{id:"selectedColorPreview",className:"color-swatch"})]})]})]}),e.jsx("footer",{style:{marginTop:"16px"},children:e.jsx("small",{children:"Designed for learning decimal reading and operations. Block color is selectable."})}),e.jsx("div",{id:"decimalNowPlaying",className:"game-music-popup","aria-live":"polite"})]})}function Sa(){const[i,d]=$.useState(null),[o,p]=$.useState(!1);return $.useEffect(()=>{let c=!0;return(async()=>{try{window.__HowToPlayInit||await new Promise(m=>setTimeout(m,200))}catch(m){c&&d(`Failed to load HowToPlay: ${m.message}`);return}c&&(p(!0),console.log("[HowToPlay] Page initialized"))})(),()=>{c=!1}},[]),$.useEffect(()=>{let c=null,f=!1;const m=()=>{const y=document.querySelector(".exit-door"),v=document.querySelector(".howto-benny .head");if(!y||!v)return;const w=y.getBoundingClientRect(),k=v.getBoundingClientRect();if(!f&&k.right>=w.left-4&&k.left<w.right&&(y.classList.add("is-open"),f=!0),f&&k.left>w.right+4){y.classList.add("is-close");return}c=requestAnimationFrame(m)};return c=requestAnimationFrame(m),()=>{c&&cancelAnimationFrame(c),window.__HowToPlayCleanup&&(console.log("[HowToPlay] Running cleanup"),window.__HowToPlayCleanup())}},[]),i?e.jsx("div",{className:"background error-page",children:e.jsx("header",{className:"howto-header",children:e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:i}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Reload"})]})})}):e.jsxs("div",{className:"background howto-page",children:[e.jsx("header",{className:"howto-header",children:e.jsxs("div",{className:"hero-card small",children:[e.jsx("h1",{children:"Few Rules from the dev"}),e.jsx("p",{className:"tagline",children:"Play fair, avoid calculators, and have fun learning. This world is about steady progress, not rushing the answer."})]})}),e.jsxs("main",{className:"campfire-scene","aria-label":"Campfire scene",children:[e.jsxs("section",{className:"campfire-stage","aria-label":"Campfire characters",children:[e.jsxs("div",{className:"exit-door","aria-hidden":"true",children:[e.jsx("div",{className:"door-frame"}),e.jsx("div",{className:"door-panel"}),e.jsx("div",{className:"door-knob"}),e.jsxs("div",{className:"door-blackhole","aria-hidden":"true",children:[e.jsx("div",{className:"blackhole-core"}),e.jsx("div",{className:"blackhole-ring"}),e.jsx("div",{className:"blackhole-ring"}),e.jsx("div",{className:"blackhole-ring"}),e.jsx("div",{className:"blackhole-particles"})]})]}),e.jsxs("div",{className:"booiiii-duo","aria-label":"Mr. Boooiiii walking Benny",children:[e.jsx("div",{className:"leash","aria-hidden":"true"}),e.jsxs("div",{className:"booiiii","aria-label":"Mr. Boooiiii",children:[e.jsxs("div",{className:"hat",children:[e.jsx("div",{className:"hat-brim"}),e.jsx("span",{className:"dot"}),e.jsx("div",{className:"hat-top"})]}),e.jsxs("div",{className:"head",children:[e.jsx("span",{className:"eye"}),e.jsx("span",{className:"eye"}),e.jsx("span",{className:"mouth"})]}),e.jsxs("div",{className:"collar",children:[e.jsx("span",{className:"collar-left"}),e.jsx("span",{className:"collar-right"})]}),e.jsxs("div",{className:"torso",children:[e.jsx("span",{className:"torso-left"}),e.jsx("span",{className:"torso-right"})]}),e.jsxs("div",{className:"arms",children:[e.jsx("span",{className:"arm left"}),e.jsx("span",{className:"arm right"}),e.jsx("span",{className:"hand left"}),e.jsx("span",{className:"hand right"})]}),e.jsxs("div",{className:"lap-top",children:[e.jsx("span",{className:"laptop-back"}),e.jsx("span",{className:"laptop-seat"})]}),e.jsxs("div",{className:"legs",children:[e.jsx("span",{className:"leg left"}),e.jsx("span",{className:"leg right"}),e.jsx("span",{className:"foot left"}),e.jsx("span",{className:"foot right"})]})]}),e.jsx("div",{className:"howto-benny","aria-label":"Benny",children:e.jsx("div",{className:"benny-base",children:e.jsxs("div",{className:"benny-shape",children:[e.jsx("div",{className:"back"}),e.jsx("div",{className:"leg-left"}),e.jsx("div",{className:"leg-right"}),e.jsx("div",{className:"head"})]})})})]})]}),e.jsxs("section",{className:"instructions","aria-label":"Quick tips",children:[e.jsx("h2",{children:"Quick Tips"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Math Pup: Answer math Problems to unlock fun mini game and other unlockable features"}),e.jsx("li",{children:"Capture: solve the fraction prompt and pop the right bubble. Pop enough bubbles and unlock a fun mini game."}),e.jsx("li",{children:"Deci-What?: Identify spelled out numbers with decimals. type in numeric value. Complete puzzle to unlock fun mini game "}),e.jsx("li",{children:"Ma+h 5yn+h3: Solve algebra problems to unlock mini game."}),e.jsx("li",{children:"Benny Dash: Make progress in games listed above to unlock fun platformer game. "})]}),e.jsx(D,{id:"backLink",to:"/",className:"back-link",children:"Back Home"})]})]}),e.jsx("div",{id:"nightOverlay"})]})}function Ca(){return e.jsxs("main",{className:"about-page",children:[e.jsx(D,{to:"/",className:"back-link",children:"Back"}),e.jsxs("header",{className:"about-hero",children:[e.jsx("h1",{children:"About"}),e.jsxs("p",{className:"about-subtitle",children:["Bark Bark",e.jsx("br",{})," Welcome to a platform for anyone. ",e.jsx("br",{}),"No matter where your from you can practice math and maybe have some fun ",e.jsx("br",{}),"Play with numbers and words that confuse the soul, ",e.jsx("br",{}),"fractions and decimals even santa doesn't know ",e.jsx("br",{}),"can you take your self serious and reach the goal? become a math wiz and maybe just maybe Mathanomical!"]})]}),e.jsxs("section",{className:"about-section",children:[e.jsx("h2",{children:"Mission"}),e.jsxs("p",{children:["Get better at basic and somewhat complex math. ",e.jsx("br",{}),"We want to make math fun and accessible for everyone, especially those who may have struggled with it in traditional settings. ",e.jsx("br",{}),"Our games are designed to be engaging and rewarding, helping you build confidence and skills in a playful way."]})]})]})}const Ma="/Math-isn-t-Lame/";function Ea(){const{loadScript:i}=wt(`${Ma}js/mathsynth.js`,"mathsynth"),[d,o]=$.useState(null),[p,c]=$.useState(!1);return kt({toggleId:"mathSynthMusicToggle",popupId:"mathSynthNowPlaying",statusId:"mathSynthFeedback",playOnIds:["startMathSynth"],pauseOnIds:["resetMathSynth"]}),$.useEffect(()=>{let f=!0;return(async()=>{if(!window.MathSynth)try{await i(),await new Promise(y=>setTimeout(y,100))}catch(y){f&&o(`Failed to load MathSynth: ${y.message}`);return}f&&(c(!0),console.log("[MathSynth] Game initialized"))})(),()=>{f=!1}},[i]),$.useEffect(()=>()=>{window.__MathSynthCleanup&&(console.log("[MathSynth] Running cleanup"),window.__MathSynthCleanup())},[]),d?e.jsxs("main",{className:"game-shell app mathsynth game-page--mathsynth error-page",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(D,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Ma+h 5Yn+h3"})]}),e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:d}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Reload"})]})]}):e.jsxs("main",{className:"game-shell app mathsynth game-page--mathsynth",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(D,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Ma+h 5Yn+h3"}),e.jsxs("div",{className:"game-shell__controls controls",children:[e.jsx("label",{htmlFor:"mathSynthLevel",className:"sr-only",children:"Level"}),e.jsxs("select",{id:"mathSynthLevel",defaultValue:"easy",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical"})]}),e.jsx("button",{id:"startMathSynth",onClick:()=>{var f,m;return(m=(f=window.MathSynth)==null?void 0:f.start)==null?void 0:m.call(f)},children:"Start"}),e.jsx("button",{id:"resetMathSynth",type:"button",onClick:()=>{var f,m;return(m=(f=window.MathSynth)==null?void 0:f.reset)==null?void 0:m.call(f)},children:"Reset"}),e.jsxs("label",{htmlFor:"mathSynthMusicToggle",className:"game-music-toggle",children:[e.jsx("input",{id:"mathSynthMusicToggle",type:"checkbox",defaultChecked:!0}),"Music"]}),e.jsxs("div",{className:"mathsynth-grid-note",children:["Grid: ",e.jsx("span",{id:"mathSynthPreview"}),"   Easy: 7x6, Medium: 8x6, Mathanomical: 10x6"]})]})]}),e.jsx("div",{className:"mathsynth-board-name",children:"MathSynth (algebra stuff)"}),e.jsxs("section",{className:"status-row",children:[e.jsxs("div",{className:"score",children:["Score: ",e.jsx("span",{id:"mathSynthScore",children:"0"})]}),e.jsxs("div",{className:"timer",children:["Time left: ",e.jsx("span",{id:"mathSynthTimer",children:"0"}),"s"]}),e.jsxs("div",{className:"streak",children:["Best: ",e.jsx("span",{id:"mathSynthBest",children:"--"})]}),e.jsx("div",{className:"press-start",children:"Press Start"}),e.jsxs("div",{className:"palette-controls",children:[e.jsx("div",{className:"palette-title",children:"Board colors"}),e.jsx("div",{id:"mathSynthPalette",className:"palette",role:"list"}),e.jsxs("div",{className:"selected-color",children:["Selected:",e.jsx("span",{id:"mathSynthColorPreview",className:"color-swatch"})]}),e.jsxs("div",{className:"grid-info",children:["Colors unlocked: ",e.jsx("span",{id:"mathSynthColorInfo",children:"0"}),"/50"]}),e.jsx("div",{className:"palette-instructions",children:"Solve for x. Correct locks the cell (-1). Best = lowest score + time left. Watch the Others."})]})]}),e.jsxs("section",{className:"problem-area game-shell__body",children:[e.jsxs("div",{className:"side-panel game-shell__panel",children:[e.jsx("div",{className:"prompt",id:"mathSynthPrompt"}),e.jsx("div",{className:"hint",id:"mathSynthFeedback"}),e.jsxs("div",{className:"answer-section",id:"mathSynthAnswerSection",style:{display:"none"},children:[e.jsxs("div",{className:"selected-problem",id:"mathSynthSelectedProblem",children:[e.jsx("span",{className:"problem-label",children:"Problem:"}),e.jsx("span",{className:"problem-value",id:"mathSynthProblemValue"})]}),e.jsxs("div",{className:"answer-input-group",children:[e.jsx("input",{type:"text",id:"mathSynthAnswer",className:"answer-input",placeholder:"x = ?",enterKeyHint:"enter",autoComplete:"off"}),e.jsx("button",{type:"button",id:"mathSynthSubmit",className:"answer-submit",children:"Answer"})]})]})]}),e.jsxs("div",{className:"board-panel game-shell__board",children:[e.jsx("div",{id:"mathSynthOthers",className:"mathsynth-others","aria-live":"polite"}),e.jsx("div",{id:"mathSynthBoard",className:"mathsynth-board"})]})]}),e.jsx("div",{id:"mathSynthNowPlaying",className:"game-music-popup","aria-live":"polite"})]})}const Je=[{id:"solid-01",name:"Sky",type:"solid",primary:"#7dd3fc"},{id:"tone-01",name:"Mint/Lime",type:"tone",primary:"#6ee7b7",secondary:"#a3e635"},{id:"solid-02",name:"Lavender",type:"solid",primary:"#c4b5fd"},{id:"tone-02",name:"Ocean/Blue",type:"tone",primary:"#38bdf8",secondary:"#2563eb"},{id:"solid-03",name:"Sunshine",type:"solid",primary:"#fde047"},{id:"tone-03",name:"Blush/Coral",type:"tone",primary:"#f9a8d4",secondary:"#fb7185"},{id:"solid-04",name:"Mint",type:"solid",primary:"#5eead4"},{id:"tone-04",name:"Berry/Plum",type:"tone",primary:"#f472b6",secondary:"#a855f7"},{id:"solid-05",name:"Lime",type:"solid",primary:"#a3e635"},{id:"tone-05",name:"Teal/Blue",type:"tone",primary:"#22d3ee",secondary:"#0ea5e9"},{id:"solid-06",name:"Rose",type:"solid",primary:"#fb7185"},{id:"tone-06",name:"Berry/Sun",type:"tone",primary:"#f472b6",secondary:"#facc15"},{id:"solid-07",name:"Blue",type:"solid",primary:"#60a5fa"},{id:"tone-07",name:"Grape/Indigo",type:"tone",primary:"#818cf8",secondary:"#4f46e5"},{id:"solid-08",name:"Spring",type:"solid",primary:"#86efac"},{id:"tone-08",name:"Ice/Lavender",type:"tone",primary:"#a5b4fc",secondary:"#e0f2fe"},{id:"solid-09",name:"Bubblegum",type:"solid",primary:"#f9a8d4"},{id:"tone-09",name:"Lemon/Lime",type:"tone",primary:"#fde047",secondary:"#bef264"},{id:"solid-10",name:"Soft Gray",type:"solid",primary:"#cbd5f5"},{id:"tone-10",name:"Cloud/Blue",type:"tone",primary:"#e2e8f0",secondary:"#93c5fd"},{id:"solid-11",name:"Minty Blue",type:"solid",primary:"#7dd3fc"},{id:"tone-11",name:"Aqua/Mint",type:"tone",primary:"#2dd4bf",secondary:"#99f6e4"},{id:"solid-12",name:"Grape",type:"solid",primary:"#c084fc"},{id:"tone-12",name:"Lilac/Rose",type:"tone",primary:"#d8b4fe",secondary:"#fda4af"},{id:"solid-13",name:"Coral",type:"solid",primary:"#fb7185"},{id:"tone-13",name:"Kiwi/Green",type:"tone",primary:"#bef264",secondary:"#4ade80"},{id:"solid-14",name:"Ice Blue",type:"solid",primary:"#bae6fd"},{id:"tone-14",name:"Sky/Indigo",type:"tone",primary:"#60a5fa",secondary:"#6366f1"},{id:"solid-15",name:"Periwinkle",type:"solid",primary:"#a5b4fc"},{id:"tone-15",name:"Mint/Teal",type:"tone",primary:"#5eead4",secondary:"#14b8a6"},{id:"solid-16",name:"Sunbeam",type:"solid",primary:"#fde68a"},{id:"tone-16",name:"Pink/Coral",type:"tone",primary:"#fda4af",secondary:"#fb7185"},{id:"solid-17",name:"Cool Blue",type:"solid",primary:"#93c5fd"},{id:"tone-17",name:"Lime/Teal",type:"tone",primary:"#a3e635",secondary:"#2dd4bf"},{id:"solid-18",name:"Soft Plum",type:"solid",primary:"#d8b4fe"},{id:"tone-18",name:"Sky/Mint",type:"tone",primary:"#7dd3fc",secondary:"#6ee7b7"},{id:"solid-19",name:"Seafoam",type:"solid",primary:"#99f6e4"},{id:"tone-19",name:"Berry/Sky",type:"tone",primary:"#f472b6",secondary:"#60a5fa"},{id:"solid-20",name:"Sunny",type:"solid",primary:"#facc15"},{id:"tone-20",name:"Cool Mint",type:"tone",primary:"#5eead4",secondary:"#38bdf8"},{id:"solid-21",name:"Twilight",type:"solid",primary:"#a78bfa"},{id:"tone-21",name:"Blue/Teal",type:"tone",primary:"#3b82f6",secondary:"#14b8a6"},{id:"solid-22",name:"Spring Leaf",type:"solid",primary:"#4ade80"},{id:"tone-22",name:"Lilac/Ice",type:"tone",primary:"#c4b5fd",secondary:"#bae6fd"},{id:"solid-23",name:"Blush",type:"solid",primary:"#fda4af"},{id:"tone-23",name:"Mint/Sky",type:"tone",primary:"#5eead4",secondary:"#38bdf8"},{id:"solid-24",name:"Cool Mint",type:"solid",primary:"#2dd4bf"},{id:"tone-24",name:"Sun/Lav",type:"tone",primary:"#fde047",secondary:"#c4b5fd"},{id:"solid-25",name:"Powder",type:"solid",primary:"#e2e8f0"},{id:"tone-25",name:"Rose/Mint",type:"tone",primary:"#fb7185",secondary:"#6ee7b7"}],Pa=["Medium","Medium26","Medium60","Medium100"],jt=[{id:1,name:"Starter Pup",power:"Subtraction eyes",points:0,streak:0},{id:2,name:"Greater Signs",power:"Greater-than blast",points:3e3,streak:0,requires:["Easy25"]},{id:3,name:"Arrow Blaster",power:"Arrow keys + space",points:6e3,streak:5,requires:Pa},{id:4,name:"Playful Benny",power:"Benny jumps on target",points:12e3,streak:6},{id:5,name:"Your a Wizard, Benny",power:"Pi wand blast",points:24e3,streak:8},{id:6,name:"Nuclear Gauge",power:"Gamma / neutron beam",points:36e3,streak:10},{id:7,name:"Nurse Benny",power:"Crash cart charge",points:48e3,streak:12},{id:8,name:"Dogko RKO",power:"Dogko finisher",points:6e4,streak:14},{id:9,name:"Mythic Pup",power:"Mythic finisher",points:8e4,streak:16},{id:10,name:"Mathtality",power:"All zombies cleared",points:1e5,streak:18}];function $a(){return ut.reduce((i,d)=>(i[d.id]=!1,i),{})}function _a(i){const d=$a();if(!i)return d;const o=localStorage.getItem(`mathpop_jukebox_${i}`);if(!o)return d;try{const p=JSON.parse(o);return ut.reduce((c,f)=>(c[f.id]=!!(p!=null&&p[f.id]),c),{})}catch{return d}}function nn(i){if(!i)return null;const d=localStorage.getItem(`mathpop_profile_stats_${i}`);if(!d)return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],tierUnlocks:[],activeTier:1,games:{}};try{const o=JSON.parse(d);return{totalPoints:Number(o.totalPoints)||0,totalCorrect:Number(o.totalCorrect)||0,totalAttempted:Number(o.totalAttempted)||0,pupStreakRecord:Number(o.pupStreakRecord)||0,levelsCompleted:Array.isArray(o.levelsCompleted)?o.levelsCompleted:[],tierUnlocks:Array.isArray(o.tierUnlocks)?o.tierUnlocks:[],activeTier:Number(o.activeTier)||1,games:o.games&&typeof o.games=="object"?o.games:{}}}catch{return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],tierUnlocks:[],activeTier:1,games:{}}}}function Ia(i){if(!i)return 0;const d=`mathpop_highscore_${i}_`;let o=0;return Object.keys(localStorage).forEach(p=>{if(!p.startsWith(d))return;const c=parseInt(localStorage.getItem(p)||"0",10);c>o&&(o=c)}),o}function It(i){return i.type==="tone"?`linear-gradient(135deg, ${i.primary} 0%, ${i.primary} 50%, ${i.secondary} 50%, ${i.secondary} 100%)`:i.primary}function Aa(){var je,ee,H,re,he,Ae,oe,G,xe,X,Ce,Be,Le,Re,ce,we,Ne,nt,de,Ze,Me,We,lt,Ee,Fe,Ge,De,Ye,at,st,Te,He,Ke,Ve,ye,Oe,ze,ht,ot;const[i,d]=$.useState(0),o=$.useMemo(()=>localStorage.getItem("mathpop_current_user"),[]),[p,c]=$.useState(()=>_a(o)),f=$.useMemo(()=>{if(!o)return null;const s=localStorage.getItem(`mathpop_profile_${o}`);return s?JSON.parse(s):null},[o,i]),m=$.useMemo(()=>nn(o),[o,i]);if(!o||!f||!m)return e.jsxs("main",{className:"profile-page",children:[e.jsxs("header",{className:"profile-header",children:[e.jsx("h1",{children:"Profile"}),e.jsx("p",{className:"profile-subtitle",children:"Sign in to view your progress."})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("p",{children:"No profile found. Head back to the home page to sign in."}),e.jsx(D,{to:"/",className:"profile-link",children:"Back to Home"})]})]});const y=m.totalAttempted||0,v=m.totalCorrect||0,w=y?Math.round(v/y*100):0,k=m.totalPoints||0,R=Math.max(0,k),W=m.levelsCompleted||[],J=m.pupStreakRecord||0,T=Array.isArray(m.tierUnlocks)?m.tierUnlocks:[],V=Number(m.activeTier)||1,z=Ia(o),C=(()=>{const s=localStorage.getItem("mathsynth-best");if(!s)return null;try{return JSON.parse(s)}catch{return null}})(),F=((ee=(je=m.games)==null?void 0:je.mathpup)==null?void 0:ee.points)||0,E=Math.min(Math.floor(F/2500),Je.length),ve=localStorage.getItem(`mathpup_benny_color_${o}`)||Je[0].id,ne=Je.find(s=>s.id===ve)||Je[0],pe=s=>!s.requires||s.requires.length===0?!0:s.requires.every(P=>W.includes(P)),le=s=>s.id===1?!0:T.includes(s.id),fe=[...jt].reverse().find(le)||jt[0],Z=s=>s.id===3?e.jsxs("p",{className:"tier-power tier-power-arrow",children:[e.jsx("span",{className:"tier-power-label",children:s.power}),e.jsx("span",{className:"arrow-glyph","aria-label":"Arrow blaster",children:"=:~>"})]}):e.jsx("p",{className:"tier-power",children:s.power}),Y=s=>!(le(s)||!pe(s)||R<s.points),g=s=>le(s),I=s=>{var ke;if(!o||!m||!Y(s))return;const P=(ke=window.math)==null?void 0:ke.evaluate,O=P?Number(P(`${k}-${s.points}`)):k-s.points,me={...m,totalPoints:Math.max(0,O),tierUnlocks:[...T,s.id]},pt="Congragulations Mr or Ms. Big Spendah";typeof window<"u"&&typeof window.showUnifyMessage=="function"?window.showUnifyMessage({text:pt,topic:"tiers"}):window.alert(pt),typeof window<"u"&&typeof window.showUnifyConfirm=="function"?window.showUnifyConfirm({text:`Use ${s.name} power now?`,topic:"tiers",yesLabel:"Use it",noLabel:"Later",onYes:()=>{const Xe={...nn(o),activeTier:s.id};localStorage.setItem(`mathpop_profile_stats_${o}`,JSON.stringify(Xe)),d(St=>St+1)}}):window.confirm(`Use ${s.name} power now?`)&&(me.activeTier=s.id),localStorage.setItem(`mathpop_profile_stats_${o}`,JSON.stringify(me)),d(qe=>qe+1)},U=s=>{if(!o||!m||!g(s))return;const P={...m,activeTier:s.id};localStorage.setItem(`mathpop_profile_stats_${o}`,JSON.stringify(P)),d(O=>O+1)},ie=[{id:"mathpup",title:"Math Pup",stats:{points:((re=(H=m.games)==null?void 0:H.mathpup)==null?void 0:re.points)||0,correct:((Ae=(he=m.games)==null?void 0:he.mathpup)==null?void 0:Ae.correct)||0,attempted:((G=(oe=m.games)==null?void 0:oe.mathpup)==null?void 0:G.attempted)||0,bestScore:z,streakRecord:((X=(xe=m.games)==null?void 0:xe.mathpup)==null?void 0:X.streakRecord)||0,levels:((Le=(Be=(Ce=m.games)==null?void 0:Ce.mathpup)==null?void 0:Be.levelsCompleted)==null?void 0:Le.length)||0}},{id:"capture",title:"Capture The Fraction",stats:{points:((ce=(Re=m.games)==null?void 0:Re.capture)==null?void 0:ce.points)||0,correct:((Ne=(we=m.games)==null?void 0:we.capture)==null?void 0:Ne.correct)||0,attempted:((de=(nt=m.games)==null?void 0:nt.capture)==null?void 0:de.attempted)||0,bestScore:((Me=(Ze=m.games)==null?void 0:Ze.capture)==null?void 0:Me.bestScore)||0,streakRecord:((lt=(We=m.games)==null?void 0:We.capture)==null?void 0:lt.streakRecord)||0}},{id:"decimal",title:"Deci-What?",stats:{points:((Fe=(Ee=m.games)==null?void 0:Ee.decimal)==null?void 0:Fe.points)||0,correct:((De=(Ge=m.games)==null?void 0:Ge.decimal)==null?void 0:De.correct)||0,attempted:((at=(Ye=m.games)==null?void 0:Ye.decimal)==null?void 0:at.attempted)||0,bestScore:((Te=(st=m.games)==null?void 0:st.decimal)==null?void 0:Te.bestScore)||0,streakRecord:((Ke=(He=m.games)==null?void 0:He.decimal)==null?void 0:Ke.streakRecord)||0}},{id:"mathsynth",title:"Ma+h5Yn+h3",stats:{points:((ye=(Ve=m.games)==null?void 0:Ve.mathsynth)==null?void 0:ye.points)||0,correct:((ze=(Oe=m.games)==null?void 0:Oe.mathsynth)==null?void 0:ze.correct)||0,attempted:((ot=(ht=m.games)==null?void 0:ht.mathsynth)==null?void 0:ot.attempted)||0,bestScore:C?C.score:"--",timeLeft:C?C.timeLeft:"--"}}],Q=$.useMemo(()=>{const s={};return ie.forEach(P=>{s[P.id]=P}),s},[ie]),K=ie.map(s=>({id:s.id,title:s.title})),[S,_]=$.useState({points:"mathpup",correct:"mathpup",attempted:"mathpup",accuracy:"mathpup",levels:"mathpup",streak:"mathpup",colors:"mathpup",tiers:"mathpup"}),N=(s,P)=>{_(O=>({...O,[s]:P}))},B=s=>{var P;return((P=Q[s])==null?void 0:P.stats)||{}},q=s=>{const P=s.attempted||0,O=s.correct||0;return P?Math.round(O/P*100):0},Se=s=>{o&&c(P=>{const O={...P,[s]:!P[s]};return localStorage.setItem(`mathpop_jukebox_${o}`,JSON.stringify(O)),O})},ae=()=>e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"profile-subtitle",children:"Tap a song to switch it On or Off."}),e.jsx("div",{className:"jukebox-list",children:ut.map(s=>{const P=!!p[s.id];return e.jsxs("button",{type:"button",className:`jukebox-song${P?" on":""}`,onClick:()=>Se(s.id),"aria-pressed":P,title:`${s.label} (${s.originalFilename})`,children:[e.jsx("span",{children:s.label}),e.jsx("span",{className:"jukebox-status",children:P?"On":"Off"})]},s.id)})}),e.jsxs("p",{className:"jukebox-filename",children:["Files: ",e.jsx("code",{children:"/public/audio/jukebox/*.mp3"})]})]});return e.jsxs("main",{className:"profile-page",children:[e.jsxs("header",{className:"profile-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:f.username}),e.jsx("p",{className:"profile-subtitle",children:"Profile dashboard"})]}),e.jsxs("div",{className:"profile-actions",children:[e.jsx(D,{to:"/",className:"profile-link",children:"Home"}),e.jsx(D,{to:"/list",className:"profile-link",children:"Games"})]})]}),e.jsxs("section",{className:"profile-mobile-grid","aria-label":"Mobile game stats",children:[e.jsxs("div",{className:"profile-box benny-colors-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Total Points"}),e.jsx("select",{value:S.points,onChange:s=>N("points",s.target.value),children:K.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))})]}),e.jsx("p",{className:"metric",children:B(S.points).points||0})]}),e.jsxs("div",{className:"profile-box benny-powers-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Total Correct"}),e.jsx("select",{value:S.correct,onChange:s=>N("correct",s.target.value),children:K.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))})]}),e.jsx("p",{className:"metric",children:B(S.correct).correct||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Total Attempted"}),e.jsx("select",{value:S.attempted,onChange:s=>N("attempted",s.target.value),children:K.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))})]}),e.jsx("p",{className:"metric",children:B(S.attempted).attempted||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Accuracy"}),e.jsx("select",{value:S.accuracy,onChange:s=>N("accuracy",s.target.value),children:K.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))})]}),e.jsxs("p",{className:"metric",children:[q(B(S.accuracy)),"%"]})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Levels Completed"}),e.jsx("select",{value:S.levels,onChange:s=>N("levels",s.target.value),children:K.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))})]}),e.jsx("p",{className:"metric",children:B(S.levels).levels||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Pup Streak Record"}),e.jsx("select",{value:S.streak,onChange:s=>N("streak",s.target.value),children:K.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))})]}),e.jsx("p",{className:"metric",children:B(S.streak).streakRecord||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Benny Colors"}),e.jsx("select",{value:S.colors,onChange:s=>N("colors",s.target.value),children:K.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))})]}),S.colors==="mathpup"?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"profile-subtitle",children:["Unlocked colors: ",E,"/",Je.length]}),e.jsx("div",{className:"benny-colors",children:Je.map((s,P)=>{const O=P<E;return e.jsx("span",{className:`benny-color ${O?"unlocked":"locked"}`,title:s.name,style:{background:It(s)}},s.id)})})]}):e.jsx("p",{className:"profile-subtitle",children:"Only Math Pup"})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Benny Powers"}),e.jsx("select",{value:S.tiers,onChange:s=>N("tiers",s.target.value),children:K.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))})]}),S.tiers==="mathpup"?e.jsx("div",{className:"tier-track",children:jt.map(s=>{const P=le(s),O=Y(s);return e.jsxs("div",{className:`tier-card ${P?"unlocked":"locked"}${V===s.id?" active":""}`,children:[e.jsxs("h3",{children:["Tier ",s.id]}),e.jsx("p",{className:"tier-name",children:s.name}),Z(s),!P&&!O&&e.jsx("p",{className:"tier-locked-badge",children:"Locked"}),!P&&O&&e.jsx("button",{type:"button",className:"tier-buy",onClick:()=>I(s),children:"Buy"})]},s.id)})}):e.jsx("p",{className:"profile-subtitle",children:"Only Math Pup"})]}),e.jsxs("div",{className:"profile-box jukebox-box",children:[e.jsx("div",{className:"box-header",children:e.jsx("h2",{children:"Benny Jukebox"})}),ae()]})]}),e.jsxs("section",{className:"profile-metrics",children:[e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Total Points"}),e.jsx("p",{className:"metric",children:k})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Total Correct"}),e.jsx("p",{className:"metric",children:v})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Total Attempted"}),e.jsx("p",{className:"metric",children:y})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Accuracy"}),e.jsxs("p",{className:"metric",children:[w,"%"]})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Levels Completed"}),e.jsx("p",{className:"metric",children:W.length})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Pup Streak Record"}),e.jsx("p",{className:"metric",children:J})]})]}),e.jsxs("section",{className:"profile-lower",children:[e.jsxs("div",{className:"profile-benny",children:[e.jsxs("div",{className:"profile-card benny-card",children:[e.jsxs("div",{className:"benny-card-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Benny Sum"}),e.jsxs("p",{className:"profile-subtitle",children:["Current tier: ",fe.name]})]}),e.jsx("div",{className:"benny-color-preview",style:{background:It(ne)},"aria-label":"Benny color"})]}),e.jsxs("p",{className:"benny-meta",children:["Unlocked colors: ",E,"/",Je.length," (2500 pts each)"]}),e.jsx("div",{className:"benny-colors",children:Je.map((s,P)=>{const O=P<E;return e.jsx("span",{className:`benny-color ${O?"unlocked":"locked"}`,title:s.name,style:{background:It(s)}},s.id)})})]}),e.jsxs("div",{className:"profile-card benny-tiers",children:[e.jsx("h2",{children:"Benny Tiers"}),e.jsx("div",{className:"tier-track",children:jt.map(s=>{const P=le(s),O=pe(s);return Y(s),e.jsxs("div",{className:`tier-card ${P?"unlocked":"locked"}${V===s.id?" active":""}`,role:"button",tabIndex:P?0:-1,onClick:()=>U(s),onKeyDown:me=>{(me.key==="Enter"||me.key===" ")&&U(s)},children:[e.jsxs("h3",{children:["Tier ",s.id]}),e.jsx("p",{className:"tier-name",children:s.name}),Z(s),e.jsxs("p",{className:"tier-req",children:["Points: ",s.points]}),s.streak>0&&e.jsxs("p",{className:"tier-req",children:["Pup streak: ",s.streak]}),s.requires&&s.requires.length>0&&e.jsxs("p",{className:"tier-req tier-requires","aria-label":"Level requirements",children:["Requires: ",s.requires.join(", ")]}),!P&&!O&&s.requires&&e.jsx("p",{className:"tier-locked-reason",children:"Complete required levels first"}),!P&&O&&e.jsxs("span",{className:"tier-ticket",children:["Ticket price: ",s.points," pts"]}),s.id===8&&P&&e.jsxs("div",{className:"tier-freeze-frame","aria-label":"Benny Dog KO freeze frame",children:[e.jsx("span",{className:"ff-benny"}),e.jsx("span",{className:"ff-zombie"}),e.jsx("span",{className:"ff-impact"})]}),!P&&Y(s)&&e.jsxs("button",{type:"button",className:"tier-buy",onClick:()=>I(s),children:["Unlock ",s.name]})]},s.id)})})]}),e.jsxs("div",{className:"profile-card jukebox-card",children:[e.jsx("h2",{children:"Benny Jukebox"}),ae()]})]}),e.jsxs("section",{className:"profile-card profile-games",children:[e.jsx("h2",{children:"Game Stats"}),e.jsx("div",{className:"game-card-track",children:ie.map(s=>{const P=s.stats.attempted||0,O=s.stats.correct||0,me=P?Math.round(O/P*100):0;return e.jsxs("div",{className:"profile-card game-card",children:[e.jsx("h3",{children:s.title}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Points"}),e.jsx("span",{children:s.stats.points})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Correct"}),e.jsx("span",{children:O})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Attempted"}),e.jsx("span",{children:P})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Accuracy"}),e.jsxs("span",{children:[me,"%"]})]}),"levels"in s.stats&&e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Levels Completed"}),e.jsx("span",{children:s.stats.levels})]}),"streakRecord"in s.stats&&e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Streak Record"}),e.jsx("span",{children:s.stats.streakRecord})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Best"}),e.jsx("span",{children:s.stats.bestScore})]}),"timeLeft"in s.stats&&e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Best Time"}),e.jsxs("span",{children:[s.stats.timeLeft,"s"]})]})]},s.id)})})]})]})]})}const Ta="/Math-isn-t-Lame/";function Ba(){return kt({toggleId:"bwMusicToggle",popupId:"bwNowPlaying",statusId:"bwStatus",interactionSelectors:["#bennyWorldArea","#bwJump","#bwGlide"]}),wt("https://cdn.babylonjs.com/babylon.js","babylon"),wt(`${Ta}js/bennyworld.js`,"bennyworld"),$.useEffect(()=>()=>{window.__BennyWorldCleanup&&window.__BennyWorldCleanup(),window.__BennyWorldBabylonCleanup&&window.__BennyWorldBabylonCleanup()},[]),e.jsxs("main",{className:"benny-world",id:"bennyWorldRoot",children:[e.jsxs("header",{className:"bw-header",children:[e.jsx(D,{className:"back-link",to:"/list",children:"Back"}),e.jsx("h1",{children:"Benny Dash"}),e.jsx("div",{className:"bw-level",id:"bwLevelLabel",children:"Level 1"})]}),e.jsxs("section",{className:"bw-hud",children:[e.jsx("div",{className:"bw-stat",id:"bwPoints",children:"Points: 0"}),e.jsx("div",{className:"bw-stat",id:"bwDash",children:"Dash: 0m"}),e.jsx("div",{className:"bw-stat",id:"bwStatus",children:"Run to the star!"}),e.jsxs("label",{className:"bw-difficulty",htmlFor:"bwDifficulty",children:["Difficulty",e.jsxs("select",{id:"bwDifficulty",defaultValue:"mathanomical",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical"})]})]}),e.jsxs("label",{className:"bw-music-toggle",htmlFor:"bwMusicToggle",children:[e.jsx("input",{id:"bwMusicToggle",type:"checkbox",defaultChecked:!0}),"Music"]})]}),e.jsxs("section",{className:"bw-stage",children:[e.jsx("div",{id:"bennyWorldArea",className:"bw-area","aria-label":"Benny Dash playfield",children:e.jsx("canvas",{id:"bwBabylon",className:"bw-babylon","aria-hidden":"true"})}),e.jsx("div",{id:"bwGameOver",className:"bw-gameover","aria-live":"polite"}),e.jsx("div",{id:"bwMessage",className:"bw-message","aria-live":"polite"})]}),e.jsxs("div",{className:"bw-controls",id:"bwControls",children:[e.jsx("div",{className:"bw-joystick-container",id:"bwJoystickContainer",children:e.jsx("div",{className:"bw-joystick",id:"bwJoystick",children:e.jsx("div",{className:"bw-joystick-knob",id:"bwJoystickKnob"})})}),e.jsxs("div",{className:"bw-actions",children:[e.jsx("button",{className:"bw-move bw-action-btn",id:"bwJump",type:"button","aria-label":"Jump",children:"Jump"}),e.jsx("button",{className:"bw-move bw-action-btn",id:"bwGlide",type:"button","aria-label":"Glide",children:"Glide"})]})]}),e.jsx("div",{id:"bwNowPlaying",className:"bw-music-popup","aria-live":"polite"})]})}function La(){const i=qn(),d=i.pathname!=="/"&&i.pathname!=="/mathsynth"&&i.pathname!=="/about",o=["/game","/capture","/decimal","/bennyworld"].includes(i.pathname),p=i.pathname==="/list",c=i.pathname==="/howto",f=i.pathname==="/profile",m=p||o||c||f,[y,v]=$.useState({open:!1,text:"",topic:""}),[w,k]=$.useState({open:!1,text:"",topic:"",yesLabel:"Yes",noLabel:"No"}),R=$.useRef(null),W=$.useRef(null),J=$.useRef(null);return $.useEffect(()=>(window.showUnifyMessage=T=>{const V=typeof T=="string"?{text:T}:T||{},z=V.text||"Congragulations Mr or Ms. Big Spendah",C=V.topic||"";v({open:!0,text:z,topic:C}),R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{v(F=>({...F,open:!1}))},3600)},window.hideUnifyMessage=()=>{R.current&&clearTimeout(R.current),v(T=>({...T,open:!1}))},window.showUnifyConfirm=T=>{const V=T||{},z=V.text||"Use this power now?",C=V.topic||"",F=V.yesLabel||"Yes",E=V.noLabel||"No";W.current=typeof V.onYes=="function"?V.onYes:null,J.current=typeof V.onNo=="function"?V.onNo:null,k({open:!0,text:z,topic:C,yesLabel:F,noLabel:E})},window.hideUnifyConfirm=()=>{k(T=>({...T,open:!1}))},()=>{R.current&&clearTimeout(R.current),delete window.showUnifyMessage,delete window.hideUnifyMessage,delete window.showUnifyConfirm,delete window.hideUnifyConfirm}),[]),e.jsxs(e.Fragment,{children:[d&&e.jsxs("nav",{className:"app-nav",children:[!o&&e.jsx(D,{to:"/",className:"app-logo","aria-label":"Home",children:e.jsxs("span",{className:"desk-logo",children:[e.jsx("span",{className:"back"}),e.jsx("span",{className:"seat"}),e.jsx("span",{className:"leg-left"}),e.jsx("span",{className:"leg-right"}),e.jsx("span",{className:"desk"})]})}),!m&&e.jsx(D,{to:"/howto",children:"How to Play"}),!m&&e.jsx("button",{className:"nav-back",onClick:()=>history.length>1?history.back():window.location.href="/",children:"Back"}),!m&&e.jsx(D,{to:"/game",children:"Math Pup"}),!m&&e.jsx(D,{to:"/capture",children:"Capture"}),!m&&e.jsx(D,{to:"/decimal",children:"Deci-What?"}),!m&&e.jsx(D,{to:"/mathsynth",children:"Ma+h5Yn+h3"}),!m&&e.jsx(D,{to:"/about",children:"About"}),!m&&e.jsx(D,{to:"/list",children:"Games"}),!m&&e.jsx(D,{to:"/",children:"Home"})]}),e.jsx("main",{children:e.jsxs(Xn,{children:[e.jsx(_e,{path:"/",element:e.jsx(la,{})}),e.jsx(_e,{path:"/game",element:e.jsx(ma,{})}),e.jsx(_e,{path:"/capture",element:e.jsx(pa,{})}),e.jsx(_e,{path:"/decimal",element:e.jsx(ka,{})}),e.jsx(_e,{path:"/mathsynth",element:e.jsx(Ea,{})}),e.jsx(_e,{path:"/bennyworld",element:e.jsx(Ba,{})}),e.jsx(_e,{path:"/list",element:e.jsx(ua,{})}),e.jsx(_e,{path:"/profile",element:e.jsx(Aa,{})}),e.jsx(_e,{path:"/howto",element:e.jsx(Sa,{})}),e.jsx(_e,{path:"/about",element:e.jsx(Ca,{})})]})}),e.jsxs("div",{className:`unify-toast ${y.open?"show":""}${y.topic?` topic-${y.topic}`:""}`,role:"status","aria-live":"polite","aria-hidden":!y.open,children:[e.jsxs("div",{className:"unify-booiii","aria-hidden":"true",children:[e.jsxs("div",{className:"unify-booiii__hat",children:[e.jsx("span",{className:"unify-booiii__dot"}),e.jsx("span",{className:"unify-booiii__hat-top"}),e.jsx("span",{className:"unify-booiii__hat-brim"})]}),e.jsxs("div",{className:"unify-booiii__head",children:[e.jsx("span",{className:"unify-booiii__eye"}),e.jsx("span",{className:"unify-booiii__eye"}),e.jsx("span",{className:"unify-booiii__mouth"})]}),e.jsx("div",{className:"unify-booiii__torso"}),e.jsxs("div",{className:"unify-booiii__arms",children:[e.jsx("span",{className:"unify-booiii__arm left"}),e.jsx("span",{className:"unify-booiii__arm right"})]}),e.jsxs("div",{className:"unify-booiii__legs",children:[e.jsx("span",{className:"unify-booiii__leg left"}),e.jsx("span",{className:"unify-booiii__leg right"})]})]}),e.jsx("div",{className:"unify-bubble",children:y.text})]}),e.jsxs("div",{className:`unify-confirm ${w.open?"show":""}${w.topic?` topic-${w.topic}`:""}`,role:"dialog","aria-modal":"true","aria-hidden":!w.open,children:[e.jsx("div",{className:"unify-confirm__backdrop",onClick:()=>{J.current&&J.current(),k(T=>({...T,open:!1}))}}),e.jsxs("div",{className:"unify-confirm__panel",children:[e.jsx("div",{className:"unify-confirm__booiii","aria-hidden":"true",children:e.jsxs("div",{className:"unify-booiii",children:[e.jsxs("div",{className:"unify-booiii__hat",children:[e.jsx("span",{className:"unify-booiii__dot"}),e.jsx("span",{className:"unify-booiii__hat-top"}),e.jsx("span",{className:"unify-booiii__hat-brim"})]}),e.jsxs("div",{className:"unify-booiii__head",children:[e.jsx("span",{className:"unify-booiii__eye"}),e.jsx("span",{className:"unify-booiii__eye"}),e.jsx("span",{className:"unify-booiii__mouth"})]}),e.jsx("div",{className:"unify-booiii__torso"}),e.jsxs("div",{className:"unify-booiii__arms",children:[e.jsx("span",{className:"unify-booiii__arm left"}),e.jsx("span",{className:"unify-booiii__arm right"})]}),e.jsxs("div",{className:"unify-booiii__legs",children:[e.jsx("span",{className:"unify-booiii__leg left"}),e.jsx("span",{className:"unify-booiii__leg right"})]})]})}),e.jsx("div",{className:"unify-confirm__bubble",children:w.text}),e.jsxs("div",{className:"unify-confirm__actions",children:[e.jsx("button",{type:"button",className:"unify-confirm__btn yes",onClick:()=>{W.current&&W.current(),k(T=>({...T,open:!1}))},children:w.yesLabel}),e.jsx("button",{type:"button",className:"unify-confirm__btn no",onClick:()=>{J.current&&J.current(),k(T=>({...T,open:!1}))},children:w.noLabel})]})]})]})]})}rn(document.getElementById("root")).render(e.jsx(Qn.StrictMode,{children:e.jsx(ea,{basename:"/Math-isn-t-Lame/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(La,{})})}));
