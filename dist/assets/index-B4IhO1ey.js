import{r as _,a as Ba,u as La,L as X,b as pt,R as Da,c as We,d as Aa,B as Ra}from"./vendor-CV00cFDn.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var _n={exports:{}},$t={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=_,Fa=Symbol.for("react.element"),Ha=Symbol.for("react.fragment"),Oa=Object.prototype.hasOwnProperty,Ua=qa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wa={key:!0,ref:!0,__self:!0,__source:!0};function En(s,i,n){var r,o={},u=null,c=null;n!==void 0&&(u=""+n),i.key!==void 0&&(u=""+i.key),i.ref!==void 0&&(c=i.ref);for(r in i)Oa.call(i,r)&&!Wa.hasOwnProperty(r)&&(o[r]=i[r]);if(s&&s.defaultProps)for(r in i=s.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return{$$typeof:Fa,type:s,key:u,ref:c,props:o,_owner:Ua.current}}$t.Fragment=Ha;$t.jsx=En;$t.jsxs=En;_n.exports=$t;var e=_n.exports,Pn,gn=Ba;Pn=gn.createRoot,gn.hydrateRoot;const $n="mathpop_translate_cache_v1";function Ka(){try{const s=localStorage.getItem($n);if(!s)return{};const i=JSON.parse(s);return i&&typeof i=="object"?i:{}}catch{return{}}}function Ga(s){try{localStorage.setItem($n,JSON.stringify(s))}catch{}}function Ja(){if(typeof navigator>"u")return"en";const s=navigator.languages&&navigator.languages[0]||navigator.language||"en";return String(s).toLowerCase()}async function Ya(s,i){const n=new URL("https://translate.googleapis.com/translate_a/single");n.searchParams.set("client","gtx"),n.searchParams.set("sl","en"),n.searchParams.set("tl",i),n.searchParams.set("dt","t"),n.searchParams.set("q",s);const r=await fetch(n.toString());if(!r.ok)throw new Error(`translate_failed_${r.status}`);const o=await r.json();if(!Array.isArray(o)||!Array.isArray(o[0]))throw new Error("invalid_translate_payload");return o[0].map(u=>Array.isArray(u)?u[0]:"").join("").trim()||s}function za(s,i=!0){const[n]=_.useState(()=>Ja()),[r,o]=_.useState(s),[u,c]=_.useState(!1),d=_.useMemo(()=>s||{},[s]),x=_.useMemo(()=>JSON.stringify(d),[d]),b=n.split("-")[0]||"en",v=!i||b==="en"?d:r;return _.useEffect(()=>{if(!i||b==="en")return;let S=!1;const M=Ka();return(async()=>{c(!0);const T={...d},q=Object.entries(d);for(let E=0;E<q.length;E+=1){const[B,C]=q[E];if(!C)continue;const ee=`${b}|${C}`;if(M[ee]){T[B]=M[ee];continue}try{const ae=await Ya(C,b);M[ee]=ae,T[B]=ae}catch{T[B]=C}}S||(Ga(M),o(T),c(!1))})().catch(()=>{S||(o(d),c(!1))}),()=>{S=!0}},[i,d,x,b]),{translated:v,language:b,isTranslating:u}}const Va="mathpop_continue_progress_",zt="mathpop_continue_request",ft=new Set(["/game","/capture","/decimal","/mathsynth"]);function gt(){return typeof window<"u"&&typeof window.localStorage<"u"}function yt(){if(!gt())return null;const s=window.localStorage.getItem("mathpop_current_user");return s&&s!=="guest"?s:null}function Tn(s){return`${Va}${s}`}function Vt(s=yt()){if(!gt()||!s)return null;try{const i=window.localStorage.getItem(Tn(s));if(!i)return null;const n=JSON.parse(i);return!n||!ft.has(n.route)?null:n}catch{return null}}function Xa(s,i,n=yt()){if(!gt()||!n||!ft.has(s))return;const r={route:s,user:n,updatedAt:Date.now(),state:i||{}};try{window.localStorage.setItem(Tn(n),JSON.stringify(r))}catch{}}function Qa(s,i=yt()){if(!(!gt()||!i||!ft.has(s)))try{window.sessionStorage.setItem(zt,JSON.stringify({route:s,user:i,requestedAt:Date.now()}))}catch{}}function Za(s,i=yt()){if(!gt()||!i||!ft.has(s))return!1;try{const n=window.sessionStorage.getItem(zt);if(!n)return!1;const r=JSON.parse(n);return r&&r.route===s&&r.user===i?(window.sessionStorage.removeItem(zt),!0):!1}catch{return!1}}function Tt({route:s,isReady:i,readState:n,applyState:r,saveEveryMs:o=1200,maxResumeAttempts:u=40,resumeDelayMs:c=120}){if(!ft.has(s))return()=>{};const d=yt();if(!d)return()=>{};let x=!1,g=null,b=null,v=0;const S=Za(s,d),M=Vt(d),D=()=>{x||i()&&Xa(s,n(),d)};return S&&M&&M.route===s&&M.state&&(b=window.setInterval(()=>{if(x||!i())return;v+=1,(r(M.state)||v>=u)&&(window.clearInterval(b),b=null)},c)),g=window.setInterval(D,o),window.addEventListener("pagehide",D),window.addEventListener("beforeunload",D),document.addEventListener("visibilitychange",D),D(),()=>{x=!0,g&&window.clearInterval(g),b&&window.clearInterval(b),window.removeEventListener("pagehide",D),window.removeEventListener("beforeunload",D),document.removeEventListener("visibilitychange",D),D()}}const Qt=365,In=8e3,Zt=24*60*60*1e3;function yn(s){return String(s).padStart(2,"0")}function Bn(s){const i=s.getFullYear(),n=yn(s.getMonth()+1),r=yn(s.getDate());return`${i}-${n}-${r}`}function Ln(s){return Math.max(0,s)%Qt+1}function es(s){let i=1779033703^s.length;for(let n=0;n<s.length;n+=1)i=Math.imul(i^s.charCodeAt(n),3432918353),i=i<<13|i>>>19;return()=>(i=Math.imul(i^i>>>16,2246822507),i=Math.imul(i^i>>>13,3266489909),(i^=i>>>16)>>>0)}function ts(s){return()=>{let i=s+=1831565813;return i=Math.imul(i^i>>>15,i|1),i^=i+Math.imul(i^i>>>7,i|61),((i^i>>>14)>>>0)/4294967296}}function xn(s,i,n){return Math.floor(s()*(n-i+1))+i}function bn(s,i){const n=i.reduce((o,u)=>o+u.weight,0);let r=s()*n;for(let o=0;o<i.length;o+=1)if(r-=i[o].weight,r<=0)return i[o].value;return i[i.length-1].value}function ns(s){return s==="capture"?"/capture":s==="decimal"?"/decimal":s==="mathsynth"?"/mathsynth":"/game"}function wn(s){return s==="capture"?"Capture The Fraction":s==="decimal"?"Deci-What?":s==="mathsynth"?"Ma+h5Yn+h3":"Math Pup"}function as(s){return s<=75?{name:"Warmup",games:[{gameId:"mathpup",weight:4,levels:[{value:"Easy",weight:6},{value:"Easy25",weight:4}],targetMin:9,targetMax:11},{gameId:"capture",weight:4,levels:[{value:"easy",weight:6},{value:"easy25",weight:4}],targetMin:8,targetMax:10},{gameId:"decimal",weight:4,levels:[{value:"easy20",weight:5},{value:"easy25",weight:3},{value:"easy30",weight:2}],targetMin:8,targetMax:10},{gameId:"mathsynth",weight:3,levels:[{value:"easy",weight:1}],targetMin:7,targetMax:9}]}:s<=150?{name:"Builder",games:[{gameId:"mathpup",weight:4,levels:[{value:"Easy25",weight:4},{value:"Easy50",weight:3},{value:"Easy75",weight:2},{value:"Medium",weight:1}],targetMin:10,targetMax:12},{gameId:"capture",weight:4,levels:[{value:"easy25",weight:3},{value:"medium",weight:4},{value:"medium25",weight:3}],targetMin:9,targetMax:11},{gameId:"decimal",weight:4,levels:[{value:"easy25",weight:3},{value:"easy30",weight:3},{value:"medium",weight:4}],targetMin:9,targetMax:11},{gameId:"mathsynth",weight:3,levels:[{value:"easy",weight:3},{value:"medium",weight:2}],targetMin:8,targetMax:10}]}:s<=230?{name:"Mix-Up",games:[{gameId:"mathpup",weight:4,levels:[{value:"Easy50",weight:2},{value:"Easy75",weight:3},{value:"Medium",weight:3},{value:"Medium26",weight:2}],targetMin:10,targetMax:13},{gameId:"capture",weight:4,levels:[{value:"medium",weight:4},{value:"medium25",weight:4},{value:"mathanomical",weight:2}],targetMin:10,targetMax:12},{gameId:"decimal",weight:4,levels:[{value:"easy30",weight:2},{value:"medium",weight:4},{value:"mathamatical",weight:4}],targetMin:10,targetMax:12},{gameId:"mathsynth",weight:3,levels:[{value:"easy",weight:2},{value:"medium",weight:4},{value:"mathanomical",weight:2}],targetMin:8,targetMax:11}]}:s<=300?{name:"Champion",games:[{gameId:"mathpup",weight:4,levels:[{value:"Easy75",weight:2},{value:"Medium",weight:3},{value:"Medium26",weight:3},{value:"Medium60",weight:2}],targetMin:10,targetMax:13},{gameId:"capture",weight:4,levels:[{value:"medium",weight:3},{value:"medium25",weight:4},{value:"mathanomical",weight:3}],targetMin:10,targetMax:12},{gameId:"decimal",weight:4,levels:[{value:"medium",weight:4},{value:"mathamatical",weight:6}],targetMin:10,targetMax:12},{gameId:"mathsynth",weight:3,levels:[{value:"medium",weight:5},{value:"mathanomical",weight:3}],targetMin:9,targetMax:11}]}:{name:"All-Star",games:[{gameId:"mathpup",weight:4,levels:[{value:"Medium",weight:3},{value:"Medium26",weight:3},{value:"Medium60",weight:3},{value:"Medium100",weight:2}],targetMin:9,targetMax:12},{gameId:"capture",weight:4,levels:[{value:"medium25",weight:5},{value:"mathanomical",weight:5}],targetMin:10,targetMax:12},{gameId:"decimal",weight:4,levels:[{value:"medium",weight:4},{value:"mathamatical",weight:6}],targetMin:10,targetMax:12},{gameId:"mathsynth",weight:3,levels:[{value:"medium",weight:4},{value:"mathanomical",weight:6}],targetMin:9,targetMax:11}]}}function Dn(s,i,n,r){const o=es(s),u=ts(o()),c=as(n),d=bn(u,c.games.map(v=>({value:v,weight:v.weight}))),x=bn(u,d.levels),g=xn(u,d.targetMin,d.targetMax),b=Math.max(6,Math.min(16,g+xn(u,-2,3)));return{id:`daily-${i}-${n}`,dateKey:r,dayIndex:n,totalDays:Qt,gameId:d.gameId,gameLabel:wn(d.gameId),route:ns(d.gameId),level:x,requiredCorrect:g,points:In,tier:c.name,estimatedMinutes:b,title:`${c.name} Daily #${n}`,description:`Play ${wn(d.gameId)} on ${x} and get ${g} correct answers.`}}function ss(s){if(!s||typeof window>"u"||!window.localStorage)return null;try{const i=window.localStorage.getItem(`mathpop_profile_${s}`);if(!i)return null;const n=JSON.parse(i),r=Number(n==null?void 0:n.created);return Number.isFinite(r)?r:null}catch{return null}}function is(s){return`mathpop_daily_anchor_${s||"guest"}`}function An(s,i=Date.now()){if(!s||typeof window>"u"||!window.localStorage)return i;const n=is(s),r=Number(window.localStorage.getItem(n));if(Number.isFinite(r)&&r>0)return r;const o=ss(s),c=Number.isFinite(o)&&o>9466848e5?o:i;return window.localStorage.setItem(n,String(c)),c}function rs(s,i,n=Date.now()){const r=An(s,n),o=Math.max(0,Math.floor(i)),u=r+o*Zt,c=new Date(u),d=Ln(o),x=Bn(c),g=c.getFullYear(),b=`${g}-all-games-daily-${d}`;return Dn(b,g,d,x)}function os(s=new Date){const i=s.getFullYear(),n=(()=>{const c=Date.UTC(i,s.getMonth(),s.getDate()),d=Date.UTC(i,0,0);return Math.floor((c-d)/Zt)})(),r=Ln(n-1),o=Bn(s),u=`${i}-all-games-daily-${r}`;return Dn(u,i,r,o)}function ls(s){return`mathpop_daily_challenge_state_${s||"guest"}`}function Gt(){return{claims:{},progress:{},streak:0,lastClaimDate:null,totalCompleted:0}}function cs(s){if(!s)return Gt();try{const i=window.localStorage.getItem(ls(s));if(!i)return Gt();const n=JSON.parse(i);return{claims:n!=null&&n.claims&&typeof n.claims=="object"?n.claims:{},progress:n!=null&&n.progress&&typeof n.progress=="object"?n.progress:{},streak:Number(n==null?void 0:n.streak)||0,lastClaimDate:(n==null?void 0:n.lastClaimDate)||null,totalCompleted:Number(n==null?void 0:n.totalCompleted)||0}}catch{return Gt()}}function xt(s,i=new Date){var T,q;if(!s||typeof window>"u"||!window.localStorage){const E=os(i),B=E.dateKey;return{challenge:E,dateKey:B,claimed:!1,progress:null,streak:0,totalCompleted:0,unlockedCount:1,pendingCount:1}}const n=i.getTime(),r=An(s,n),o=Math.max(0,n-r),u=Math.max(1,Math.floor(o/Zt)+1),c=cs(s),d=Object.keys(c.claims||{}).length,x=Math.max(0,u-1),g=rs(s,x,n),b=g.dateKey,v=(T=c.claims)==null?void 0:T[b],S=((q=c.progress)==null?void 0:q[b])||null,M=!!(v&&v.challengeId===g.id),D=Math.max(0,u-d);return{challenge:g,dateKey:b,claimed:M,progress:S,streak:Number(c.streak)||0,totalCompleted:Number(c.totalCompleted)||0,unlockedCount:u,pendingCount:D}}const vn=[{id:"euclid",phrase:"Geometry Has No Shortcuts",quote:"There is no royal road to geometry.",author:"Euclid",country:"Greece",translationKey:"quote.euclid"},{id:"gauss",phrase:"Math Leads The Sciences",quote:"Mathematics is the queen of the sciences.",author:"Carl Friedrich Gauss",country:"Germany",translationKey:"quote.gauss"},{id:"poincare",phrase:"Name Patterns Clearly",quote:"Mathematics is the art of giving the same name to different things.",author:"Henri Poincare",country:"France",translationKey:"quote.poincare"},{id:"russell",phrase:"Math Has Beauty",quote:"Mathematics, rightly viewed, possesses beauty.",author:"Bertrand Russell",country:"United Kingdom",translationKey:"quote.russell"},{id:"galileo",phrase:"Nature Speaks Math",quote:"Mathematics is the language of nature.",author:"Galileo Galilei",country:"Italy",translationKey:"quote.galileo"},{id:"mirzakhani",phrase:"Beauty Tests Ideas",quote:"Beauty is the first test of mathematics.",author:"Maryam Mirzakhani",country:"Iran",translationKey:"quote.mirzakhani"},{id:"ramanujan",phrase:"Equations Need Meaning",quote:"An equation means nothing unless it expresses a thought.",author:"Srinivasa Ramanujan",country:"India",translationKey:"quote.ramanujan"},{id:"kovalevskaya",phrase:"Think Like A Poet",quote:"It is impossible to be a mathematician without being a poet.",author:"Sofia Kovalevskaya",country:"Russia",translationKey:"quote.kovalevskaya"},{id:"banach",phrase:"Spirit Builds Math",quote:"Mathematics is the most beautiful creation of the human spirit.",author:"Stefan Banach",country:"Poland",translationKey:"quote.banach"},{id:"euler",phrase:"Reason Is Everywhere",quote:"Nothing takes place without a mathematical reason.",author:"Leonhard Euler",country:"Switzerland",translationKey:"quote.euler"},{id:"brouwer",phrase:"Build It In Mind",quote:"Mathematics is mental construction.",author:"L.E.J. Brouwer",country:"Netherlands",translationKey:"quote.brouwer"},{id:"erdos",phrase:"Open Mind Wins",quote:"My brain is open.",author:"Paul Erdos",country:"Hungary",translationKey:"quote.erdos"},{id:"fields",phrase:"Connections Matter",quote:"Mathematics reveals hidden connections.",author:"John Charles Fields",country:"Canada",translationKey:"quote.fields"},{id:"ito",phrase:"Uncertainty Has Shape",quote:"Probability describes uncertainty.",author:"Kiyoshi Ito",country:"Japan",translationKey:"quote.ito"},{id:"hua",phrase:"Calculation Drives Progress",quote:"Where there is calculation, there is progress.",author:"Hua Luogeng",country:"China",translationKey:"quote.hua"},{id:"avila",phrase:"Explore The Unknown",quote:"Mathematics is exploration.",author:"Artur Avila",country:"Brazil",translationKey:"quote.avila"},{id:"tao",phrase:"Practice Clear Thinking",quote:"Mathematics is a way of thinking.",author:"Terence Tao",country:"Australia",translationKey:"quote.tao"},{id:"adem",phrase:"Build Real Understanding",quote:"Mathematics builds understanding.",author:"Jose Adem",country:"Mexico",translationKey:"quote.adem"},{id:"hypatia",phrase:"Protect Thought",quote:"Reserve your right to think.",author:"Hypatia",country:"Egypt",translationKey:"quote.hypatia"},{id:"rey-pastor",phrase:"Science Needs Math",quote:"Mathematics underlies science.",author:"Julio Rey Pastor",country:"Spain",translationKey:"quote.rey_pastor"},{id:"arf",phrase:"Understand Do Not Memorize",quote:"Understanding is more valuable than memorizing.",author:"Cahit Arf",country:"Turkey",translationKey:"quote.arf"},{id:"lindenstrauss",phrase:"Patterns Lead Discovery",quote:"Patterns are the heart of mathematics.",author:"Elon Lindenstrauss",country:"Israel",translationKey:"quote.lindenstrauss"},{id:"katherine-johnson",phrase:"Love The Work",quote:"Like what you do and then you will do your best.",author:"Katherine Johnson",country:"United States",translationKey:"quote.katherine_johnson"},{id:"mittag-leffler",phrase:"Patterns Spark Wonder",quote:"Beautiful patterns inspire mathematics.",author:"Magnus Gosta Mittag-Leffler",country:"Sweden",translationKey:"quote.mittag_leffler"},{id:"abdool-karim",phrase:"Numbers Expose Truth",quote:"Numbers help reveal truth.",author:"Quarraisha Abdool Karim",country:"South Africa",translationKey:"quote.abdool_karim"},{id:"benny",phrase:"BARK BARK",quote:'Nobody actually knows what it means… But legend says it translates to: "Math is Lit." (We asked Benny. He just barked again.)',author:"Benny",country:"Benny Dev",translationKey:"quote.benny"}],ds={euclid:"YOO-klid",gauss:"karl FREE-drikh GOWSS",poincare:"ahn-REE pwan-kah-RAY",russell:"BER-trand RUSS-uhl",galileo:"gal-uh-LAY-oh gal-uh-LAY",mirzakhani:"mah-ree-YAHM meer-zah-KHAH-nee",ramanujan:"sree-nee-VAH-sah rah-MAH-noo-juhn",kovalevskaya:"soh-FEE-yah koh-vah-LEHV-skah-yah",banach:"STEH-fahn BAH-nakh",euler:"LAY-on-hart OY-ler",brouwer:"LOW-ee EEE JAY BROW-er",erdos:"POWL AIR-dush",fields:"john CHARLZ FEELDZ",ito:"kee-YOH-shee EE-toh",hua:"hwah LWOH-gung",avila:"ar-TOOR AH-vee-lah",tao:"TEH-rens TOW",adem:"hoh-SEH ah-DEM",hypatia:"hy-PAY-shuh","rey-pastor":"HOO-lyoh RAY pas-TOR",arf:"jah-HEET ARF",lindenstrauss:"EH-lohn LIN-den-shtrouse","katherine-johnson":"KATH-er-in JOHN-suhn","mittag-leffler":"MAG-nus GUS-tah MIT-tahg LEFF-ler","abdool-karim":"kwah-RY-shah ab-DOOL kah-REEM",benny:"BEN-ee"},Et={A:["01110","10001","11111","10001","10001"],B:["11110","10001","11110","10001","11110"],C:["01111","10000","10000","10000","01111"],D:["11110","10001","10001","10001","11110"],E:["11111","10000","11110","10000","11111"],F:["11111","10000","11110","10000","10000"],G:["01111","10000","10111","10001","01111"],H:["10001","10001","11111","10001","10001"],I:["11111","00100","00100","00100","11111"],J:["00111","00010","00010","10010","01100"],K:["10001","10010","11100","10010","10001"],L:["10000","10000","10000","10000","11111"],M:["10001","11011","10101","10001","10001"],N:["10001","11001","10101","10011","10001"],O:["01110","10001","10001","10001","01110"],P:["11110","10001","11110","10000","10000"],Q:["01110","10001","10001","10011","01111"],R:["11110","10001","11110","10010","10001"],S:["01111","10000","01110","00001","11110"],T:["11111","00100","00100","00100","00100"],U:["10001","10001","10001","10001","01110"],V:["10001","10001","10001","01010","00100"],W:["10001","10001","10101","11011","10001"],X:["10001","01010","00100","01010","10001"],Y:["10001","01010","00100","00100","00100"],Z:["11111","00010","00100","01000","11111"]," ":["000","000","000","000","000"]};function Rn(s,i){const n=String(s||"").toUpperCase().split(/\s+/).filter(Boolean),r=[];let o="";const u=c=>{if(!c)return;if(!o){o=c;return}const d=`${o} ${c}`;d.length<=i?o=d:(r.push(o),o=c)};return n.forEach(c=>{if(c.length>i){o&&(r.push(o),o=""),r.push(c);return}u(c)}),o&&r.push(o),r.length?r:["MATH"]}function jn(s,i){const r=Rn(s,i).map(d=>{const x=Array.from({length:5},()=>"");return d.split("").forEach((g,b)=>{const v=/[A-Z ]/.test(g)?g:" ",S=Et[v]||Et[" "];for(let M=0;M<5;M+=1)x[M]+=S[M];if(b<d.length-1)for(let M=0;M<5;M+=1)x[M]+="0"}),x}),o=r.reduce((d,x)=>{var g;return Math.max(d,((g=x[0])==null?void 0:g.length)||0)},0)||1,u=r.map(d=>d.map(x=>x.padEnd(o,"0"))),c=[];return u.forEach((d,x)=>{c.push(...d),x<u.length-1&&c.push("0".repeat(o))}),c}function Nn(s){const i=[];return s.forEach((n,r)=>{n.split("").forEach((o,u)=>{o==="1"&&i.push({r,c:u})})}),i}function us(s,i,n=1){const o=Rn(s,Math.max(5,i-2)).map(g=>{const b=Array.from({length:5},()=>"");return g.split("").forEach((v,S)=>{const M=/[A-Z ]/.test(v)?v:" ",D=Et[M]||Et[" "];for(let T=0;T<5;T+=1)b[T]+=D[T];if(S<g.length-1)for(let T=0;T<5;T+=1)b[T]+="0"}),b}),u=o.reduce((g,b)=>{var v;return Math.max(g,((v=b[0])==null?void 0:v.length)||0)},0)||1,c=Math.max(n,u),d=o.map(g=>g.map(b=>{const v=Math.floor((c-b.length)/2),S=Math.max(0,c-b.length-v);return`${"0".repeat(v)}${b}${"0".repeat(S)}`})),x=[];return d.forEach((g,b)=>{x.push(...g),b<d.length-1&&x.push("0".repeat(c))}),x}function ms(s,i,n,r,o,u,c){const d=-2.4*c,x=o+2.4*c,g=-2.4*c,b=u+2.4*c,v=o/2,S=u/2,M=n>1?i/(n-1):0,D=Math.sin(M*Math.PI*2.5),T=M*Math.PI*2,q=E=>Math.sin((i+1)*(E+1.7))*.5+.5;switch(s){case 0:return{x:q(1)*o,y:q(2)*u};case 1:return{x:r.c*c,y:g-q(1)*u*.3};case 2:return{x:r.c*c,y:b+q(2)*u*.3};case 3:return{x:d-q(1)*o*.25,y:r.r*c};case 4:return{x:x+q(2)*o*.25,y:r.r*c};case 5:return{x:d,y:g};case 6:return{x,y:g};case 7:return{x:d,y:b};case 8:return{x,y:b};case 9:return{x:v+Math.cos(T)*(o*.46),y:S+Math.sin(T)*(u*.46)};case 10:return{x:v+Math.cos(T)*(o*.58),y:S+Math.sin(T)*(u*.58)};case 11:return{x:v+Math.cos(-T)*(o*.58),y:S+Math.sin(-T)*(u*.58)};case 12:{const E=1.2-M;return{x:v+Math.cos(T*4)*o*.5*E,y:S+Math.sin(T*4)*u*.5*E}}case 13:return{x:M*o,y:i%2===0?g:b};case 14:return{x:d,y:S+D*u*.45};case 15:return{x,y:S+D*u*.45};case 16:return{x:d+M*(x-d),y:g+M*(b-g)};case 17:return{x:x-M*(x-d),y:g+M*(b-g)};case 18:return{x:M<.5?d:x,y:S+(M-.5)*u*1.8};case 19:return{x:v+(M-.5)*o*1.8,y:M<.5?g:b};case 20:return{x:v+Math.cos(T*1.6)*(Math.max(o,u)*.9),y:S+Math.sin(T*1.6)*(Math.max(o,u)*.9)};case 21:return{x:M<.5?d+M*o*2:x-(M-.5)*o*2,y:S+Math.sin(T*3.4)*u*.38};case 22:return{x:(r.r+r.c)%2?d:x,y:r.r%2?g:b};case 23:return{x:M*o,y:g-Math.sin(M*Math.PI)*u*.75};default:{const E=Math.max(o,u)*(.9+q(3)*.55);return{x:v+Math.cos(T*6.2)*E,y:S+Math.sin(T*6.2)*E}}}}function hs(){var ne,oe;const s=((ne=La)==null?void 0:ne())||(()=>{window.location.href="/game"}),[i,n]=_.useState(()=>localStorage.getItem("highContrast")==="true"),[r,o]=_.useState(!1),[u,c]=_.useState("signup"),[d]=_.useState(()=>{const j=Math.floor(Math.random()*vn.length);return{quote:vn[j],quoteIndex:j}}),x=d.quote,g=ds[x.id]||x.author,[b,v]=_.useState(!1),[S,M]=_.useState(!1),[D,T]=_.useState(""),[q,E]=_.useState(""),[B,C]=_.useState(""),[ee,ae]=_.useState(!1),[G,ce]=_.useState(()=>localStorage.getItem("mathpop_current_user")||null),[ke,Q]=_.useState(null),K=_.useMemo(()=>G?xt(G,new Date):null,[G]),I=K?`${K.challenge.route}?daily=1`:"/game?daily=1",R=_.useMemo(()=>({navHowTo:"How to Play",navGames:"Games",navAbout:"About",navProfile:"Profile",signUp:"Sign Up",signIn:"Sign In",continue:"Continue",continueEmpty:"Play",dailyChallenge:"Daily Challenge",viewProfile:"View Profile",modalSignUp:"Sign Up",modalSignIn:"Sign In",username:"Username",email:"Email",password:"Password",createProfile:"Create Profile",quotePhrase:x.phrase,quoteText:x.quote,quoteByline:`${x.country} — ${x.author}`,quotePronunciation:`Pronunciation: ${g}`}),[x,g]),{translated:O}=za(R,!0),Y=_.useMemo(()=>{var Ae,Re;const j=typeof window<"u"?window.innerWidth:1024,J=Math.max(220,Math.min(j-24,980));let ye=j<=420?9:j<=720?12:18,ie=jn(x.phrase,ye),z=((Ae=ie[0])==null?void 0:Ae.length)||1,Z=Math.floor(J/z);const re=j<=420?3:4;for(;(Z<re||ie.length>18)&&ye>6;)ye-=1,ie=jn(x.phrase,ye),z=((Re=ie[0])==null?void 0:Re.length)||1,Z=Math.floor(J/z);Z=Math.max(re,Math.min(j<=520?16:20,Z));const be=z*Z,ve=ie.length*Z,je=d.quoteIndex%25,Te=1100+je%5*220,Ne=6+je%7*4,me=["cubic-bezier(0.2,0.9,0.25,1)","cubic-bezier(0.4,0,0.2,1)","cubic-bezier(0.18,0.84,0.28,1)","cubic-bezier(0.34,1.56,0.64,1)","cubic-bezier(0.07,0.82,0.17,1)"],$e=Nn(ie),Se=us(x.phrase,ye,z),Ie=Nn(Se),De=j<=720&&Ie.length===$e.length&&Se.join("")!==ie.join(""),_e=Se.length*Z,P=De?Math.max(ve,_e):ve,$=Math.max(j<=520?180:200,P+22),A=$e.length||1,le=$e.map((Me,he)=>{const qe=ms(je,he,A,Me,J,$,Z),He=Ie[he]||Me,Oe=Math.floor(he*Ne),Ge=(je*19+he*7)%100-50,Fe=.75+(he+je)%5*.08;return{key:`${Me.r}-${Me.c}`,endX:Me.c*Z,endY:Me.r*Z,startX:qe.x,startY:qe.y,delay:Oe,duration:Te,ease:me[je%me.length],rotate:`${Ge}deg`,scale:String(Fe),postX:He.c*Z,postY:He.r*Z}}),Be=le.reduce((Me,he)=>Math.max(Me,he.delay),0),Ee=Te+Be+220;return{cellSize:Z,width:be,height:P,stageHeight:$,variant:je,targets:le,usePostLayout:De,postLayoutDelayMs:Ee}},[x.phrase,d.quoteIndex]);_.useEffect(()=>{document.body.classList.toggle("high-contrast",!!i),localStorage.setItem("highContrast",i?"true":"false")},[i]),_.useEffect(()=>{M(!1);const j=requestAnimationFrame(()=>v(!0));return()=>cancelAnimationFrame(j)},[x.id]),_.useEffect(()=>{if(!b||!Y.usePostLayout)return;const j=Y.postLayoutDelayMs||2400,J=window.setTimeout(()=>M(!0),j);return()=>window.clearTimeout(J)},[b,Y.postLayoutDelayMs,Y.usePostLayout]),_.useEffect(()=>{Q(Vt(G))},[G]);function de(j){if(!(!j||!j.username))try{return localStorage.setItem("mathpop_profile_"+j.username,JSON.stringify(j)),F(j.username),!0}catch{return alert("Unable to save profile on this device right now."),!1}}function ue(j){if(!j)return null;const J=localStorage.getItem("mathpop_profile_"+j);if(!J)return null;try{return JSON.parse(J)}catch{return null}}function F(j){j?(localStorage.setItem("mathpop_current_user",j),ce(j)):(localStorage.removeItem("mathpop_current_user"),ce(null))}function pe(j){if(j)try{const J="mathpop_emails",ye=JSON.parse(localStorage.getItem(J)||"[]");ye.includes(j)||ye.push(j),localStorage.setItem(J,JSON.stringify(ye)),localStorage.setItem("mathpop_email_compilation",ye.join(","))}catch{}}function Je(){try{if(typeof s=="function"){s("/game");return}}catch{}window.location.href="/game"}function fe(){const j=Vt(G),J=(j==null?void 0:j.route)||"/game";Qa(J,G),s(J)}function we(){if(!D.trim()||!q.trim()||!B){alert("Please fill all fields");return}if(!ee){alert("You must accept the disclaimer");return}const j=Date.now(),J={username:D.trim(),email:q.trim(),password:B,created:j};de(J)&&(localStorage.setItem("mathpop_highscore_"+J.username,localStorage.getItem("mathpop_highscore_"+J.username)||"0"),pe(J.email),o(!1),alert("Profile created — starting game"),setTimeout(Je,200))}function ge(){if(!D.trim()||!B){alert("Please fill both fields");return}const j=ue(D.trim()),J=String((j==null?void 0:j.password)||"");if(!j||!J||J!==B){alert("Invalid username or password");return}F(D.trim()),o(!1),alert("Signed in — starting game"),setTimeout(Je,200)}function te(){F(null),window.location.reload()}return e.jsxs("div",{className:"background",children:[e.jsxs("nav",{children:[e.jsx("div",{className:"logo",children:e.jsxs("span",{className:"desk-logo",children:[e.jsx("span",{className:"back"}),e.jsx("span",{className:"seat"}),e.jsx("span",{className:"leg-left"}),e.jsx("span",{className:"leg-right"}),e.jsx("span",{className:"desk"})]})}),e.jsxs("div",{id:"userArea",className:"user-area",style:{marginLeft:12},children:[e.jsx("span",{id:"usernameDisplay",style:{display:G?"inline":"none"},children:G}),e.jsx("button",{id:"logoutBtn",style:{display:G?"inline-block":"none"},onClick:te,children:"Logout"})]}),e.jsxs("ul",{className:"nav",style:{listStyle:"none",display:"flex",gap:8,padding:0},children:[e.jsx("li",{children:e.jsx(X,{to:"/howto",children:O.navHowTo||R.navHowTo})}),e.jsx("li",{children:e.jsx(X,{to:"/list",children:O.navGames||R.navGames})}),e.jsx("li",{children:e.jsx(X,{to:"/about",children:O.navAbout||R.navAbout})}),G&&e.jsx("li",{children:e.jsx(X,{to:"/profile",children:O.navProfile||R.navProfile})})]})]}),e.jsx("header",{children:e.jsx("div",{className:"hero-card",children:e.jsx("div",{className:"hero-actions",id:"heroActions",children:G?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"start-btn",id:"continueGame",onClick:fe,children:ke?O.continue||R.continue:O.continueEmpty||R.continueEmpty}),e.jsx("button",{className:"start-btn",style:{marginLeft:8},onClick:()=>s(I),children:O.dailyChallenge||R.dailyChallenge}),K&&e.jsxs("div",{className:"daily-challenge-card","aria-live":"polite",children:[e.jsxs("p",{className:"daily-challenge-title",children:["Day ",K.challenge.dayIndex," of ",Qt,":"," ",K.challenge.gameLabel," ",K.challenge.level]}),e.jsxs("p",{className:"daily-challenge-detail",children:["Get"," ",K.challenge.requiredCorrect," ","correct answers. Reward:"," ",In," ","points."]}),e.jsx("p",{className:"daily-challenge-status",children:K.claimed?"Completed today. Come back tomorrow for the next challenge.":`Progress: ${Number((oe=K.progress)==null?void 0:oe.correct)||0}/${K.challenge.requiredCorrect} correct. Streak: ${K.streak} day(s).`})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"start-btn",id:"openSignUp",onClick:()=>{c("signup"),o(!0)},children:O.signUp||R.signUp}),e.jsx("button",{className:"start-btn",id:"openSignIn",style:{marginLeft:8},onClick:()=>{c("signin"),o(!0)},children:O.signIn||R.signIn})]})})})}),e.jsxs("section",{className:`quote-stage quote-anim-${x.id} quote-motion-${Y.variant}${b?" animate":""}${S?" post-layout":""}`,"data-translation-key":x.translationKey,"aria-label":"Featured math quote",children:[e.jsx("p",{className:"quote-phrase",children:O.quotePhrase||R.quotePhrase}),e.jsxs("div",{className:"phrase-field-wrap",style:{minHeight:`${Y.stageHeight}px`},children:[e.jsx("div",{className:"chair-field quote-chair-field",style:{"--cell":`${Y.cellSize}px`,width:`${Y.width}px`,height:`${Y.height}px`},children:Y.targets.map(j=>e.jsxs("div",{className:"chair",style:{"--start-x":`${j.startX}px`,"--start-y":`${j.startY}px`,"--end-x":`${j.endX}px`,"--end-y":`${j.endY}px`,"--post-x":`${j.postX}px`,"--post-y":`${j.postY}px`,"--delay-ms":`${j.delay}ms`,"--travel-ms":`${j.duration}ms`,"--travel-ease":j.ease,"--start-rot":j.rotate,"--start-scale":j.scale},children:[e.jsx("div",{className:"back"}),e.jsx("div",{className:"seat"}),e.jsx("div",{className:"leg-left"}),e.jsx("div",{className:"leg-right"}),e.jsx("div",{className:"desk"})]},j.key))}),e.jsx("button",{className:"quote-benny",type:"button","aria-pressed":i?"true":"false",title:"Toggle high contrast",onClick:()=>n(j=>!j),children:e.jsxs("span",{className:"quote-benny-shape",children:[e.jsx("span",{className:"back"}),e.jsx("span",{className:"leg-left"}),e.jsx("span",{className:"leg-right"}),e.jsx("span",{className:"head"})]})})]}),e.jsx("blockquote",{className:"quote-text",children:O.quoteText||R.quoteText}),e.jsx("p",{className:"quote-byline",children:O.quoteByline||R.quoteByline}),e.jsx("p",{className:"quote-pronunciation",children:O.quotePronunciation||R.quotePronunciation})]}),e.jsx("div",{id:"authModal",className:"modal","aria-hidden":r?"false":"true",style:{display:r?"flex":"none"},children:e.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",children:[e.jsx("button",{className:"modal-close",id:"authClose",onClick:()=>o(!1),children:"✕"}),e.jsx("h2",{id:"modalTitle",children:u==="signup"?O.modalSignUp||R.modalSignUp:O.modalSignIn||R.modalSignIn}),e.jsxs("form",{className:"auth-form",onSubmit:j=>{if(j.preventDefault(),u==="signup"){we();return}ge()},children:[e.jsxs("label",{children:[O.username||R.username,e.jsx("input",{id:"suUsername",required:!0,value:D,onChange:j=>T(j.target.value)})]}),u==="signup"&&e.jsxs("label",{children:[O.email||R.email,e.jsx("input",{id:"suEmail",type:"email",required:!0,value:q,onChange:j=>E(j.target.value)})]}),u==="signin"&&e.jsxs("label",{children:[O.password||R.password,e.jsx("input",{id:"siPassword",type:"password",required:!0,value:B,onChange:j=>C(j.target.value)})]}),u==="signup"&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{children:[O.password||R.password,e.jsx("input",{id:"suPassword",type:"password",required:!0,value:B,onChange:j=>C(j.target.value)})]}),e.jsxs("label",{className:"disclaimer",children:[e.jsx("input",{id:"dataAccept",type:"checkbox",checked:ee,onChange:j=>ae(j.target.checked)})," I accept the local data policy (no ads, no tracking, clear anytime)"]})]}),e.jsx("div",{className:"auth-actions",children:e.jsx("button",{type:"submit",id:u==="signup"?"doSignUp":"doSignIn",children:u==="signup"?O.createProfile||R.createProfile:O.signIn||R.signIn})})]})]})})]})}const qn=[{id:"song-01",label:"Math isn’t lame",filename:"01-math-isnt-lame.mp3",originalFilename:" Math isn’t lame.mp3"},{id:"song-02",label:"5ever is a long time",filename:"02-5ever-is-a-long-time.mp3",originalFilename:"5ever is a long time.mp3"},{id:"song-03",label:"Al-Khwarizmi Father of Algebra",filename:"03-al-khwarizmi-father-of-algebra.mp3",originalFilename:"Al-Khwarizmi Father of Algebra.mp3"},{id:"song-04",label:"Avila Dynamics",filename:"04-avila-dynamics.mp3",originalFilename:"Avila Dynamics.mp3"},{id:"song-05",label:"Cloudy numbers with a chance of math",filename:"05-cloudy-numbers-with-a-chance-of-math.mp3",originalFilename:"Cloudy numbers with a chance of math.mp3"},{id:"song-06",label:"Common denominator",filename:"06-common-denominator.mp3",originalFilename:"Common denominator.mp3"},{id:"song-07",label:"Decimal situation",filename:"07-decimal-situation.mp3",originalFilename:"Decimal situation.mp3"},{id:"song-08",label:"Dedicated to Ahmed Baba al-Timbukti",filename:"08-dedicated-to-ahmed-baba-al-timbukti.mp3",originalFilename:"Dedicated to Ahmed Baba al-Timbukti.mp3"},{id:"song-09",label:"Dedicated to Einstein",filename:"09-dedicated-to-einstein.mp3",originalFilename:"Dedicated to Einstein.mp3"},{id:"song-10",label:"Dedicated to Jose Adem",filename:"10-dedicated-to-jose-adem.mp3",originalFilename:"Dedicated to Jose Adem.mp3"},{id:"song-11",label:"Dedicated to Sofia Kovalevskaya",filename:"11-dedicated-to-sofia-kovalevskaya.mp3",originalFilename:"Dedicated to Sofia Kovalevskaya.mp3"},{id:"song-12",label:"Dedicated to Srinivasa Ramanujan",filename:"12-dedicated-to-srinivasa-ramanujan.mp3",originalFilename:"Dedicated to Srinivasa Ramanujan.mp3"},{id:"song-13",label:"Dedicated to Thomas Fuller",filename:"13-dedicated-to-thomas-fuller.mp3",originalFilename:"Dedicated to Thomas Fuller.mp3"},{id:"song-14",label:"Do you even geometrize_",filename:"14-do-you-even-geometrize.mp3",originalFilename:"Do you even geometrize_.mp3"},{id:"song-15",label:"Falling Numbers",filename:"15-falling-numbers.mp3",originalFilename:"Falling Numbers.mp3"},{id:"song-16",label:"Fraction funk",filename:"16-fraction-funk.mp3",originalFilename:"Fraction funk.mp3"},{id:"song-17",label:"Goofy Numbers",filename:"17-goofy-numbers.mp3",originalFilename:"Goofy Numbers.mp3"},{id:"song-18",label:"Jump!",filename:"18-jump.mp3",originalFilename:"Jump!.mp3"},{id:"song-19",label:"Katherine Johnson mission mathematics",filename:"19-katherine-johnson-mission-mathematics.mp3",originalFilename:"Katherine Johnson mission mathematics .mp3"},{id:"song-20",label:"Kiyoshi’s Probability",filename:"20-kiyoshis-probability.mp3",originalFilename:"Kiyoshi’s Probability.mp3"},{id:"song-21",label:"Logarithm",filename:"21-logarithm.mp3",originalFilename:"Logarithm.mp3"},{id:"song-22",label:"The Ballad of Miguel de Guzmán",filename:"22-the-ballad-of-miguel-de-guzman.mp3",originalFilename:"The Ballad of Miguel de Guzmán.mp3"},{id:"song-23",label:"The Lovelace Loop",filename:"23-the-lovelace-loop.mp3",originalFilename:"The Lovelace Loop.mp3"},{id:"song-24",label:"The Mirzakhani Method",filename:"24-the-mirzakhani-method.mp3",originalFilename:"The Mirzakhani Method.mp3"},{id:"song-25",label:"What if 7never89",filename:"25-what-if-7never89.mp3",originalFilename:"What if 7never89.mp3"},{id:"song-26",label:"Syntax Queen Theme song",filename:"Syntax Queen Theme song.mp3",originalFilename:"Syntax Queen Theme song.mp3"},{id:"song-27",label:"For the Dev",filename:"For the Dev.mp3",originalFilename:"For the Dev.mp3"}],ps=["easy","medium","mathanomical"],fs=new Set(["song-26","song-27"]);function gs(s){return typeof window>"u"||!window.localStorage?null:window.localStorage}function Sn(s){if(!s)return null;try{const i=JSON.parse(s);return i&&typeof i=="object"?i:null}catch{return null}}function ys(s,i){if(!s)return!1;const n=gs();if(!n)return!1;if(ps.some(u=>{const c=`mathpop_benny_dash_progress_${s}_${u}`,d=Sn(n.getItem(c));return!!(d!=null&&d.bossWonThisLevel)}))return!0;const o=Sn(n.getItem(`mathpop_benny_dash_progress_${s}`));return!!(o!=null&&o.bossWonThisLevel)}function It(s,i){const n=ys(s);return qn.filter(r=>fs.has(r.id)?n:!0)}const xs="/js/math.js",bs="/js/mathpup-timer.js",ws="/js/game.js";function vs(){const s=pt();return _.useEffect(()=>{let i=!1;window.__MathPopBaseUrl="/";const n=localStorage.getItem("mathpop_current_user");if(window.__MathPopJukeboxSongs=It(n),new URLSearchParams(s.search).get("daily")==="1"&&n){const u=xt(n,new Date);u.challenge.gameId==="mathpup"?window.__MathPupDailyChallenge={enabled:!0,...u.challenge,dateKey:u.dateKey,claimed:u.claimed,progress:u.progress}:window.__MathPupDailyChallenge=null}else window.__MathPupDailyChallenge=null;if(window.screen&&window.screen.orientation)try{window.screen.orientation.lock("landscape").catch(()=>{})}catch{}window.mathPupTimer&&typeof window.mathPupTimer.resetTimer=="function"&&window.mathPupTimer.resetTimer(),window.__MathPupCleanupDone=!1;const o=(u,c,d={})=>new Promise(x=>{const g=document.querySelector(`script[data-script-key="${c}"]`);g&&g.parentNode&&g.parentNode.removeChild(g);const b=document.createElement("script");b.src=u,b.async=d.async??!0,d.type&&(b.type=d.type),b.dataset.scriptKey=c,b.onload=()=>x(b),document.body.appendChild(b)});return o(xs,"mathjs",{async:!1}).then(()=>i?null:o(bs,"mathpup-timer",{async:!1}).then(()=>i?null:o(ws,"mathpup",{async:!1}))),()=>{if(i=!0,window.__MathPupCleanupDone=!0,window.screen&&window.screen.orientation)try{window.screen.orientation.unlock()}catch{}const u=document.querySelector('script[data-script-key="mathjs"]');u&&u.parentNode&&u.parentNode.removeChild(u);const c=document.querySelector('script[data-script-key="mathpup-timer"]');c&&c.parentNode&&c.parentNode.removeChild(c);const d=document.querySelector('script[data-script-key="mathpup"]');d&&d.parentNode&&d.parentNode.removeChild(d),window.mathPupTimer&&typeof window.mathPupTimer.resetTimer=="function"&&window.mathPupTimer.resetTimer(),window.__MathPupCleanup&&(window.__MathPupCleanup(),window.__MathPupCleanup=null),window.MathPup=null,window.__MathPopJukeboxSongs=null,window.__MathPupDailyChallenge=null}},[s.search]),_.useEffect(()=>Tt({route:"/game",isReady:()=>!!(document.getElementById("levelSelect")&&document.getElementById("startBtn")),readState:()=>{var d,x,g,b;const n=((d=document.getElementById("levelSelect"))==null?void 0:d.value)||"Easy",r=document.getElementById("pauseBtn"),o=((x=document.getElementById("status"))==null?void 0:x.textContent)||"",u=((g=document.getElementById("score"))==null?void 0:g.textContent)||"Score: 0",c=((b=document.getElementById("timer"))==null?void 0:b.textContent)||"Time: —";return{level:n,status:o,score:u,timer:c,wasRunning:!!(r&&!r.disabled),wasPaused:o==="Paused"}},applyState:n=>{const r=document.getElementById("levelSelect"),o=document.getElementById("startBtn"),u=document.getElementById("pauseBtn");return!r||!o?!1:(n!=null&&n.level&&(r.value=n.level,r.dispatchEvent(new Event("change",{bubbles:!0}))),(n!=null&&n.wasRunning||n!=null&&n.wasPaused)&&window.setTimeout(()=>{o.click(),n!=null&&n.wasPaused&&u&&!u.disabled&&window.setTimeout(()=>u.click(),240)},120),!0)}}),[]),e.jsxs("main",{className:"game-shell game-page--mathpup",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(X,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Math Pup"}),e.jsxs("div",{className:"game-shell__controls controls",children:[e.jsx("label",{htmlFor:"levelSelect",children:"Level:"}),e.jsxs("select",{id:"levelSelect",defaultValue:"Easy",children:[e.jsx("option",{value:"Easy",children:"Easy (subtraction + addition)"}),e.jsx("option",{value:"Easy25",children:"Easy25 (addition & subtraction)"}),e.jsx("option",{value:"Easy50",children:"Easy50 (two-digit addition & subtraction)"}),e.jsx("option",{value:"Easy75",children:"Easy75 (two-digit addition & subtraction)"}),e.jsx("option",{value:"Medium",children:"Medium (multiplication & division)"}),e.jsx("option",{value:"Medium26",children:"Medium26 (mul & div)"}),e.jsx("option",{value:"Medium60",children:"Medium60 (mul & div)"}),e.jsx("option",{value:"Medium100",children:"Medium100 (mul & div)"}),e.jsx("option",{value:"Mathanomical",children:"Mathanomical (all ops)"})]}),e.jsx("button",{id:"startBtn",children:"Start"}),e.jsx("button",{id:"pauseBtn",disabled:!0,children:"Pause"}),e.jsxs("label",{htmlFor:"musicToggle",className:"music-toggle",children:[e.jsx("input",{id:"musicToggle",type:"checkbox"}),"Music"]})]})]}),e.jsxs("section",{className:"game-shell__body",children:[e.jsxs("section",{className:"game-info game-shell__panel","aria-live":"polite",children:[e.jsxs("div",{className:"stats-card","aria-label":"Score and timing",children:[e.jsx("div",{id:"score",children:"Score: 0"}),e.jsx("div",{id:"highscore",children:"High Score: 0"}),e.jsx("div",{id:"math-problem",children:"Problem: —"}),e.jsx("div",{id:"timer",children:"Time: —"})]}),e.jsxs("div",{className:"status-row",children:[e.jsx("p",{id:"status",children:"Press Start to begin."}),e.jsx("div",{id:"bennyDock",className:"benny-dock","aria-hidden":"true"})]}),e.jsx("p",{id:"mathHint",className:"math-hint","aria-live":"polite"}),e.jsx("p",{id:"dailyChallengeHint",className:"math-hint","aria-live":"polite"}),e.jsxs("div",{className:"mobile-answer","aria-label":"Answer input",children:[e.jsx("input",{id:"mobileAnswer",type:"text",inputMode:"decimal",placeholder:"Type answer",autoComplete:"off"}),e.jsx("button",{id:"mobileMinusBtn",type:"button","aria-label":"Toggle minus sign",children:"-"}),e.jsx("button",{id:"mobileAnswerBtn",type:"button",children:"Answer"})]}),e.jsx("p",{id:"bennyStory",className:"benny-story",children:"while Mr Boooiii is at work benny is at home working on his math pup game can you help him get rid of the bugs??? Benny is 54 in human years but he still has alot of pep in his steps. Solve math problems to unlock mini game."}),e.jsx("div",{id:"bennyUnlockInfo",style:{marginTop:8}}),e.jsx("div",{id:"bennyPalette",className:"benny-palette"}),e.jsxs("div",{className:"mobile-controls",id:"mobileControls","aria-hidden":"true",children:[e.jsx("div",{className:"joystick",id:"mobileJoystick",children:e.jsx("div",{className:"stick",id:"mobileStick"})}),e.jsx("button",{className:"shoot-btn",id:"mobileShoot",type:"button",children:"Benny, Go Play!"})]})]}),e.jsx("div",{className:"game-shell__board",children:e.jsxs("div",{className:"canvas-anchor",children:[e.jsx("canvas",{id:"gameCanvas",width:"800",height:"600","aria-label":"Game canvas"}),e.jsx("div",{id:"game-area",className:"game-area","aria-hidden":"false"})]})})]}),e.jsx("div",{id:"musicNowPlaying",className:"music-now-playing","aria-live":"polite"})]})}function js(){return e.jsxs("div",{className:"list-page",children:[e.jsxs("div",{className:"list-bar",children:[e.jsx(X,{className:"back-link",to:"/",children:"← Home"}),e.jsx("h1",{children:"Available Games"})]}),e.jsxs("main",{className:"main-content",children:[e.jsx("p",{children:"Select a game to play:"}),e.jsxs("ul",{className:"game-list",children:[e.jsx("li",{children:e.jsx(X,{to:"/game",children:"Math Pup"})}),e.jsx("li",{children:e.jsx(X,{to:"/capture",children:"Capture The Fraction"})}),e.jsx("li",{children:e.jsx(X,{to:"/decimal",children:"Deci-What?"})}),e.jsx("li",{children:e.jsx(X,{to:"/mathsynth",children:"Ma+h5Yn+h3 (MathSynth)"})}),e.jsx("li",{children:e.jsx(X,{to:"/bennyworld",children:"Benny Dash (Zone 1)"})})]})]})]})}function Pt(s,i){const n=_.useRef(!1),r=_.useRef(!1),[o,u]=_.useState(!1),[c,d]=_.useState(!1),x=_.useCallback(()=>{if(!s||!i)return Promise.reject(new Error("Invalid src or key"));const g=document.querySelector(`script[data-script-key="${i}"]`);if(g){const b=g.dataset.loaded==="true";if(n.current||b)return n.current=!0,r.current=!1,u(!0),d(!1),Promise.resolve(g);if(r.current)return new Promise((v,S)=>{const M=setInterval(()=>{n.current?(clearInterval(M),v(g)):document.querySelector(`script[data-script-key="${i}"]`)===null&&(clearInterval(M),S(new Error("Script was removed")))},100);setTimeout(()=>{clearInterval(M),S(new Error("Script load timeout"))},3e4)})}return g&&g.parentNode&&g.parentNode.removeChild(g),r.current=!0,n.current=!1,d(!0),u(!1),new Promise((b,v)=>{const S=document.createElement("script");S.src=s,S.async=!1,S.dataset.scriptKey=i,S.onload=()=>{n.current=!0,r.current=!1,u(!0),d(!1),S.dataset.loaded="true",console.log(`[useScriptOnce] Loaded: ${s}`),b(S)},S.onerror=()=>{n.current=!1,r.current=!1,u(!1),d(!1),console.error(`[useScriptOnce] Failed to load: ${s}`),v(new Error(`Failed to load script: ${s}`))},document.body.appendChild(S)})},[s,i]);return _.useEffect(()=>()=>{n.current=!1,r.current=!1,u(!1),d(!1)},[]),{loadScript:x,isLoaded:o,isLoading:c}}function Bt({toggleId:s,popupId:i,statusId:n,playOnIds:r=[],pauseOnIds:o=[],togglePauseIds:u=[],interactionSelectors:c=[],startChecked:d=!1,enableHeadsetControls:x=!0,sequenceWindowMs:g=5e3}){const b=r.join("|"),v=o.join("|"),S=u.join("|"),M=c.join("|");_.useEffect(()=>{if(typeof window>"u"||typeof Audio>"u")return;const D=b?b.split("|"):[],T=v?v.split("|"):[],q=S?S.split("|"):[],E=M?M.split("|"):[],B="/",C=B.endsWith("/")?B:`${B}/`,ee=i?document.getElementById(i):null,ae=s?document.getElementById(s):null,G=n?document.getElementById(n):null;let ce=null,ke=!!d,Q=[],K=[],I=null,R=!1,O=[],Y=!1,de=!1,ue=0,F=0,pe=null;const Je=320,fe=P=>{const $=P.slice();for(let A=$.length-1;A>0;A-=1){const le=Math.floor(Math.random()*(A+1));[$[A],$[le]]=[$[le],$[A]]}return $},we=()=>{const P=localStorage.getItem("mathpop_current_user");if(!P)return[];const $=localStorage.getItem(`mathpop_jukebox_${P}`);if(!$)return[];try{const A=JSON.parse($);return It(P).filter(le=>!!(A!=null&&A[le.id])).map(le=>({title:le.label,filename:le.filename}))}catch{return[]}},ge=()=>{Q=we(),K=[],I=null,R=!1,O=[],!Q.length&&G&&(G.textContent="No songs enabled. Turn songs On in Profile > Benny Jukebox.")},te=new Audio;te.loop=!0,te.preload="auto",te.volume=.85;const ne=P=>{ee&&(ee.textContent=`Now Playing: ${P}`,ee.classList.add("show"),ce&&clearTimeout(ce),ce=setTimeout(()=>ee.classList.remove("show"),2200))},oe=()=>Q.length?(K.length||(K=fe(Q)),K.shift()||null):null,j=(P,$=!1)=>{if(!P)return!1;I=P,R=$;const A=P.filename.replace(/^\//,"");return te.src=$?`/audio/jukebox/${A}`:`${C}audio/jukebox/${A}`,te.load(),!0},J=()=>{if(I){if(!R){j(I,!0);return}if(Y){Y=!1,de=!1,G&&(G.textContent="Forced track unavailable.");return}be()}},ye=()=>{if(Y&&(Y=!1,de)){de=!1;return}be()};te.loop=!1,te.addEventListener("error",J),te.addEventListener("ended",ye),ge();const ie=()=>{if(!ke||!Q.length&&(ge(),!Q.length))return;if(!I){const A=oe();if(!A||!j(A,!1))return}const P=te.paused,$=te.play();if($&&typeof $.catch=="function"){$.then(()=>{P&&I&&ne(I.title)}).catch(()=>{G&&(G.textContent="Music blocked by browser. Tap Music once.")});return}P&&I&&ne(I.title)},z=()=>{te.pause()},Z=()=>{ue=0,F=0,pe&&(clearTimeout(pe),pe=null)},re=()=>{pe&&clearTimeout(pe),pe=setTimeout(()=>{const P=ue;if(Z(),P>=3){ve();return}if(P===2){be();return}P===1&&(te.paused?ie():z())},Je)},be=()=>{if(Y||!Q.length&&(ge(),!Q.length))return;I&&O.push(I);const P=oe();!P||!j(P,!1)||ie()},ve=()=>{if(Y||!O.length)return;const P=O.pop();I&&K.unshift(I),j(P,!1)&&ie()},je=()=>{if(Y)return;const P=Date.now();P-F>g&&(ue=0),ue+=1,F=P,re()},Te=({title:P,filename:$,lock:A=!0,stopOnEnd:le=!1})=>{if(!$)return;Y=!!A,de=!!le;const Be={title:P||String($).replace(/\.[a-z0-9]+$/i,""),filename:$};if(!j(Be,!1))return;const Ee=te.play();if(Ee&&typeof Ee.catch=="function"){Ee.then(()=>ne(Be.title)).catch(()=>{G&&(G.textContent="Music blocked by browser. Tap Music once.")});return}ne(Be.title)},Ne=P=>{const $=(P==null?void 0:P.detail)||{},A=String($.action||"").toLowerCase();if(A){if(A==="play-track"){Te($);return}if(A==="pause"){z();return}if(A==="resume"){if(te.paused)if(I){const le=te.play();le&&typeof le.catch=="function"&&le.catch(()=>{G&&(G.textContent="Music blocked by browser. Tap Music once.")})}else ie();return}A==="unlock"&&(Y=!1,de=!1)}};window.addEventListener("mathpop:music-control",Ne);const me=()=>{ke=!!(ae!=null&&ae.checked),ke?(ge(),ie()):(z(),Z())};let $e=null;ae&&(ae.checked=ke,ae.addEventListener("change",me),x&&($e=P=>{ke&&(P.preventDefault(),je())},ae.addEventListener("click",$e)));const Se=[];D.forEach(P=>{const $=document.getElementById(P);if(!$)return;const A=()=>ie();$.addEventListener("click",A),Se.push([$,A])});const Ie=[];T.forEach(P=>{const $=document.getElementById(P);if(!$)return;const A=()=>z();$.addEventListener("click",A),Ie.push([$,A])});const De=[];q.forEach(P=>{const $=document.getElementById(P);if(!$)return;const A=()=>{window.setTimeout(()=>{($.textContent||"").toLowerCase().includes("resume")?z():ie()},0)};$.addEventListener("click",A),De.push([$,A])});const _e=[];return E.forEach(P=>{const $=document.querySelector(P);if(!$)return;const A=()=>ie();$.addEventListener("pointerdown",A),_e.push([$,A,"pointerdown"])}),()=>{z(),te.removeEventListener("error",J),ae&&ae.removeEventListener("change",me),ae&&$e&&ae.removeEventListener("click",$e),Se.forEach(([P,$])=>P.removeEventListener("click",$)),Ie.forEach(([P,$])=>P.removeEventListener("click",$)),De.forEach(([P,$])=>P.removeEventListener("click",$)),_e.forEach(([P,$,A])=>P.removeEventListener(A,$)),window.removeEventListener("mathpop:music-control",Ne),ce&&clearTimeout(ce),pe&&clearTimeout(pe),ee&&ee.classList.remove("show"),te.removeEventListener("ended",ye),te.removeEventListener("error",J)}},[s,i,n,b,v,S,M,d,x,g])}const Ns="/";function Ss(){const s=pt(),{loadScript:i}=Pt(`${Ns}js/capture.js`,"capture"),[n,r]=_.useState(null),[o,u]=_.useState(!1);return Bt({toggleId:"captureMusicToggle",popupId:"captureNowPlaying",statusId:"status",playOnIds:["startBtn"],pauseOnIds:["pauseBtn"]}),_.useEffect(()=>{let c=!0;const d=localStorage.getItem("mathpop_current_user");if(new URLSearchParams(s.search).get("daily")==="1"&&d){const b=xt(d,new Date);b.challenge.gameId==="capture"?window.__CaptureDailyChallenge={enabled:!0,...b.challenge,dateKey:b.dateKey,claimed:b.claimed,progress:b.progress}:window.__CaptureDailyChallenge=null}else window.__CaptureDailyChallenge=null;return(async()=>{if(!window.__CaptureCleanup)try{await i(),await new Promise(b=>setTimeout(b,100))}catch(b){c&&r(`Failed to load Capture game: ${b.message}`);return}c&&(u(!0),console.log("[Capture] Game initialized"))})(),()=>{c=!1,window.__CaptureDailyChallenge=null}},[i,s.search]),_.useEffect(()=>()=>{window.__CaptureCleanup&&(console.log("[Capture] Running cleanup"),window.__CaptureCleanup()),window.__CaptureCleanup=null;const c=document.querySelector('script[data-script-key="capture"]');c&&c.parentNode&&c.parentNode.removeChild(c)},[]),_.useEffect(()=>o?Tt({route:"/capture",isReady:()=>!!(document.getElementById("levelSelect")&&document.getElementById("startBtn")),readState:()=>{var M,D,T,q,E;const d=((M=document.getElementById("levelSelect"))==null?void 0:M.value)||"easy",x=document.getElementById("pauseBtn"),g=((D=document.getElementById("status"))==null?void 0:D.textContent)||"",b=((T=document.getElementById("scoreDisplay"))==null?void 0:T.textContent)||"Score: 0",v=((q=document.getElementById("streakDisplay"))==null?void 0:q.textContent)||"Streak: x0",S=((E=document.getElementById("fractionInput"))==null?void 0:E.value)||"";return{level:d,status:g,score:b,streak:v,inputValue:S,wasRunning:!!(x&&!x.disabled),wasPaused:String((x==null?void 0:x.textContent)||"").trim().toLowerCase()==="resume"}},applyState:d=>{const x=document.getElementById("levelSelect"),g=document.getElementById("startBtn"),b=document.getElementById("pauseBtn"),v=document.getElementById("fractionInput");return!x||!g?!1:(d!=null&&d.level&&(x.value=d.level,x.dispatchEvent(new Event("change",{bubbles:!0}))),v&&typeof(d==null?void 0:d.inputValue)=="string"&&(v.value=d.inputValue),(d!=null&&d.wasRunning||d!=null&&d.wasPaused)&&window.setTimeout(()=>{g.click(),d!=null&&d.wasPaused&&b&&String(b.textContent||"").trim().toLowerCase()==="pause"&&window.setTimeout(()=>b.click(),220)},120),!0)}}):()=>{},[o]),n?e.jsxs("main",{className:"app-page error-page",children:[e.jsxs("header",{className:"app-header",children:[e.jsx(X,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Capture"})]}),e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:n}),e.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn--primary",children:"Reload"})]})]}):e.jsxs("main",{className:"app-page game-page--capture",children:[e.jsxs("header",{className:"app-header",children:[e.jsx(X,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Capture"}),e.jsxs("div",{className:"game-controls",children:[e.jsx("label",{htmlFor:"levelSelect",children:"Difficulty:"}),e.jsxs("select",{id:"levelSelect",className:"select",defaultValue:"easy",children:[e.jsx("option",{value:"easy",children:"Easy (halves, thirds, quarters)"}),e.jsx("option",{value:"easy25",children:"Easy .25 (improper to mixed, 90s)"}),e.jsx("option",{value:"medium",children:"Medium (denominators up to 9)"}),e.jsx("option",{value:"medium25",children:"Medium .25 (add/subtract improper)"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical (mixed numbers)"})]}),e.jsx("button",{id:"startBtn",className:"btn btn--primary",children:"Start"}),e.jsx("button",{id:"pauseBtn",className:"btn btn--secondary",disabled:!0,children:"Pause"}),e.jsxs("label",{htmlFor:"captureMusicToggle",className:"game-music-toggle",children:[e.jsx("input",{id:"captureMusicToggle",type:"checkbox"}),"Music"]})]})]}),e.jsxs("section",{className:"game-stats",children:[e.jsx("div",{className:"stat-badge stat-badge--score",id:"scoreDisplay",children:"Score: 0"}),e.jsx("div",{className:"stat-badge",id:"streakDisplay",children:"Streak: x0"}),e.jsx("div",{className:"stat-badge",id:"targetFraction",children:"Find: —"})]}),e.jsx("div",{id:"denominatorHelpPopup",className:"capture-denominator-popup","aria-hidden":"true",children:e.jsxs("div",{className:"capture-denominator-popup__card",role:"dialog","aria-modal":"false","aria-label":"Denominator help",children:[e.jsx("h3",{children:"Denominator"}),e.jsx("p",{id:"denominatorHelpText",children:"The denominator is the bottom number. It tells how many equal parts make one whole."}),e.jsx("button",{id:"denominatorHelpClose",type:"button",className:"btn btn--secondary",children:"Got it"})]})}),e.jsxs("section",{className:"game-body",children:[e.jsxs("section",{className:"game-panel","aria-live":"polite",children:[e.jsx("p",{id:"status",children:"Press Start to begin."}),e.jsx("div",{className:"hint",id:"hint",style:{marginTop:"12px"}}),e.jsx("div",{className:"hint",id:"captureDailyHint",style:{marginTop:"8px"}}),e.jsxs("div",{className:"inputWrap",style:{marginTop:"12px"},children:[e.jsx("label",{htmlFor:"fractionInput",style:{marginBottom:"6px"},children:"Type Answer:"}),e.jsx("input",{type:"text",id:"fractionInput",placeholder:"example: 3/6",autoComplete:"off",className:"input"})]})]}),e.jsx("div",{className:"game-board",children:e.jsx("div",{className:"canvas-anchor",children:e.jsx("canvas",{id:"gameCanvas",width:"800",height:"600","aria-label":"Game canvas"})})})]}),e.jsx("div",{id:"captureNowPlaying",className:"game-music-popup","aria-live":"polite"})]})}const xe=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],it=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function Ke(s){if(s=Math.abs(Math.trunc(s)),s<20)return xe[s];if(s<100){const r=Math.floor(s/10),o=s%10;return o?`${it[r]}-${xe[o]}`:it[r]}const i=Math.floor(s/100),n=s%100;return n?`${xe[i]} hundred ${Ke(n)}`:`${xe[i]} hundred`}function ks(s){if(!s||Number(s)===0)return"";let i=s;i.endsWith("00")?i=i.slice(0,1):i.endsWith("0")&&(i=i.slice(0,2));const o=({1:"tenth",2:"hundredth",3:"thousandth"}[i.length]||`${Math.pow(10,i.length)}th`)+"s",u=parseInt(i,10);return`${Ke(u).replace(/\s+/g,"-")}-${o}`}function Le(s){if(!s)return null;const i=s.trim().toLowerCase();for(let r=0;r<xe.length;r++)if(xe[r]===i)return r;for(let r=2;r<it.length;r++){const o=it[r];if(i===o)return r*10;if(i.startsWith(o)){const u=i.slice(o.length),c=xe.indexOf(u);if(c>0&&c<10)return r*10+c}}if(i.includes("-")){const r=i.split("-");if(r.length===2){const o=it.indexOf(r[0]),u=xe.indexOf(r[1]);if(o>=2&&u>=0)return o*10+u}}else{const r=it.indexOf(i);if(r>=2)return r*10}const n=i.split(/\s+/);if(n.length===2){const r=Le(n[0]),o=Le(n[1]);if(r!==null&&o!==null)return r+o}return null}function Xt(s){const i=Math.trunc(s),n=Math.round((s-i)*1e3),r=Ke(i);if(n===0)return r.toLowerCase().replace(/\s+/g,"-");let o=String(n).padStart(3,"0");o.endsWith("00")?o=o.slice(0,1):o.endsWith("0")&&(o=o.slice(0,2));const u=ks(o);return`${r.toLowerCase().replace(/\s+/g,"-")}-and-${u}`}function kn(s,i){const n=typeof s=="number"?s:Math.floor(Math.random()*80)+20,r=typeof i=="number"?i:Math.floor(Math.random()*100),o=Xt(n),u=String(r).padStart(2,"0");return`${o}.${u}`}function Mn(s,i="word-digit"){const n=Ke(s).toLowerCase().replace(/[\s-]+/g,""),r=Math.floor(s/10),o=s%10;return i==="digits"?String(s):i==="word"?n:i==="digit-word"?o===0?String(s):`${r}${xe[o]}`:o>0?`${Ke(r*10).toLowerCase().replace(/[\s-]+/g,"")}${o}`:n}function Ms(s,i="word-and-digit"){const n=Math.max(0,Math.min(99,s)),r=Math.floor(n/10),o=n%10,u=Ke(n).toLowerCase().replace(/[\s-]+/g,"");return i==="digits"?`${n}hundredths`:i==="word"?`${Ke(n).toLowerCase().replace(/[\s-]+/g,"")}hundredths`:i==="word-digit"?o===0?`${u}hundredths`:`${xe[r]}${o}hundredths`:n>=10?o===0?`${u}hundredths`:`${xe[r]}and${o}hundredths`:`${Ke(n).toLowerCase().replace(/[\s-]+/g,"")}hundredths`}function Cs(s,i="word-and-digit"){const n=Math.max(0,Math.min(999,s));if(i==="digits")return`${n}thousandths`;const r=Ke(n).toLowerCase().replace(/[\s-]+/g,"");if(i==="word")return`${r}thousandths`;const o=Ke(Math.floor(n/10)*10).toLowerCase().replace(/[\s-]+/g,""),u=Math.floor(n/100),c=Math.floor(n%100/10),d=n%10;if(i==="word-digit-word"&&u>0){const x=xe[u],g=d>0?xe[d]:"";return`${g?`${x}${c}${g}`:`${x}${c}`}thousandths`}return i==="word-digit"&&n>=10?d===0?`${o}thousandths`:`${xe[c]}${d}thousandths`:i==="digit-word"&&n>=10?d===0?`${o}thousandths`:`${c}${xe[d]}thousandths`:n>=10?d===0?`${o}thousandths`:`${xe[c]}and${d}thousandths`:`${r}thousandths`}function _s(s){if(!s)return null;const i=s.toLowerCase().replace(/thousandths?$/,"");if(!i)return null;const n=i.match(/^(\d)([a-z\-]+)$/);if(n){const u=parseInt(n[1],10),c=n[2],d=Le(c);if(isFinite(u)&&d!==null&&d>=0&&d<10)return u*10+d}const r=i.replace(/[^0-9]/g,""),o=i.replace(/[^a-z\-]/g,"").replace(/and/g,"");if(r&&o){const u=parseInt(r,10),c=Le(o);if(c!==null)return r.length===2&&c<10?c*100+u:r.length===1&&c<10?c*10+u:r.length===1&&c>=20&&c%10===0?c+u:parseInt(`${u}${c}`,10);const d=Fn(i);if(d!==null)return d}return r?parseInt(r,10):Le(o)}function Fn(s){if(!s)return null;let i=null,n=null;for(const d of xe.slice(1))if(s.startsWith(d)){i=d;break}for(const d of xe.slice(1))if(s.endsWith(d)){n=d;break}if(!i||!n)return null;const r=s.slice(i.length,s.length-n.length);if(!/^\d+$/.test(r))return null;const o=xe.indexOf(i),u=xe.indexOf(n),c=parseInt(r,10);return o<0||u<0||c<0||c>9?null:o*100+c*10+u}function Es(s){if(!s)return null;const i=s.toLowerCase(),n=i.match(/^(\d)([a-z\-]+)$/);if(n){const c=parseInt(n[1],10),d=n[2],x=Le(d);if(isFinite(c)&&x!==null&&x>=0&&x<10)return c*10+x}const r=i.replace(/[^0-9]/g,""),o=i.replace(/[^a-z\-]/g,"").replace(/and/g,""),u=o?Le(o):null;if(r){const c=parseInt(r,10);return u!==null?r.length===1&&u<10?u*10+c:u>=20&&u%10===0&&r.length===1?u+c:parseInt(`${u}${r}`,10):c}return u}function Ps(s){if(!s)return null;const i=s.toLowerCase().replace(/hundredths?$/,""),n=i.replace(/[^0-9]/g,""),r=i.replace(/[^a-z\-]/g,"").replace(/and/g,""),o=r?Le(r):null;if(n){const u=parseInt(n,10);return o!==null?n.length===1&&o<10?o*10+u:o>=20&&o%10===0&&n.length===1?o+u:parseInt(`${o}${n}`,10):u}return o}function Jt(s){if(!s)return null;if(s.includes("-and-"))return Ts(s);if(s.includes("&")){const[i,n]=s.split("&"),r=Es(i);if(r===null)return null;const o=n||"";if(o.includes("thousandth")){const c=o.toLowerCase().replace(/thousandths?$/,""),d=_s(o)??Fn(c);return d===null||d<0||d>999?null:Number((r+d/1e3).toFixed(6))}const u=Ps(o);return u===null||u<0||u>99?null:Number((r+u/100).toFixed(6))}return $s(s)}function $s(s){if(!s)return null;const n=s.toLowerCase().replace(/[^a-z0-9\.\-]/g,"").split(".");if(n.length!==2)return null;const r=n[0].replace(/[^a-z\-]/g,""),o=n[1].replace(/[^0-9]/g,"");if(!r||!o)return null;const u=Le(r);if(u===null)return null;const c=Math.pow(10,o.length);return Number((u+Number(o)/c).toFixed(6))}function Ts(s){if(!s)return null;const i=s.trim().toLowerCase().replace(/^-+/,"").replace(/-+$/,"");if(i.includes("-and-")){const[r,o]=i.split("-and-"),u=Le(r);if(u===null)return null;let c=null,d=null;if(o.endsWith("thousandths"))c=1e3,d=o.slice(0,-11);else if(o.endsWith("hundredths"))c=100,d=o.slice(0,-10);else if(o.endsWith("tenths"))c=10,d=o.slice(0,-6);else if(o.endsWith("thousandth"))c=1e3,d=o.slice(0,-10);else if(o.endsWith("hundredth"))c=100,d=o.slice(0,-9);else if(o.endsWith("tenth"))c=10,d=o.slice(0,-5);else return null;d=d.replace(/-+$/,"").replace(/^-+/,"").trim();const x=Le(d);return x===null?null:Number((u+x/c).toFixed(6))}const n=Le(i);return n===null?null:Number(n.toFixed(6))}function Is(){window.__DecimalCleanup&&window.__DecimalCleanup(),window.__DecimalCleanup=null;const s=document.getElementById("level"),i=document.getElementById("start"),n=document.getElementById("pause");document.getElementById("backBtn");const r=document.getElementById("prompt"),o=document.getElementById("hint"),u=document.getElementById("score"),c=document.getElementById("timer"),d=document.getElementById("streak"),x=document.getElementById("answerInput"),g=document.getElementById("feedback"),b=document.getElementById("colsInput"),v=document.getElementById("rowsInput"),S=document.getElementById("cellSizeInput"),M=document.getElementById("applyGridBtn"),D=document.getElementById("gridPreview"),T=document.getElementById("palette"),q=document.getElementById("selectedColorPreview");let E=Number(b==null?void 0:b.value)||15,B=Number(v==null?void 0:v.value)||15,C=Number(S==null?void 0:S.value)||28;const ee=20,ae=15;let G=Number(S==null?void 0:S.value)||28,ce=0,ke=0,Q={primary:"#1f77b4",secondary:"#0b2740"},K,I,R=[],O=!1,Y=!1,de=0,ue=0,F=null,pe=10;const Je={easy:125e4,medium:125e4,medium5:125e4,mathamatical:125e4};let fe=null,we=0,ge=0,te=null,ne=null,oe=null,j=null,J=null;const ye=.001;let ie=!1,z=null,Z=null,re=null,be=[],ve=[],je=null,Te=null,Ne=null,me={left:!1,right:!1,up:!1,down:!1},$e=0,Se=0,Ie=0;const De=18e3;let _e=null,P=null,$=!1,A={x:0,y:0},le={x:0,y:0};const Be=28;let Ee=null,Ae=null,Re=null,Me=null,he=null,qe=null,He=null,Oe=0,Ge=null,Fe=null,Qe=null;const bt=8e3,U=(()=>{const t=window.__DecimalDailyChallenge;return!t||!t.enabled||t.gameId!=="decimal"?null:{id:String(t.id||""),dateKey:String(t.dateKey||""),level:String(t.level||"easy20"),requiredCorrect:Math.max(1,Number(t.requiredCorrect)||10),points:Math.max(1,Number(t.points)||bt),claimed:!!t.claimed,progress:t.progress&&typeof t.progress=="object"?t.progress:null}})();function Ze(){return localStorage.getItem("mathpop_current_user")||"guest"}function rt(){return`mathpop_profile_stats_${Ze()}`}function ot(){return`mathpop_benny_desk_fuel_${Ze()}`}function lt(){return`mathpop_benny_desk_charge_${Ze()}`}function m(){return Math.max(0,parseInt(localStorage.getItem(ot())||"0",10)||0)}function L(){return Math.max(0,parseInt(localStorage.getItem(lt())||"0",10)||0)}function se(t){const a=Math.max(0,Math.floor(t)),l=m(),f=L();if(!a)return{tanksEarned:0,fuelBank:l,chargeRemainder:f};const p=f+a,h=Math.floor(p/6),y=p%6,N=l+h;return localStorage.setItem(lt(),String(y)),localStorage.setItem(ot(),String(N)),{tanksEarned:h,fuelBank:N,chargeRemainder:y}}function Pe(){const t=localStorage.getItem(rt());if(!t)return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],games:{}};try{const a=JSON.parse(t);return{totalPoints:Number(a.totalPoints)||0,totalCorrect:Number(a.totalCorrect)||0,totalAttempted:Number(a.totalAttempted)||0,pupStreakRecord:Number(a.pupStreakRecord)||0,levelsCompleted:Array.isArray(a.levelsCompleted)?a.levelsCompleted:[],games:a.games&&typeof a.games=="object"?a.games:{}}}catch{return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],games:{}}}}function Ue(t,a){return t.games[a]||(t.games[a]={points:0,correct:0,attempted:0,bestScore:0,streakRecord:0,gamesPlayed:0}),t.games[a]}function et(t){localStorage.setItem(rt(),JSON.stringify(t))}function st(){return`mathpop_daily_challenge_state_${Ze()}`}function Lt(){const t=localStorage.getItem(st());if(!t)return{claims:{},progress:{},streak:0,lastClaimDate:null,totalCompleted:0};try{const a=JSON.parse(t);return{claims:a!=null&&a.claims&&typeof a.claims=="object"?a.claims:{},progress:a!=null&&a.progress&&typeof a.progress=="object"?a.progress:{},streak:Number(a==null?void 0:a.streak)||0,lastClaimDate:(a==null?void 0:a.lastClaimDate)||null,totalCompleted:Number(a==null?void 0:a.totalCompleted)||0}}catch{return{claims:{},progress:{},streak:0,lastClaimDate:null,totalCompleted:0}}}function Dt(t){localStorage.setItem(st(),JSON.stringify(t))}function Hn(t,a){const l=new Date(`${t}T12:00:00`);l.setDate(l.getDate()+a);const f=l.getFullYear(),p=String(l.getMonth()+1).padStart(2,"0"),h=String(l.getDate()).padStart(2,"0");return`${f}-${p}-${h}`}function ct(){var f;const t=document.getElementById("decimalDailyHint");if(!t)return;if(!U){t.textContent="";return}if(U.claimed){t.textContent="Daily challenge complete. Come back tomorrow for a new one.";return}if(ut()!==U.level){t.textContent=`Daily Challenge is on ${U.level}. Switch level to earn ${U.points} pts.`;return}const l=Number((f=U.progress)==null?void 0:f.correct)||0;t.textContent=`Daily Challenge: ${U.level} | ${l}/${U.requiredCorrect} correct | Reward ${U.points} pts`}function On(t,a,l,f,p){var k;if(!U||!U.id||!U.dateKey)return{awarded:!1};if(U.claimed)return{awarded:!1};if(l!==U.level)return{awarded:!1};const h=Lt(),y=(k=h.claims)==null?void 0:k[U.dateKey];if(y&&y.challengeId===U.id)return U.claimed=!0,ct(),{awarded:!1};(!h.progress||typeof h.progress!="object")&&(h.progress={});const N=h.progress[U.dateKey];(!N||N.challengeId!==U.id)&&(h.progress[U.dateKey]={challengeId:U.id,correct:0,score:0,completed:!1,completedAt:null});const w=h.progress[U.dateKey];f&&(w.correct=(Number(w.correct)||0)+1,w.score=(Number(w.score)||0)+Math.max(1,Number(p)||0)),!w.completed&&Number(w.correct)>=U.requiredCorrect&&(w.completed=!0,w.completedAt=new Date().toISOString());let W=!1;if(w.completed){if((!h.claims||typeof h.claims!="object")&&(h.claims={}),!h.claims[U.dateKey]){h.claims[U.dateKey]={challengeId:U.id,points:U.points,claimedAt:new Date().toISOString()};const V=h.lastClaimDate;V===U.dateKey||(V===Hn(U.dateKey,-1)?h.streak=(Number(h.streak)||0)+1:h.streak=1),h.lastClaimDate=U.dateKey,h.totalCompleted=(Number(h.totalCompleted)||0)+1,t.totalPoints+=U.points,a.points+=U.points,W=!0}U.claimed=!0}return U.progress={challengeId:U.id,correct:Number(w.correct)||0,score:Number(w.score)||0,completed:!!w.completed,completedAt:w.completedAt||null},Dt(h),ct(),{awarded:W}}function Ye(t,a){const l=Pe(),f=Ue(l,"decimal");l.totalAttempted+=1,f.attempted+=1,t&&(l.totalCorrect+=1,f.correct+=1,l.totalPoints+=a,f.points+=a);const p=On(l,f,ut(),t,a);f.streakRecord=Math.max(f.streakRecord,ue),f.bestScore=Math.max(f.bestScore,de),et(l),p.awarded&&g&&(g.textContent=`Daily challenge complete! +${U.points} points.`)}function Un(){const t=ut();return t.startsWith("easy")?{level:"easy",cols:parseInt(t.replace("easy",""),10)||20}:t==="medium"?{level:"medium",cols:Number(b==null?void 0:b.value)||25}:{level:"mathamatical",cols:Number(b==null?void 0:b.value)||25}}function tt(){const t=ut();return t.startsWith("easy")?"easy":t==="medium"?"medium":"mathamatical"}function At(){const t=Un();E=t.cols,B=15,v&&(v.value=String(B),v.disabled=!0),b&&(b.value=String(E),b.disabled=t.level==="easy"),M&&(M.disabled=t.level==="easy")}const dt=[{id:"dp-01",primary:"#0c0b18",secondary:"#3b0f58"},{id:"dp-02",primary:"#0b1026",secondary:"#0f6b6d"},{id:"dp-03",primary:"#160a2a",secondary:"#5b1e57"},{id:"dp-04",primary:"#071a24",secondary:"#164c70"},{id:"dp-05",primary:"#140b1f",secondary:"#6b2a3f"},{id:"dp-06",primary:"#09131c",secondary:"#246b4f"},{id:"dp-07",primary:"#0e0f1e",secondary:"#4a2f8a"},{id:"dp-08",primary:"#0a1a1f",secondary:"#1e5a7a"},{id:"dp-09",primary:"#131126",secondary:"#3f2d78"},{id:"dp-10",primary:"#0d1a2d",secondary:"#1b5ea5"},{id:"dp-11",primary:"#150b24",secondary:"#6d1f5f"},{id:"dp-12",primary:"#111629",secondary:"#3c5bdc"},{id:"dp-13",primary:"#0f0e1d",secondary:"#7a2bff"},{id:"dp-14",primary:"#0b1426",secondary:"#2f8bff"},{id:"dp-15",primary:"#120d1a",secondary:"#ff2f92"},{id:"dp-16",primary:"#0f1216",secondary:"#27f2ff"},{id:"dp-17",primary:"#170f25",secondary:"#8a4bff"},{id:"dp-18",primary:"#0f1a24",secondary:"#22d3ee"},{id:"dp-19",primary:"#120a1c",secondary:"#ff5e5e"},{id:"dp-20",primary:"#10121d",secondary:"#c97bff"},{id:"dp-21",primary:"#0b0f18",secondary:"#19b5a5"},{id:"dp-22",primary:"#0f1422",secondary:"#ff8a3d"},{id:"dp-23",primary:"#0c1520",secondary:"#3dd6ff"},{id:"dp-24",primary:"#140c1c",secondary:"#ff42c7"},{id:"dp-25",primary:"#0d1420",secondary:"#40ff8a"},{id:"dp-26",primary:"#0b1222",secondary:"#7c7cff"},{id:"dp-27",primary:"#0f0b18",secondary:"#ff6a00"},{id:"dp-28",primary:"#0d1a2b",secondary:"#00d1ff"},{id:"dp-29",primary:"#0f0f1b",secondary:"#ff4f7b"},{id:"dp-30",primary:"#101821",secondary:"#23c3ff"},{id:"dp-31",primary:"#120b1e",secondary:"#a855f7"},{id:"dp-32",primary:"#0a1622",secondary:"#00f5a0"},{id:"dp-33",primary:"#0c101f",secondary:"#4ade80"},{id:"dp-34",primary:"#0f1428",secondary:"#60a5fa"},{id:"dp-35",primary:"#150c20",secondary:"#f472b6"},{id:"dp-36",primary:"#0d1821",secondary:"#14b8a6"},{id:"dp-37",primary:"#140c24",secondary:"#e879f9"},{id:"dp-38",primary:"#0b151f",secondary:"#22d3ee"},{id:"dp-39",primary:"#0f0c1f",secondary:"#a3e635"},{id:"dp-40",primary:"#0e1420",secondary:"#38bdf8"},{id:"dp-41",primary:"#130d22",secondary:"#f97316"},{id:"dp-42",primary:"#0c1723",secondary:"#06b6d4"},{id:"dp-43",primary:"#120c1a",secondary:"#fb7185"},{id:"dp-44",primary:"#0d1524",secondary:"#3b82f6"},{id:"dp-45",primary:"#130c1f",secondary:"#d946ef"},{id:"dp-46",primary:"#0b1620",secondary:"#10b981"},{id:"dp-47",primary:"#0f0d18",secondary:"#facc15"},{id:"dp-48",primary:"#0c1326",secondary:"#6366f1"},{id:"dp-49",primary:"#100b1d",secondary:"#f43f5e"},{id:"dp-50",primary:"#0c1726",secondary:"#0ea5e9"}];let Wn=[];function H(t,a){return Math.floor(Math.random()*(a-t+1))+t}function ze(t,a,l){return Math.max(a,Math.min(l,t))}function Rt(t){return Number(t).toFixed(3).replace(/\.?0+$/,"")}function ut(){return s&&s.value||"easy20"}const en={easy20:[{name:"euler-vortex",map:["...#####.....","..#...#..###.",".#....#.#...#","#.....###...#","#....##.....#",".#..###..#...","..#...#..#...","...###..#....","....#..###..."]},{name:"quadratic-wave",map:[".....#.......","....#.#......","...#...#.....","..#.....#....",".#.......#...","#.........#..",".#.......#...","..#.....#....","...#...#....."]},{name:"sine-cosine",map:["..#.....#....",".#.#...#.#...","#...#.#...#..",".#...#...#...","..#...#...#..",".#...#...#...","#..#...#..#..",".#.#...#.#...","..#.....#...."]},{name:"log-tunnel",map:["#############","##.........##","#..#######..#","#..#.....#..#","#..#..#..#..#","#..#.....#..#","#..#######..#","##.........##","#############"]},{name:"exponential-bloom",map:[".....#.......","...#.#.#.....","..#..#..#....","..#..#..#....",".##.###.##...","..#..#..#....","..#..#..#....","...#.#.#.....",".....#......."]}],easy25:[{name:"mandelbrot",map:["....#####....","..#########..",".###########.",".###########.",".###########.","..#########..","...#######...","....#####....",".....###....."]},{name:"julia-dream",map:["....###..###.","...####..####","..#####..####","..####....###","..####....###","..#####..####","...####..####","....###..###.",".....#....#.."]},{name:"chaos-glitch",map:["#..#...#..#..",".#....##.....","...##...#.#..","#...#..#....#","..#..#...##..",".##....#..#..","..#.#...##...","#..##.....#..",".#..#..#..#.."]},{name:"spiral-stair",map:["#............","##...........",".##..........","..##.........","...##........","....##.......",".....##......","......##.....",".......##...."]},{name:"butterfly",map:["..##.....##..",".###.....###.","#####...#####",".###..#..###.","..##.###.##..",".###..#..###.","#####...#####",".###.....###.","..##.....##.."]}],easy30:[{name:"fourier-spectrum",map:["....#...#....","...##..###...","..###.####...",".####.#####..","#####.#####..","#####.######.","######.######","######.######","#############"]},{name:"wave-interference",map:["#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#",".#.#.#.#.#.#.","#.#.#.#.#.#.#"]},{name:"beat-grid",map:["##..##..##..#","..##..##..##.","##..##..##..#","..##..##..##.","##..##..##..#","..##..##..##.","##..##..##..#","..##..##..##.","##..##..##..#"]},{name:"harmonic-rings",map:["...#####.....","..#.....#....",".#..###..#...",".#..#.#..#...",".#..###..#...","..#.....#....","...#####.....",".............","............."]},{name:"rhythm-matrix",map:["###...###...#","#..#..#..#..#","###...###...#","..#.....#....","###...###...#","#..#..#..#..#","###...###...#","....#....#...","###...###...#"]}],medium:[{name:"impossible-triangle",map:["......#......",".....#.#.....","....#...#....","...#.....#...","..#.......#..",".#.........#.","#############","............#","###########.."]},{name:"tessellation",map:["..#...#...#..",".#.#.#.#.#.#.","#...#...#...#",".#.#.#.#.#.#.","..#...#...#..",".#.#.#.#.#.#.","#...#...#...#",".#.#.#.#.#.#.","..#...#...#.."]},{name:"mobius-loop",map:["..####...####",".#....#.#....","#......#.....","#.....#......",".#....#.#....","..####...####","....#.#....#.",".....#......#","....#........"]},{name:"golden-garden",map:["....#####....","...#.....#...","..#..###..#..",".#..#...#..#.",".#..#...#..#.","..#..###..#..","...#.....#...","....#####....","......#......"]},{name:"polyhedron",map:["....#####....","...#.....#...","..#.......#..",".#.........#.",".#.........#.","..#.......#..","...#.....#...","....#####....","............."]}],mathamatical:[{name:"number-soup",map:["#.#.##..#.#.#","##..#.#..##..",".#.#..##.#.#.","##..##..#..##","#..#.#.##..#.",".##..#..##..#","#.#..##.#..##","##..#..##.#..",".#.#.##..#.#."]},{name:"graffiti-wall",map:["########.....","#######....#.","######...##..","#####...###..","####...####..","###...#####..","##...######..","#...#######..","...########.."]},{name:"infinity-raceway",map:["...####.####.","..#....#....#",".#.....#.....",".#....#.#....",".#.....#.....","..#....#....#","...####.####.",".............","............."]},{name:"probability-cloud",map:[".....###.....","....#####....","...#######...","..#########..",".###########.","..#########..","...#######...","....#####....",".....###....."]},{name:"mathanomical-void",map:["#....#....#..","...#.....#...",".....#.......","..#.......#..","....#..#.....","#.......#....","....#........","..#....#.....",".....#....#.."]}]};let wt=null;function Kn(t){if(!t||!t.length)return null;const a=t.length,l=t[0].length,f=Math.max(1,Math.floor(Math.min((E-2)/l,(B-2)/a))),p=Math.max(0,Math.floor((E-l*f)/2)),h=Math.max(0,Math.floor((B-a*f)/2)),y=Array.from({length:B},()=>Array(E).fill(!1));for(let N=0;N<a;N++)for(let w=0;w<l;w++)if(t[N][w]==="#")for(let W=0;W<f;W++)for(let k=0;k<f;k++){const V=h+N*f+W,Ve=p+w*f+k;V>=0&&V<B&&Ve>=0&&Ve<E&&(y[V][Ve]=!0)}return y}function qt(){const t=ut(),a=en[t]||en.easy20,l=a[H(0,a.length-1)];l.name,wt=Kn(l.map)}function Gn(){const t=H(20,99),a=H(0,99),l=H(0,2);if(l===0)return kn(t,a);const f=l===1?"word-digit":"digit-word",p=l===1?"word-and-digit":"word-digit",h=Mn(t,f),y=Ms(a,p);return`${h}&${y}`}function Jn(){const t=H(20,99),a=H(0,999),l=H(0,2);if(l===0){const N=Xt(t),w=String(a).padStart(3,"0");return`${N}.${w}`}const f=l===1?"word-digit":"digit-word",p=l===1?"word-and-digit":"word-digit-word",h=Mn(t,f),y=Cs(a,p);return`${h}&${y}`}function Ft(){let t=H(2,30),l=`${(t/10).toFixed(1)}*10`;const f=H(0,2);for(let p=0;p<f;p++)if(Math.random()<.6){const h=H(2,5);t*=h,l+=`*${h}`}else{const h=[];for(let y=2;y<=9;y++)t%y===0&&h.push(y);if(h.length===0){const y=H(2,5);t*=y,l+=`*${y}`}else{const y=h[H(0,h.length-1)];t=t/y,l+=`/${y}`}}return{expr:l,value:t}}function Yn(t){const a=t.includes("+")||t.includes("-"),l=t.includes("*")||t.includes("/");if(!a&&l)return Ft().expr;if(a&&!l){const h=H(2,4);let y=`${H(1,9)}.${H(0,9)}`;Math.random()<.35&&(y=`0-${y}`);for(let N=1;N<h;N++){const w=Math.random()<.5?"+":"-",W=`${H(1,9)}.${H(0,9)}`;y+=`${w}${W}`}return y}const f=H(2,4);let p=Ft().expr;Math.random()<.35&&(p=`0-${p}`);for(let h=1;h<f;h++){const y=Math.random()<.5?"+":"-",N=Ft().expr;p+=`${y}${N}`}return p}function zn(t,a,l){if(t.length>=l)return t.slice(0,l);let f=t;const p=a.includes("+")||a.includes("-"),h=a.includes("*")||a.includes("/");for(;f.length<l;){const y=l-f.length;if(p&&y>=2){const N=Math.random()<.5?"+":"-",w=String(H(1,9));f+=N+w;continue}if(h&&y>=2){const N=Math.random()<.5?"*":"/";f+=N+"1";continue}f+=String(H(1,9))}return f.slice(0,l)}function Vn(t,a=E){for(let f=0;f<400;f++){let p=Yn(t);if(p.length>a&&(p=Xn(p,a)),p=zn(p,t,a),p.length!==a)continue;const h=vt(p,t);if(h!==null&&!(Math.abs(h-Math.round(h))>ye))return p}return"0".repeat(a)}function Xn(t,a){const l=t.match(/(\d+\.\d+|\d+|[+\-*/])/g)||[];let f="";for(let p=0;p<l.length;p++){let h=l[p];if(/\d+\.\d+/.test(h)&&f.length+h.length>a){const[y,N]=h.split(".");let w=N;for(;w.length>0&&f.length+(y+"."+w).length>a;)w=w.slice(0,-1);w.length===0?h=y:h=y+"."+w}if(f.length+h.length>a)break;f+=h}return f}function Qn(t=E){const l=s&&s.value||"easy20",f=l==="easy25",p=l==="easy30";for(let h=0;h<200;h++){let N=(p?Jn():f?Gn():kn()).replace(/[^a-z0-9\-\.&]/g,"").toLowerCase();if(N.length>t&&(N=N.replace(/-+/g,"-"),N.length>t))continue;const w=t-N.length,W=Math.floor(w/2),k=w-W,V="-".repeat(W)+N+"-".repeat(k),Ve=V.replace(/^-+|-+$/g,"");if(Jt(Ve)!==null)return V}return"one".repeat(Math.ceil(t/3)).slice(0,t)}function vt(t,a){if(!/^[0-9\.\+\-\*\/\s]+$/.test(t))return null;for(const w of t)if((w==="+"||w==="-"||w==="*"||w==="/")&&!a.includes(w))return null;const l=[];let f=0;for(;f<t.length;){const w=t[f];if(w===" "){f++;continue}if(w>="0"&&w<="9"||w==="."){let W=f;for(;W<t.length&&(t[W]>="0"&&t[W]<="9"||t[W]===".");)W++;const k=t.slice(f,W),V=Number(k);if(!isFinite(V))return null;l.push({type:"num",value:V}),f=W;continue}if("+-*/".includes(w)){l.push({type:"op",value:w}),f++;continue}return null}function p(w){return w==="+"||w==="-"?1:w==="*"||w==="/"?2:0}const h=[],y=[];for(const w of l)if(w.type==="num")h.push(w);else{for(;y.length&&p(y[y.length-1].value)>=p(w.value);)h.push(y.pop());y.push(w)}for(;y.length;)h.push(y.pop());const N=[];for(const w of h)if(w.type==="num")N.push(w.value);else{if(N.length<2)return null;const W=N.pop(),k=N.pop();let V;switch(w.value){case"+":V=k+W;break;case"-":V=k-W;break;case"*":V=k*W;break;case"/":if(W===0)return null;V=k/W;break;default:return null}N.push(V)}return N.length!==1?null:N[0]}function jt(t=E,a=B){E=t,B=a,R=[];for(let l=0;l<B;l++){const f=[];for(let p=0;p<E;p++)f.push(null);R.push(f)}}function Zn(t,a){for(let l=0;l<E;l++)R[t][l]={ch:a[l]||"0"}}function ea(){for(let t=0;t<B;t++)for(let a=0;a<E;a++)if(R[t][a])return!0;return!1}function Nt(){let t=document.getElementById("decimalGameCanvas");if(!t){t=document.createElement("canvas"),t.id="decimalGameCanvas",t.style.display="block",t.style.marginTop="8px";const a=document.getElementById("canvasAnchor");a?a.appendChild(t):r.insertAdjacentElement("afterend",t)}K=t,I=K.getContext("2d"),tn(),K.removeEventListener("click",Ut),K.addEventListener("click",Ut)}function tn(){if(!K)return;const t=ee*G,a=ae*G;C=Math.min(t/E,a/B);const f=E*C,p=B*C;ce=Math.floor((t-f)/2),ke=Math.floor((a-p)/2),K.width=Math.round(t),K.height=Math.round(a)}function nn(t,a){const l=(Q==null?void 0:Q.primary)||"#1f77b4",f=(Q==null?void 0:Q.secondary)||l,p=I.createLinearGradient(t,a,t+C,a+C);return p.addColorStop(0,l),p.addColorStop(1,f),p}function Ce(){if(I){tn(),I.clearRect(0,0,K.width,K.height);for(let t=0;t<B;t++)for(let a=0;a<E;a++){const l=ce+a*C,f=ke+t*C,p=wt&&wt[t]&&wt[t][a];I.fillStyle=p?"#0b3a4a":"#041218",I.fillRect(l,f,C,C),I.strokeStyle=p?"#1b5566":"#07202a",I.strokeRect(l+.5,f+.5,C-1,C-1);const h=R[t][a];h?(I.fillStyle=nn(l,f),Ht(I,l+2,f+2,C-4,C-4,4),p&&(I.fillStyle="rgba(255, 255, 255, 0.18)",Ht(I,l+2,f+2,C-4,C-4,4)),I.fillStyle="#fff",I.font=`700 ${Math.max(14,Math.floor(C*.7))}px monospace`,I.textAlign="center",I.textBaseline="middle",I.fillText(h.ch,l+C/2,f+C/2+1)):p&&(I.fillStyle="rgba(255, 255, 255, 0.16)",I.beginPath(),I.arc(l+C/2,f+C/2,Math.max(1,C*.12),0,Math.PI*2),I.fill())}if(F){const{blocks:t,row:a,col:l}=F;for(let f=0;f<t.length;f++){const p=t[f],h=p.ch,y=ce+(l+p.c)*C,N=ke+(a+p.r)*C;I.fillStyle=nn(y,N),Ht(I,y+2,N+2,C-4,C-4,4),I.strokeStyle="#0ea5a4",I.strokeRect(y+2,N+2,C-4,C-4),I.fillStyle="#fff",I.font=`700 ${Math.max(14,Math.floor(C*.7))}px monospace`,I.textAlign="center",I.textBaseline="middle",I.fillText(h,y+C/2,N+C/2+1)}}ne!==null&&(I.fillStyle="rgba(255,255,255,0.06)",I.fillRect(ce,ke+ne*C,E*C,C))}}function Ht(t,a,l,f,p,h,y,N){t.beginPath(),t.moveTo(a+h,l),t.arcTo(a+f,l,a+f,l+p,h),t.arcTo(a+f,l+p,a,l+p,h),t.arcTo(a,l+p,a,l,h),t.arcTo(a,l,a+f,l,h),t.closePath(),t.fill()}function St(t,a,l){const f=t.blocks;for(let p=0;p<f.length;p++){const h=a+f[p].r,y=l+f[p].c;if(y<0||y>=E||h>=B||h>=0&&R[h][y])return!1}return!0}function ta(){if(!F)return;const{blocks:t,row:a,col:l}=F;for(let p=0;p<t.length;p++){const h=a+t[p].r,y=l+t[p].c;if(h>=0&&h<B&&y>=0&&y<E)R[h][y]={ch:t[p].ch};else{ka();return}}F=null;const f=[];for(let p=0;p<B;p++)R[p].every(h=>h!==null)&&f.push(p);if(f.length>0)sn(f[0]),g.textContent="Row filled — solve when ready.";else{const p=[];for(let h=0;h<E;h++)R.every(y=>y[h]!==null)&&p.push(h);p.length>0?(ma(p[0]),g.textContent="Column filled — solve when ready."):(ne=null,oe=null)}Ce()}const an=[{name:"I",blocks:[[0,0],[1,0],[2,0],[3,0]]},{name:"L",blocks:[[0,0],[1,0],[2,0],[2,1]]},{name:"T",blocks:[[0,0],[0,1],[0,2],[1,1]]},{name:"O",blocks:[[0,0],[0,1],[1,0],[1,1]]},{name:"I3",blocks:[[0,0],[1,0],[2,0]]},{name:"L3",blocks:[[0,0],[1,0],[1,1]]}];function na(){return an[H(0,an.length-1)]}function aa(t){const a=H(1,25),l=H(1,2),f=H(0,Math.pow(10,l)-1),p=+`${a}.${String(f).padStart(l,"0")}`;let h=Xt(p).replace(/[^a-z\-]/g,"").toLowerCase();if(h.length<t&&(h=h.padEnd(t,"-")),h.length>t){const y=H(0,Math.max(0,h.length-t));h=h.slice(y,y+t)}return h.split("")}function sa(t,a){let l=t>=3?`${H(1,9)}.${H(0,9)}`:`${H(0,9)}`;for(;l.length<t;){const f=l[l.length-1];a.length&&!"+-*/".includes(f)&&l.length<t-1&&Math.random()<.45?l+=a[H(0,a.length-1)]:l+=String(H(0,9))}return l.slice(0,t).split("")}function ia(t,a,l){return a==="easy"?aa(t):sa(t,l)}function ra(){if(F)return!1;const t=tt(),a=t==="easy"?["+","-"]:t==="medium"?["*","/"]:["+","-","*","/"],f=na().blocks.map(([N,w])=>({r:N,c:w,ch:""})),p=ia(f.length,t,a);for(let N=0;N<f.length;N++)f[N].ch=p[N];const h=Math.max(...f.map(N=>N.c))+1,y=H(0,Math.max(0,E-h));return F={blocks:f,row:0,col:y},Ce(),!0}function oa(){if(!F)return;const t=F.row+1;St(F,t,F.col)?(F.row=t,Ce()):(ta(),ra())}function la(){if(!F)return;const t=F.col-1;St(F,F.row,t)&&(F.col=t,Ce())}function ca(){if(!F)return;const t=F.col+1;St(F,F.row,t)&&(F.col=t,Ce())}function da(){if(!F)return;const t=F.blocks.map(y=>({r:y.r,c:y.c,ch:y.ch})),a=Math.max(...t.map(y=>y.r));Math.max(...t.map(y=>y.c));const l=t.map(y=>({r:y.c,c:a-y.r,ch:y.ch})),f=Math.max(...l.map(y=>y.c))+1;let p=F.col;p+f>E&&(p=Math.max(0,E-f));const h={blocks:l,row:F.row,col:p};St(h,h.row,h.col)&&(F.blocks=l,F.col=p,Ce())}function ua(){nt();const t=tt();ge=Je[t]||125e4,we=performance.now(),fe=setTimeout(()=>{O=!1,g.textContent="Round time expired",nt(),x&&(x.style.display="none")},ge),te&&clearInterval(te),te=setInterval(()=>{if(!fe)return;const a=performance.now()-we,l=Math.max(0,ge-a);c.textContent=(l/1e3).toFixed(1)},100)}function nt(){fe&&(clearTimeout(fe),fe=null),te&&(clearInterval(te),te=null)}function sn(t){ne=t,oe=null;const a=R[t].map(p=>p?p.ch:"").join("").trim();j=a,J=null,r.textContent=`Solve row ${t+1}: ${a}`;const l=tt(),f=Ot(a,l);o&&(o.textContent=f),Ce()}function ma(t){oe=t,ne=null;const a=R.map(p=>p[t]?p[t].ch:"").join("").trim();J=a,j=null,r.textContent=`Solve column ${t+1}: ${a}`;const l=tt(),f=Ot(a,l);o&&(o.textContent=f),Ce()}function rn(){if(!r)return null;const t=r.textContent||"",a=t.indexOf(":");return a===-1?null:t.slice(a+1).trim()||null}function ha(t){if(ne===null)return;if(kt())return!1;let a=rn()||j||R[ne].map(y=>y?y.ch:"").join("");a=a.replace(/^[+\-*/]+/,"").replace(/[+\-*/]+$/,"");const l=tt();if(l==="easy"){const y=a.replace(/^-+|-+$/g,""),N=Jt(y);if(N===null)return g.textContent="Row word invalid",!1;const w=Number(t);return isFinite(w)?Math.abs(N-w)<=.001?(on(ne),de+=8,ue++,mt(),g.textContent="Correct — row cleared",ne=null,j=null,Ye(!0,8),!0):(ue=0,Mt(y,l,"row",ne),Ye(!1,0),!1):(g.textContent="Invalid number",!1)}const p=vt(a,l==="medium"?["+","-"]:["+","-","*","/"]);if(p===null)return g.textContent="Row expression invalid",!1;const h=Number(t);return isFinite(h)?Math.abs(h-p)<=.001?(on(ne),de+=10,ue++,mt(),g.textContent="Correct — row cleared",ne=null,j=null,Ye(!0,10),!0):(ue=0,Mt(a,l,"row",ne),Ye(!1,0),!1):(g.textContent="Invalid number",!1)}function pa(t){if(oe===null)return;if(kt())return!1;let a=rn()||J||R.map(y=>y[oe]?y[oe].ch:"").join("");a=a.replace(/^[+\-*/]+/,"").replace(/[+\-*/]+$/,"");const l=tt();if(l==="easy"){const y=a.replace(/^-+|-+$/g,""),N=Jt(y);if(N===null)return g.textContent="Column word invalid",!1;const w=Number(t);return isFinite(w)?Math.abs(N-w)<=.001?(ln(oe),de+=8,ue++,mt(),g.textContent="Correct — column cleared",oe=null,J=null,Ye(!0,8),!0):(ue=0,Mt(y,l,"col",oe),Ye(!1,0),!1):(g.textContent="Invalid number",!1)}const p=vt(a,l==="medium"?["+","-"]:["+","-","*","/"]);if(p===null)return g.textContent="Column expression invalid",!1;const h=Number(t);return isFinite(h)?Math.abs(h-p)<=.001?(ln(oe),de+=10,ue++,mt(),g.textContent="Correct — column cleared",oe=null,J=null,Ye(!0,10),!0):(ue=0,Mt(a,l,"col",oe),Ye(!1,0),!1):(g.textContent="Invalid number",!1)}function on(t){for(let a=0;a<E;a++)R[t][a]=null;if(pe>0&&(pe--,pe===0&&(g.textContent="No more drops — clear the remaining rows to win!")),pe===0&&!ea()){Ma();return}Ce()}function ln(t){for(let a=B-1;a>=0;a--)R[a][t]=null;Ce()}function cn(t,a){let l=t.trim();return a==="easy"?l=l.replace(/^-+|-+$/g,""):l=l.replace(/^[+\-*/]+/,"").replace(/[+\-*/]+$/,""),l}function kt(){return Oe>Date.now()}function at(){Oe=0,Ge=null,Fe=null,Qe&&(clearInterval(Qe),Qe=null),x&&(x.disabled=!1)}function fa(t,a){const l=cn(t||"",a);if(!l)return"Look at the numbers, do one small step, then type your answer.";if(a==="easy"){if(l.includes("&")){const[h="",y=""]=l.split("&");return`Say "${h}" first. Then say "${y}". Put them together as one decimal number.`}if(l.includes(".")){const[h="",y=""]=l.split(".");return`Read "${h}" as the whole number. The digits "${y}" stay after the dot.`}return"Read the word number slowly, then write that same number with digits."}const p=(l.match(/(\d+\.\d+|\d+|[+\-*/])/g)||[]).find(h=>"+-*/".includes(h));return p==="+"?"Adding means count up. Start at the first number and move forward in tiny steps.":p==="-"?"Subtracting means count back. Start at the first number and take away in tiny steps.":p==="*"?"Multiply means equal groups. Add the same number again and again.":p==="/"?"Divide means share equally. Split the first number into same-size groups.":"Do one operation at a time, then use that result for the next step."}function Mt(t,a,l,f){at(),Oe=Date.now()+3e4,Ge=l,Fe=f,x&&(x.value="",x.disabled=!0);const p=fa(t,a),h=l==="col"?"column":"row",y=Number.isInteger(f)?f+1:"?";r&&(r.textContent=`Try ${h} ${y} again after help: ${t}`);const N=()=>{const w=Math.max(0,Math.ceil((Oe-Date.now())/1e3));if(w<=0){at(),g&&(g.textContent=`Try ${h} ${y} again now.`),o&&(o.textContent=`Tip: ${Ot(t,a)}`),x&&(x.disabled=!1);return}g&&(g.textContent=`Read this help for ${w}s, then try the same problem again.`),o&&(o.textContent=`Help: ${p}`)};N(),Qe=setInterval(N,250)}function Ot(t,a){const l=cn(t,a);if(!l)return"Hint: click a full row to solve it.";if(a==="easy"){if(l.includes("&")){const[N,w]=l.split("&"),W=/thousandth/.test(w)?"thousandths":"hundredths";return`Hint: "${N}" is the whole number and "${w}" are ${W}.`}const p=l.split("."),h=p[0]?p[0].replace(/-/g," "):"",y=p[1]||"";if(h&&y){const N=y.length===3?"thousandths":"hundredths";return`Hint: word part "${h}" and decimal digits ".${y}" (${N}).`}return"Hint: convert the word to a number, then append the decimal digits shown."}if(a==="medium"){const p=l.match(/(\d+\.\d+|\d+|[+\-])/g)||[];if(p.length>=3){const h=Number(p[0]),y=p[1],N=Number(p[2]);if(isFinite(h)&&isFinite(N)){const w=y==="+"?h+N:h-N;return`Hint: first do ${p[0]}${y}${p[2]} = ${Rt(w)}, then continue left to right.`}}return"Hint: add and subtract left to right, keep one decimal place."}const f=l.match(/(\d+\.\d+|\d+|[+\-*/])/g)||[];for(let p=0;p<f.length;p++)if(f[p]==="*"||f[p]==="/"){const h=Number(f[p-1]),y=Number(f[p+1]);if(isFinite(h)&&isFinite(y)&&(f[p]!=="/"||y!==0)){const N=f[p]==="*"?h*y:h/y;return`Hint: resolve ${f[p-1]}${f[p]}${f[p+1]} = ${Rt(N)} first.`}}if(f.length>=3){const p=Number(f[0]),h=f[1],y=Number(f[2]);if(isFinite(p)&&isFinite(y)){const N=h==="+"?p+y:p-y;return`Hint: start with ${f[0]}${h}${f[2]} = ${Rt(N)}.`}}return"Hint: do multiplication/division before addition/subtraction."}x&&(x.style.display="",Ee||(Ee=t=>{if(t.key==="Enter"){if(kt()){const l=Math.max(0,Math.ceil((Oe-Date.now())/1e3)),f=Ge==="col"?"column":"row",p=Number.isInteger(Fe)?Fe+1:"?";g.textContent=`Keep reading help for ${f} ${p}. You can answer in ${l}s.`;return}const a=x.value.trim();if(x.value="",!a)return;if(ne===null&&oe===null){g.textContent="Click a full row to select it then answer.";return}ne!==null?ha(a):pa(a)}}),x.removeEventListener("keydown",Ee),x.addEventListener("keydown",Ee));function Ut(t){if(!K)return;if(kt()){const y=Ge==="col"?"column":"row",N=Number.isInteger(Fe)?Fe+1:"?";g.textContent=`Finish the 30-second help, then retry ${y} ${N}.`;return}const a=K.getBoundingClientRect(),l=K.width/a.width,f=K.height/a.height;(t.clientX-a.left)*l-ce;const p=(t.clientY-a.top)*f-ke,h=Math.floor(p/C);if(h>=0&&h<B&&R[h].every(y=>y!==null)){sn(h),g.textContent="Row selected — solve when ready.";return}ne=null,oe=null,Y||(r.textContent="Select a full row to solve"),Ce()}const dn=t=>{if(ie){t.key==="ArrowLeft"&&(me.left=!0,t.preventDefault()),t.key==="ArrowRight"&&(me.right=!0,t.preventDefault()),t.key==="ArrowUp"&&(me.up=!0,t.preventDefault()),t.key==="ArrowDown"&&(me.down=!0,t.preventDefault());return}!O||Y||(t.key==="ArrowLeft"&&(la(),t.preventDefault()),t.key==="ArrowRight"&&(ca(),t.preventDefault()),t.key==="ArrowDown"&&(oa(),t.preventDefault()),(t.key==="ArrowUp"||t.key.toLowerCase()==="r"||t.key===" ")&&(da(),t.preventDefault()))},un=t=>{ie&&(t.key==="ArrowLeft"&&(me.left=!1),t.key==="ArrowRight"&&(me.right=!1),t.key==="ArrowUp"&&(me.up=!1),t.key==="ArrowDown"&&(me.down=!1))};window.addEventListener("keydown",dn),window.addEventListener("keyup",un);function mt(){u&&(u.textContent=String(de)),d&&(d.textContent=String(ue))}function mn(){T&&(T.innerHTML="",dt.forEach(t=>{const a=document.createElement("div");a.className="swatch",a.style.background=`linear-gradient(135deg, ${t.primary} 0%, ${t.secondary} 100%)`,a.dataset.color=t.primary,a.addEventListener("click",()=>{T.querySelectorAll(".swatch").forEach(l=>l.classList.remove("selected")),a.classList.add("selected"),Q=t,q&&(q.style.background=`linear-gradient(135deg, ${t.primary} 0%, ${t.secondary} 100%)`),Ce()}),T.appendChild(a),(t.primary===(Q==null?void 0:Q.primary)||!Q&&T.children.length===1)&&(a.classList.add("selected"),Q=t,q&&(q.style.background=`linear-gradient(135deg, ${t.primary} 0%, ${t.secondary} 100%)`))}))}function ht(){const t=Number(b==null?void 0:b.value)||E,a=Number(v==null?void 0:v.value)||B,l=Number(S==null?void 0:S.value)||G;D&&(D.textContent=`${t}×${a} @${l}px`)}function ga(){At(),qt(),ht(),mn(),Ae||(Ae=()=>{const t=ze(Number(b.value)||E,8,30),a=15,l=ze(Number(S.value)||C,20,48),f=O;f&&Wt(),E=t,B=a,C=l,G=l,jt(E,B),Nt(),Ce(),ht(),f&&Ct()}),he||(he=()=>ht()),Re||(Re=()=>{At(),qt(),ht(),jt(E,B),Nt(),Ce(),ct()}),Me||(Me=()=>{if(O){g.textContent="Game already running";return}Ct()}),qe||(qe=()=>hn()),M==null||M.removeEventListener("click",Ae),M==null||M.addEventListener("click",Ae),S==null||S.removeEventListener("input",he),b==null||b.removeEventListener("input",he),v==null||v.removeEventListener("input",he),S==null||S.addEventListener("input",he),b==null||b.addEventListener("input",he),v==null||v.addEventListener("input",he),s==null||s.removeEventListener("change",Re),s==null||s.addEventListener("change",Re),i==null||i.removeEventListener("click",Me),i==null||i.addEventListener("click",Me),n==null||n.removeEventListener("click",qe),n==null||n.addEventListener("click",qe)}function ya(t=1,a=100){return(H(t*10,a*10)/10).toFixed(1)}function xa(){const t=ya(1,100),a=H(1,10)*10,l=a.toFixed(1),f=Number(t)*a;return{expr:`${t}*${l}`,value:f}}function ba(){const t=H(10,200)/10,a=Math.floor(100/t);if(a<1)return null;const l=H(1,Math.min(12,a)),f=t*l;return f>100?null:{expr:`${f.toFixed(1)}/${t.toFixed(1)}`,value:l}}function wa(){const a=H(2,200)*5/10,l=`${a.toFixed(1)}*10.0/5.0`,f=a*2;return{expr:l,value:f}}function va(t,a){let l=t;for(;l.length<a;)l.length+4<=a?l+="+0.0":l+="0";return l.slice(0,a)}function ja(t=E){const a=[xa,ba,wa],l=400;for(let f=0;f<l;f++){const p=H(3,5);let h="",y=0;for(let W=0;W<p;W++){const k=a[H(0,a.length-1)],V=k();if(!V){W--;continue}if(W===0)Math.random()<.35?(h=`0-${V.expr}`,y=-V.value):(h=V.expr,y=V.value);else{const Ve=Math.random()<.5?"+":"-";h+=Ve+V.expr,y=Ve==="+"?y+V.value:y-V.value}}if(!h.includes(".")||h.length>t)continue;const N=va(h,t),w=vt(N,["+","-","*","/"]);if(w!==null&&!(Math.abs(w-Math.round(w))>ye))return N}return"0".repeat(t)}function Na(t,a=E){return t==="easy"?Qn(a):t==="medium"?Vn(["+","-"],a):ja(a)}function Sa(){const t=tt();for(let a=0;a<B;a++){const l=Na(t,E);Zn(a,l)}}function Ct(){at(),O=!0,Y=!1,de=0,ue=0,ne=null,oe=null,At(),qt(),jt(E,B),pe=10,Sa(),Nt(),Ce(),ua(),mt(),ct(),g.textContent="Game started — clear rows before the timer ends",r.textContent="Click a full row to solve it.",n.disabled=!1,n.textContent="Pause",x&&(x.style.display="");const t=Pe(),a=Ue(t,"decimal");a.gamesPlayed+=1,et(t)}function Wt(){at(),O=!1,Y=!1,nt(),Kt(),F=null,ne=null,oe=null,g.textContent="Stopped",n.disabled=!0,x&&(x.style.display="none")}function ka(){at(),O=!1,nt(),Kt(),r.textContent="Game Over",g.textContent=`Game over — score ${de}`,x&&(x.style.display="none");const t=Pe(),a=Ue(t,"decimal");a.bestScore=Math.max(a.bestScore,de),et(t)}function Ma(){at(),O=!1,nt(),r.textContent="You win!",g.textContent=`All rows cleared — score ${de}`,x&&(x.style.display="none");const t=Pe(),a=Ue(t,"decimal");a.bestScore=Math.max(a.bestScore,de),et(t),He=Pa((s==null?void 0:s.value)||"easy20"),_a()}function Kt(){ie=!1,Ne&&cancelAnimationFrame(Ne),Ne=null,be.forEach(t=>t.el.remove()),be=[],ve.forEach(t=>t.el.remove()),ve=[],z&&(z.style.display="none")}function hn(){if(O)if(at(),Y=!Y,Y){if(n.textContent="Resume",fe&&we){const t=performance.now()-we;ge=Math.max(0,ge-t),nt()}g.textContent="Paused",x&&(x.style.display="")}else n.textContent="Pause",we=performance.now(),fe=setTimeout(()=>{O=!1,g.textContent="Round time expired",nt(),x&&(x.style.display="none")},ge),g.textContent="Resumed",x&&(x.style.display="")}dt.length&&(Q=dt[0],q&&(q.style.background=`linear-gradient(135deg, ${dt[0].primary} 0%, ${dt[0].secondary} 100%)`)),b&&(b.value=E),v&&(v.value=B),S&&(S.value=G),ht(),jt(E,B),Nt(),Ce(),mn(),ga(),ct(),window.DecimalTetris={startGame:()=>Ct(),stopGame:()=>Wt(),togglePause:()=>hn(),getState:()=>({running:O,paused:Y,score:de,streak:ue,COLS:E,ROWS:B,CELL_SIZE:C,BLOCK_COLOR:(Q==null?void 0:Q.primary)||Q,targetRows:Wn})};function Ca(){if(z)return;const t=document.querySelector(".decimal-page");if(!t)return;z=document.createElement("div"),z.className="decimal-mini-game",z.innerHTML=`
      <div class="decimal-mini-card">
        <div class="decimal-mini-header">
          <span>Desk Stampede Bonus</span>
          <span id="decimalMiniTimerText">18s</span>
        </div>
        <div class="decimal-mini-bar"><div class="decimal-mini-bar-fill" id="decimalMiniDeskFill"></div></div>
        <div class="decimal-mini-arena"></div>
        <div class="decimal-mini-controls" aria-hidden="true">
          <div class="decimal-mini-joystick" id="decimalMiniJoystick">
            <div class="decimal-mini-stick" id="decimalMiniStick"></div>
          </div>
          <div class="decimal-mini-help">Collect desks, avoid broken desks. 6 desks = 1 Benny Dash tank.</div>
        </div>
      </div>
    `,t.appendChild(z),Z=z.querySelector(".decimal-mini-arena"),je=z.querySelector("#decimalMiniDeskFill"),Te=z.querySelector("#decimalMiniTimerText"),re=document.createElement("div"),re.className="decimal-mini-benny",re.innerHTML=`
      <div class="benny-body"></div>
      <div class="benny-head"></div>
      <div class="benny-leg left"></div>
      <div class="benny-leg right"></div>
    `,Z.appendChild(re);const a=z.querySelector(".decimal-mini-controls");_e=z.querySelector("#decimalMiniJoystick"),P=z.querySelector("#decimalMiniStick");const l=()=>{$=!1,A={x:0,y:0},P&&(P.style.transform="translate(-50%, -50%)")},f=(p,h)=>{const y=p-le.x,N=h-le.y,w=Math.hypot(y,N),W=w>0?Math.min(1,Be/w):0,k=y*W,V=N*W;A={x:k/Be,y:V/Be},P&&(P.style.transform=`translate(calc(-50% + ${k}px), calc(-50% + ${V}px))`)};_e&&(_e.addEventListener("touchstart",p=>{const h=p.touches[0],y=_e.getBoundingClientRect();le={x:y.left+y.width/2,y:y.top+y.height/2},$=!0,f(h.clientX,h.clientY),p.preventDefault()},{passive:!1}),_e.addEventListener("touchmove",p=>{if(!$)return;const h=p.touches[0];f(h.clientX,h.clientY),p.preventDefault()},{passive:!1}),_e.addEventListener("touchend",l),_e.addEventListener("touchcancel",l)),!("ontouchstart"in window)&&a&&(a.style.display="none")}function _a(){if(Ca(),!z||!Z||!re)return;ie=!0,z.style.display="flex",be=[],ve=[],me={left:!1,right:!1,up:!1,down:!1},Se=0,$e=performance.now()+De,Ie=performance.now()+200,je&&(je.style.width="0%"),Te&&(Te.textContent=`${Math.ceil(De/1e3)}s`);const t=Z.getBoundingClientRect();re.dataset.x=String(t.width*.2),re.dataset.y=String(t.height*.6),re.style.transform=`translate(${re.dataset.x}px, ${re.dataset.y}px)`,Ne&&cancelAnimationFrame(Ne),Ne=requestAnimationFrame(fn)}function Ea(){ie=!1,Ne&&cancelAnimationFrame(Ne),Ne=null,be.forEach(a=>a.el.remove()),be=[],ve.forEach(a=>a.el.remove()),ve=[],z&&(z.style.display="none");const t=se(Se);g.textContent=`Bonus complete! ${Se} desks collected. +${t.tanksEarned} tank(s). Benny Dash fuel: ${t.fuelBank}. Desk charge: ${t.chargeRemainder}/6`,r.textContent="Press Start to play again.",$a()}function Pa(t){const a=["easy20","easy25","easy30","medium","mathamatical"],l=a.indexOf(t);return l===-1||l===a.length-1?t:a[l+1]}function $a(){He&&(s&&(s.value=He),He=null,Ct())}function pn(){if(!je)return;const t=Se%6,a=t===0&&Se>0?100:t/6*100;je.style.width=`${a}%`}function Ta(t){if(!Z)return;const a=document.createElement("div");a.className="decimal-mini-desk",a.innerHTML='<span class="back"></span><span class="seat"></span><span class="leg-left"></span><span class="leg-right"></span><span class="desk"></span><span class="smoke smoke-1"></span><span class="smoke smoke-2"></span>';const l=H(20,Math.max(22,Math.floor(t.width-38))),f=H(20,Math.max(22,Math.floor(t.height-34))),p=(Math.random()<.5?-1:1)*(1.2+Math.random()*1.2),h=(Math.random()<.5?-1:1)*(1.2+Math.random()*1.1);a.dataset.x=String(l),a.dataset.y=String(f),a.dataset.vx=String(p),a.dataset.vy=String(h),a.style.transform=`translate(${l}px, ${f}px)`,Z.appendChild(a),be.push({el:a,x:l,y:f,vx:p,vy:h,w:32,h:28})}function Ia(t){if(!Z)return;const a=document.createElement("div");a.className="decimal-mini-broken-desk";const l=H(20,Math.max(22,Math.floor(t.width-32))),f=H(20,Math.max(22,Math.floor(t.height-32))),p=(Math.random()<.5?-1:1)*(1.8+Math.random()*1.4),h=(Math.random()<.5?-1:1)*(1.4+Math.random()*1.3);a.dataset.x=String(l),a.dataset.y=String(f),a.dataset.vx=String(p),a.dataset.vy=String(h),a.style.transform=`translate(${l}px, ${f}px)`,Z.appendChild(a),ve.push({el:a,x:l,y:f,vx:p,vy:h,w:24,h:24})}function fn(){if(!ie||!Z||!re)return;const t=Z.getBoundingClientRect(),a=performance.now(),l=Math.max(0,$e-a);if(Te&&(Te.textContent=`${Math.ceil(l/1e3)}s`),l<=0){Ea();return}a>=Ie&&(Ie=a+900,be.length<10&&Ta(t),ve.length<4&&Ia(t));const f=40,p=2;let h=parseFloat(re.dataset.x||"0"),y=parseFloat(re.dataset.y||"0");const N=$?A.x:(me.right?1:0)-(me.left?1:0),w=$?A.y:(me.down?1:0)-(me.up?1:0),W=3.2;h=ze(h+N*W,0,Math.max(0,t.width-f)),y=ze(y+w*W,0,Math.max(0,t.height-f)),re.dataset.x=String(h),re.dataset.y=String(y),re.style.transform=`translate(${h}px, ${y}px)`,be.forEach(k=>{k.x+=k.vx,k.y+=k.vy,(k.x<=2||k.x>=t.width-k.w-2)&&(k.vx*=-1),(k.y<=2||k.y>=t.height-k.h-2)&&(k.vy*=-1),k.x=ze(k.x,2,Math.max(2,t.width-k.w-2)),k.y=ze(k.y,2,Math.max(2,t.height-k.h-2)),k.el.style.transform=`translate(${k.x}px, ${k.y}px)`}),ve.forEach(k=>{k.x+=k.vx,k.y+=k.vy,(k.x<=2||k.x>=t.width-k.w-2)&&(k.vx*=-1),(k.y<=2||k.y>=t.height-k.h-2)&&(k.vy*=-1),k.x=ze(k.x,2,Math.max(2,t.width-k.w-2)),k.y=ze(k.y,2,Math.max(2,t.height-k.h-2)),k.el.style.transform=`translate(${k.x}px, ${k.y}px)`}),be=be.filter(k=>h+f-p>k.x&&h+p<k.x+k.w&&y+f-p>k.y&&y+p<k.y+k.h?(k.el.remove(),Se+=1,pn(),!1):!0),ve=ve.filter(k=>h+f-p>k.x&&h+p<k.x+k.w&&y+f-p>k.y&&y+p<k.y+k.h?(k.el.remove(),Se=Math.max(0,Se-2),pn(),re.classList.add("hit"),setTimeout(()=>re.classList.remove("hit"),160),!1):!0),Ne=requestAnimationFrame(fn)}window.__DecimalCleanup=()=>{window.removeEventListener("keydown",dn),window.removeEventListener("keyup",un),Kt(),K&&K.removeEventListener("click",Ut),x&&Ee&&x.removeEventListener("keydown",Ee),M==null||M.removeEventListener("click",Ae),s==null||s.removeEventListener("change",Re),i==null||i.removeEventListener("click",Me),n==null||n.removeEventListener("click",qe),S==null||S.removeEventListener("input",he),b==null||b.removeEventListener("input",he),v==null||v.removeEventListener("input",he);try{Wt()}catch{}}}function Bs(){const s=pt();return Bt({toggleId:"decimalMusicToggle",popupId:"decimalNowPlaying",statusId:"prompt",playOnIds:["start"],togglePauseIds:["pause"]}),_.useEffect(()=>{const i=localStorage.getItem("highContrast")==="true";document.body.classList.toggle("high-contrast",i)},[]),_.useEffect(()=>{const i=localStorage.getItem("mathpop_current_user");if(new URLSearchParams(s.search).get("daily")==="1"&&i){const r=xt(i,new Date);r.challenge.gameId==="decimal"?window.__DecimalDailyChallenge={enabled:!0,...r.challenge,dateKey:r.dateKey,claimed:r.claimed,progress:r.progress}:window.__DecimalDailyChallenge=null}else window.__DecimalDailyChallenge=null;return Is(),()=>{window.__DecimalCleanup&&window.__DecimalCleanup(),window.__DecimalDailyChallenge=null}},[s.search]),_.useEffect(()=>Tt({route:"/decimal",isReady:()=>!!(document.getElementById("level")&&document.getElementById("start")),readState:()=>{var g,b,v,S,M,D;const n=((g=document.getElementById("level"))==null?void 0:g.value)||"easy20",r=document.getElementById("pause"),o=((b=document.getElementById("score"))==null?void 0:b.textContent)||"0",u=((v=document.getElementById("streak"))==null?void 0:v.textContent)||"0",c=((S=document.getElementById("timer"))==null?void 0:S.textContent)||"0.0",d=((M=document.getElementById("prompt"))==null?void 0:M.textContent)||"",x=((D=document.getElementById("answerInput"))==null?void 0:D.value)||"";return{level:n,score:o,streak:u,timer:c,prompt:d,answerInput:x,wasRunning:!!(r&&!r.disabled),wasPaused:String((r==null?void 0:r.textContent)||"").trim().toLowerCase()==="resume"}},applyState:n=>{const r=document.getElementById("level"),o=document.getElementById("start"),u=document.getElementById("pause"),c=document.getElementById("answerInput");return!r||!o?!1:(n!=null&&n.level&&(r.value=n.level,r.dispatchEvent(new Event("change",{bubbles:!0}))),c&&typeof(n==null?void 0:n.answerInput)=="string"&&(c.value=n.answerInput),(n!=null&&n.wasRunning||n!=null&&n.wasPaused)&&window.setTimeout(()=>{o.click(),n!=null&&n.wasPaused&&u&&String(u.textContent||"").trim().toLowerCase()==="pause"&&window.setTimeout(()=>u.click(),220)},120),!0)}}),[]),e.jsxs("main",{className:"app-page decimal-page",children:[e.jsxs("header",{className:"app-header",children:[e.jsx(X,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Deci-What?"}),e.jsxs("div",{className:"game-controls",children:[e.jsx("label",{htmlFor:"level",children:"Level"}),e.jsxs("select",{id:"level",className:"select",defaultValue:"easy20",children:[e.jsx("option",{value:"easy20",children:"Easy .20 — words to number"}),e.jsx("option",{value:"easy25",children:"Easy .25 — words to number"}),e.jsx("option",{value:"easy30",children:"Easy .30 — words to number"}),e.jsx("option",{value:"medium",children:"Medium — add/subtract decimals"}),e.jsx("option",{value:"mathamatical",children:"Mathanomical — all ops"})]}),e.jsx("button",{id:"start",className:"btn btn--primary",onClick:()=>{var i,n;return(n=(i=window.DecimalTetris)==null?void 0:i.startGame)==null?void 0:n.call(i)},children:"Start"}),e.jsx("button",{id:"pause",className:"btn btn--secondary",disabled:!0,onClick:()=>{var i,n;return(n=(i=window.DecimalTetris)==null?void 0:i.togglePause)==null?void 0:n.call(i)},children:"Pause"}),e.jsxs("label",{htmlFor:"decimalMusicToggle",className:"game-music-toggle",children:[e.jsx("input",{id:"decimalMusicToggle",type:"checkbox"}),"Music"]})]})]}),e.jsxs("section",{className:"game-stats",children:[e.jsxs("div",{className:"stat-badge stat-badge--score",children:["Score: ",e.jsx("span",{id:"score",children:"0"})]}),e.jsxs("div",{className:"stat-badge stat-badge--timer",children:["Time: ",e.jsx("span",{id:"timer",children:"0.0"}),"s"]}),e.jsxs("div",{className:"stat-badge",children:["Streak: x",e.jsx("span",{id:"streak",children:"0"})]})]}),e.jsxs("section",{className:"game-body",children:[e.jsxs("section",{className:"game-panel",children:[e.jsxs("div",{className:"prompt-row",children:[e.jsx("div",{className:"prompt",id:"prompt",children:"Press Start to begin."}),e.jsx("div",{className:"typed",children:e.jsx("input",{id:"answerInput",placeholder:"Type answer",className:"input"})})]}),e.jsx("div",{className:"hint",id:"hint"}),e.jsx("div",{className:"hint",id:"decimalDailyHint"}),e.jsx("div",{className:"feedback",id:"feedback",style:{marginTop:"12px"}}),e.jsx("div",{className:"legend",style:{marginTop:"12px"},children:"Click a full row to solve. Type the numeric value of the word + decimal shown."})]}),e.jsx("div",{className:"game-board",children:e.jsx("div",{id:"canvasAnchor",className:"canvas-anchor"})})]}),e.jsxs("section",{className:"settings-row",style:{marginTop:"16px"},children:[e.jsxs("div",{className:"grid-controls",children:[e.jsxs("label",{children:["Columns",e.jsx("input",{id:"colsInput",type:"number",min:"8",max:"24",step:"1",defaultValue:"15",className:"input",style:{width:"64px",marginLeft:"8px"}})]}),e.jsxs("label",{children:["Rows",e.jsx("input",{id:"rowsInput",type:"number",min:"10",max:"30",step:"1",defaultValue:"15",className:"input",style:{width:"64px",marginLeft:"8px"}})]}),e.jsxs("label",{children:["Cell size",e.jsx("input",{id:"cellSizeInput",type:"range",min:"20",max:"48",step:"1",defaultValue:"28",style:{marginLeft:"8px",verticalAlign:"middle"}})]}),e.jsx("button",{id:"applyGridBtn",className:"btn btn--secondary",children:"Apply Grid"}),e.jsxs("div",{className:"grid-info",style:{marginLeft:"8px"},children:["Grid: ",e.jsx("span",{id:"gridPreview",children:"15×18 @28px"})]})]}),e.jsxs("div",{className:"palette-controls",children:[e.jsx("div",{className:"palette-title",children:"Block color (choose one of 50 acrylics)"}),e.jsx("div",{id:"palette",className:"palette",role:"list"}),e.jsxs("div",{className:"selected-color",children:["Selected:",e.jsx("span",{id:"selectedColorPreview",className:"color-swatch"})]})]})]}),e.jsx("footer",{style:{marginTop:"16px"},children:e.jsx("small",{children:"Designed for learning decimal reading and operations. Block color is selectable."})}),e.jsx("div",{id:"decimalNowPlaying",className:"game-music-popup","aria-live":"polite"})]})}function Ls(){const[s,i]=_.useState(null);return _.useEffect(()=>{let n=!0;return(async()=>{try{window.__HowToPlayInit||await new Promise(o=>setTimeout(o,200))}catch(o){n&&i(`Failed to load HowToPlay: ${o.message}`);return}n&&console.log("[HowToPlay] Page initialized")})(),()=>{n=!1}},[]),_.useEffect(()=>{let n=null,r=!1;const o=()=>{const u=document.querySelector(".exit-door"),c=document.querySelector(".howto-benny .head");if(!u||!c)return;const d=u.getBoundingClientRect(),x=c.getBoundingClientRect();if(!r&&x.right>=d.left-4&&x.left<d.right&&(u.classList.add("is-open"),r=!0),r&&x.left>d.right+4){u.classList.add("is-close");return}n=requestAnimationFrame(o)};return n=requestAnimationFrame(o),()=>{n&&cancelAnimationFrame(n),window.__HowToPlayCleanup&&(console.log("[HowToPlay] Running cleanup"),window.__HowToPlayCleanup())}},[]),s?e.jsx("div",{className:"background error-page",children:e.jsx("header",{className:"howto-header",children:e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:s}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Reload"})]})})}):e.jsxs("div",{className:"background howto-page",children:[e.jsx("header",{className:"howto-header",children:e.jsxs("div",{className:"hero-card small",children:[e.jsx("h1",{children:"Few Rules from the dev"}),e.jsx("p",{className:"tagline",children:"Play fair, avoid calculators, and have fun learning. This world is about steady progress, not rushing the answer."})]})}),e.jsx("section",{className:"tutorial-banner","aria-label":"Benny tutorial animation",children:e.jsxs("div",{className:"tutorial-banner__arena",children:[e.jsx("div",{className:"tutorial-banner__benny","aria-hidden":"true",children:e.jsx("div",{className:"benny-base",children:e.jsxs("div",{className:"benny-shape",children:[e.jsx("div",{className:"back"}),e.jsx("div",{className:"leg-left"}),e.jsx("div",{className:"leg-right"}),e.jsx("div",{className:"head"})]})})}),e.jsx("div",{className:"tutorial-banner__bug bug-1","aria-hidden":"true",children:"x÷?"}),e.jsx("div",{className:"tutorial-banner__bug bug-2","aria-hidden":"true",children:"2/?"}),e.jsx("div",{className:"tutorial-banner__bug bug-3","aria-hidden":"true",children:"??"}),e.jsx("p",{className:"tutorial-banner__caption",children:"Benny is tracking Syntax Bugs..."})]})}),e.jsxs("main",{className:"campfire-scene","aria-label":"Campfire scene",children:[e.jsxs("section",{className:"campfire-stage","aria-label":"Campfire characters",children:[e.jsxs("div",{className:"exit-door","aria-hidden":"true",children:[e.jsx("div",{className:"door-frame"}),e.jsx("div",{className:"door-panel"}),e.jsx("div",{className:"door-knob"}),e.jsxs("div",{className:"door-blackhole","aria-hidden":"true",children:[e.jsx("div",{className:"blackhole-core"}),e.jsx("div",{className:"blackhole-ring"}),e.jsx("div",{className:"blackhole-ring"}),e.jsx("div",{className:"blackhole-ring"}),e.jsx("div",{className:"blackhole-particles"})]})]}),e.jsxs("div",{className:"booiiii-duo","aria-label":"Mr. Boooiiii walking Benny",children:[e.jsx("div",{className:"leash","aria-hidden":"true"}),e.jsxs("div",{className:"booiiii","aria-label":"Mr. Boooiiii",children:[e.jsxs("div",{className:"hat",children:[e.jsx("div",{className:"hat-brim"}),e.jsx("span",{className:"dot"}),e.jsx("div",{className:"hat-top"})]}),e.jsxs("div",{className:"head",children:[e.jsx("span",{className:"eye"}),e.jsx("span",{className:"eye"}),e.jsx("span",{className:"mouth"})]}),e.jsxs("div",{className:"collar",children:[e.jsx("span",{className:"collar-left"}),e.jsx("span",{className:"collar-right"})]}),e.jsxs("div",{className:"torso",children:[e.jsx("span",{className:"torso-left"}),e.jsx("span",{className:"torso-right"})]}),e.jsxs("div",{className:"arms",children:[e.jsx("span",{className:"arm left"}),e.jsx("span",{className:"arm right"}),e.jsx("span",{className:"hand left"}),e.jsx("span",{className:"hand right"})]}),e.jsxs("div",{className:"lap-top",children:[e.jsx("span",{className:"laptop-back"}),e.jsx("span",{className:"laptop-seat"})]}),e.jsxs("div",{className:"legs",children:[e.jsx("span",{className:"leg left"}),e.jsx("span",{className:"leg right"}),e.jsx("span",{className:"foot left"}),e.jsx("span",{className:"foot right"})]})]}),e.jsx("div",{className:"howto-benny","aria-label":"Benny",children:e.jsx("div",{className:"benny-base",children:e.jsxs("div",{className:"benny-shape",children:[e.jsx("div",{className:"back"}),e.jsx("div",{className:"leg-left"}),e.jsx("div",{className:"leg-right"}),e.jsx("div",{className:"head"})]})})})]})]}),e.jsxs("section",{className:"instructions","aria-label":"Benny tutorial",children:[e.jsx("h2",{children:"Benny's Tutorial"}),e.jsx("p",{className:"tutorial-lead",children:"Benny's Mathanomical Adventure is a basic math hangout for parents and kids. Team up, solve math, and help Benny clear out the dev's Syntax Bugs."}),e.jsxs("div",{className:"tutorial-block",children:[e.jsx("h3",{children:"How Benny's Mathanomical Adventure Works"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Pick a game and choose a difficulty."}),e.jsx("li",{children:"Solve each problem before the bugs get away."}),e.jsx("li",{children:"Build points to trigger mini-games and clear more Syntax Bugs."}),e.jsx("li",{children:"Use retries and hints to learn the method, then keep moving."})]})]}),e.jsxs("div",{className:"tutorial-block",children:[e.jsx("h3",{children:"Game Modes"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Math Pup:"})," Core warm-up math and unlockable Benny upgrades."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Capture The Fraction:"})," Pop the bubble with the correct fraction answer."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deci-What?:"})," Translate decimal words into number form."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ma+h5Yn+h3:"})," Algebra challenge mode with speed pressure."]})]})]}),e.jsxs("div",{className:"tutorial-block",children:[e.jsx("h3",{children:"How To Unlock Benny Dash"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Play the math games above and stack points + completions."}),e.jsx("li",{children:"Keep unlocking features and mini-games as you progress."}),e.jsxs("li",{children:["Once enough progress is saved, jump into ",e.jsx("strong",{children:"Benny Dash"})," from Games."]})]})]}),e.jsxs("div",{className:"tutorial-block",children:[e.jsx("h3",{children:"Profile Page"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Check total points, accuracy, streaks, and best scores."}),e.jsx("li",{children:"Review each game's stats and your unlock progress."}),e.jsx("li",{children:"Manage Benny tiers, color unlocks, and jukebox settings."})]})]}),e.jsx("blockquote",{className:"queen-line",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Syntax Bug Queen:"}),' "Good luck silly goober...... nah nah boo boo."']})}),e.jsx(X,{id:"backLink",to:"/",className:"back-link",children:"Back Home"})]})]}),e.jsx("div",{id:"nightOverlay"})]})}function Ds(){return e.jsxs("main",{className:"about-page",children:[e.jsx(X,{to:"/",className:"back-link",children:"Back"}),e.jsxs("header",{className:"about-hero",children:[e.jsx("h1",{children:"About"}),e.jsxs("p",{className:"about-subtitle",children:["Bark Bark",e.jsx("br",{})," Welcome to a platform for anyone. ",e.jsx("br",{}),"No matter where your from you can practice math and maybe have some fun ",e.jsx("br",{}),"Play with numbers and words that confuse the soul, ",e.jsx("br",{}),"fractions and decimals even santa doesn't know ",e.jsx("br",{}),"can you take your self serious and reach the goal? become a math wiz and maybe just maybe Mathanomical!"]})]}),e.jsxs("section",{className:"about-section",children:[e.jsx("h2",{children:"Mission"}),e.jsxs("p",{children:["Get better at basic and somewhat complex math. ",e.jsx("br",{}),"We want to make math fun and accessible for everyone, especially those who may have struggled with it in traditional settings. ",e.jsx("br",{}),"Our games are designed to be engaging and rewarding, helping you build confidence and skills in a playful way."]})]})]})}const As="/";function Rs(){const s=pt(),{loadScript:i}=Pt(`${As}js/mathsynth.js`,"mathsynth"),[n,r]=_.useState(null),[o,u]=_.useState(!1);return Bt({toggleId:"mathSynthMusicToggle",popupId:"mathSynthNowPlaying",statusId:"mathSynthFeedback",playOnIds:["startMathSynth"],pauseOnIds:["resetMathSynth"]}),_.useEffect(()=>{let c=!0;const d=localStorage.getItem("mathpop_current_user");if(new URLSearchParams(s.search).get("daily")==="1"&&d){const b=xt(d,new Date);b.challenge.gameId==="mathsynth"?window.__MathSynthDailyChallenge={enabled:!0,...b.challenge,dateKey:b.dateKey,claimed:b.claimed,progress:b.progress}:window.__MathSynthDailyChallenge=null}else window.__MathSynthDailyChallenge=null;return(async()=>{if(!window.MathSynth)try{await i(),await new Promise(b=>setTimeout(b,100))}catch(b){c&&r(`Failed to load MathSynth: ${b.message}`);return}c&&(u(!0),console.log("[MathSynth] Game initialized"))})(),()=>{c=!1,window.__MathSynthDailyChallenge=null}},[i,s.search]),_.useEffect(()=>()=>{window.__MathSynthCleanup&&(console.log("[MathSynth] Running cleanup"),window.__MathSynthCleanup()),window.__MathSynthCleanup=null,window.MathSynth=null;const c=document.querySelector('script[data-script-key="mathsynth"]');c&&c.parentNode&&c.parentNode.removeChild(c)},[]),_.useEffect(()=>o?Tt({route:"/mathsynth",isReady:()=>!!(document.getElementById("mathSynthLevel")&&document.getElementById("startMathSynth")),readState:()=>{var M,D,T,q,E;const d=((M=document.getElementById("mathSynthLevel"))==null?void 0:M.value)||"easy",x=((D=document.getElementById("mathSynthScore"))==null?void 0:D.textContent)||"0",g=((T=document.getElementById("mathSynthTimer"))==null?void 0:T.textContent)||"0",b=((q=document.getElementById("mathSynthPrompt"))==null?void 0:q.textContent)||"",v=((E=document.getElementById("mathSynthAnswer"))==null?void 0:E.value)||"",S=Number(g)>0||/solve|puzzle/i.test(b);return{level:d,score:x,timer:g,prompt:b,answer:v,wasRunning:S}},applyState:d=>{const x=document.getElementById("mathSynthLevel"),g=document.getElementById("startMathSynth"),b=document.getElementById("mathSynthAnswer");return!x||!g?!1:(d!=null&&d.level&&(x.value=d.level,x.dispatchEvent(new Event("change",{bubbles:!0}))),d!=null&&d.wasRunning&&window.setTimeout(()=>g.click(),120),b&&typeof(d==null?void 0:d.answer)=="string"&&window.setTimeout(()=>{b.value=d.answer},250),!0)}}):()=>{},[o]),n?e.jsxs("main",{className:"game-shell app mathsynth game-page--mathsynth error-page",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(X,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Ma+h 5Yn+h3"})]}),e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:n}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Reload"})]})]}):e.jsxs("main",{className:"game-shell app mathsynth game-page--mathsynth",children:[e.jsxs("header",{className:"game-shell__header",children:[e.jsx(X,{to:"/list",className:"back-link",id:"backBtn",children:"Back"}),e.jsx("h1",{children:"Ma+h 5Yn+h3"}),e.jsxs("div",{className:"game-shell__controls controls",children:[e.jsx("label",{htmlFor:"mathSynthLevel",className:"sr-only",children:"Level"}),e.jsxs("select",{id:"mathSynthLevel",defaultValue:"easy",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical"})]}),e.jsx("button",{id:"startMathSynth",onClick:()=>{var c,d;return(d=(c=window.MathSynth)==null?void 0:c.start)==null?void 0:d.call(c)},children:"Start"}),e.jsx("button",{id:"resetMathSynth",type:"button",onClick:()=>{var c,d;return(d=(c=window.MathSynth)==null?void 0:c.reset)==null?void 0:d.call(c)},children:"Reset"}),e.jsxs("label",{htmlFor:"mathSynthMusicToggle",className:"game-music-toggle",children:[e.jsx("input",{id:"mathSynthMusicToggle",type:"checkbox"}),"Music"]}),e.jsxs("div",{className:"mathsynth-grid-note",children:["Grid: ",e.jsx("span",{id:"mathSynthPreview"}),"   Easy: 7x6, Medium: 8x6, Mathanomical: 10x6"]})]})]}),e.jsx("div",{className:"mathsynth-board-name",children:"MathSynth (algebra stuff)"}),e.jsxs("section",{className:"status-row",children:[e.jsxs("div",{className:"score",children:["Score: ",e.jsx("span",{id:"mathSynthScore",children:"0"})]}),e.jsxs("div",{className:"timer",children:["Time left: ",e.jsx("span",{id:"mathSynthTimer",children:"0"}),"s"]}),e.jsxs("div",{className:"streak",children:["Best: ",e.jsx("span",{id:"mathSynthBest",children:"--"})]}),e.jsx("div",{className:"press-start",children:"Press Start"}),e.jsxs("div",{className:"palette-controls",children:[e.jsx("div",{className:"palette-title",children:"Board colors"}),e.jsx("div",{id:"mathSynthPalette",className:"palette",role:"list"}),e.jsxs("div",{className:"selected-color",children:["Selected:",e.jsx("span",{id:"mathSynthColorPreview",className:"color-swatch"})]}),e.jsxs("div",{className:"grid-info",children:["Colors unlocked: ",e.jsx("span",{id:"mathSynthColorInfo",children:"0"}),"/50"]}),e.jsx("div",{className:"palette-instructions",children:"Solve for x. Correct locks the cell (-1). Best = lowest score + time left. Watch the Others."})]})]}),e.jsxs("section",{className:"problem-area game-shell__body",children:[e.jsxs("div",{className:"side-panel game-shell__panel",children:[e.jsx("div",{className:"prompt",id:"mathSynthPrompt"}),e.jsx("div",{className:"hint",id:"mathSynthFeedback"}),e.jsx("div",{className:"hint",id:"mathSynthDailyHint"}),e.jsxs("div",{className:"answer-section",id:"mathSynthAnswerSection",style:{display:"none"},children:[e.jsxs("div",{className:"selected-problem",id:"mathSynthSelectedProblem",children:[e.jsx("span",{className:"problem-label",children:"Problem:"}),e.jsx("span",{className:"problem-value",id:"mathSynthProblemValue"})]}),e.jsxs("div",{className:"answer-input-group",children:[e.jsx("input",{type:"text",id:"mathSynthAnswer",className:"answer-input",inputMode:"text",placeholder:"x = ?",enterKeyHint:"enter",autoComplete:"off"}),e.jsx("button",{type:"button",id:"mathSynthSubmit",className:"answer-submit",children:"Answer"})]})]})]}),e.jsxs("div",{className:"board-panel game-shell__board",children:[e.jsx("div",{id:"mathSynthOthers",className:"mathsynth-others","aria-live":"polite"}),e.jsx("div",{id:"mathSynthBoard",className:"mathsynth-board"})]})]}),e.jsx("div",{id:"mathSynthNowPlaying",className:"game-music-popup","aria-live":"polite"})]})}const Xe=[{id:"solid-01",name:"Sky",type:"solid",primary:"#7dd3fc"},{id:"tone-01",name:"Mint/Lime",type:"tone",primary:"#6ee7b7",secondary:"#a3e635"},{id:"solid-02",name:"Lavender",type:"solid",primary:"#c4b5fd"},{id:"tone-02",name:"Ocean/Blue",type:"tone",primary:"#38bdf8",secondary:"#2563eb"},{id:"solid-03",name:"Sunshine",type:"solid",primary:"#fde047"},{id:"tone-03",name:"Blush/Coral",type:"tone",primary:"#f9a8d4",secondary:"#fb7185"},{id:"solid-04",name:"Mint",type:"solid",primary:"#5eead4"},{id:"tone-04",name:"Berry/Plum",type:"tone",primary:"#f472b6",secondary:"#a855f7"},{id:"solid-05",name:"Lime",type:"solid",primary:"#a3e635"},{id:"tone-05",name:"Teal/Blue",type:"tone",primary:"#22d3ee",secondary:"#0ea5e9"},{id:"solid-06",name:"Rose",type:"solid",primary:"#fb7185"},{id:"tone-06",name:"Berry/Sun",type:"tone",primary:"#f472b6",secondary:"#facc15"},{id:"solid-07",name:"Blue",type:"solid",primary:"#60a5fa"},{id:"tone-07",name:"Grape/Indigo",type:"tone",primary:"#818cf8",secondary:"#4f46e5"},{id:"solid-08",name:"Spring",type:"solid",primary:"#86efac"},{id:"tone-08",name:"Ice/Lavender",type:"tone",primary:"#a5b4fc",secondary:"#e0f2fe"},{id:"solid-09",name:"Bubblegum",type:"solid",primary:"#f9a8d4"},{id:"tone-09",name:"Lemon/Lime",type:"tone",primary:"#fde047",secondary:"#bef264"},{id:"solid-10",name:"Soft Gray",type:"solid",primary:"#cbd5f5"},{id:"tone-10",name:"Cloud/Blue",type:"tone",primary:"#e2e8f0",secondary:"#93c5fd"},{id:"solid-11",name:"Minty Blue",type:"solid",primary:"#7dd3fc"},{id:"tone-11",name:"Aqua/Mint",type:"tone",primary:"#2dd4bf",secondary:"#99f6e4"},{id:"solid-12",name:"Grape",type:"solid",primary:"#c084fc"},{id:"tone-12",name:"Lilac/Rose",type:"tone",primary:"#d8b4fe",secondary:"#fda4af"},{id:"solid-13",name:"Coral",type:"solid",primary:"#fb7185"},{id:"tone-13",name:"Kiwi/Green",type:"tone",primary:"#bef264",secondary:"#4ade80"},{id:"solid-14",name:"Ice Blue",type:"solid",primary:"#bae6fd"},{id:"tone-14",name:"Sky/Indigo",type:"tone",primary:"#60a5fa",secondary:"#6366f1"},{id:"solid-15",name:"Periwinkle",type:"solid",primary:"#a5b4fc"},{id:"tone-15",name:"Mint/Teal",type:"tone",primary:"#5eead4",secondary:"#14b8a6"},{id:"solid-16",name:"Sunbeam",type:"solid",primary:"#fde68a"},{id:"tone-16",name:"Pink/Coral",type:"tone",primary:"#fda4af",secondary:"#fb7185"},{id:"solid-17",name:"Cool Blue",type:"solid",primary:"#93c5fd"},{id:"tone-17",name:"Lime/Teal",type:"tone",primary:"#a3e635",secondary:"#2dd4bf"},{id:"solid-18",name:"Soft Plum",type:"solid",primary:"#d8b4fe"},{id:"tone-18",name:"Sky/Mint",type:"tone",primary:"#7dd3fc",secondary:"#6ee7b7"},{id:"solid-19",name:"Seafoam",type:"solid",primary:"#99f6e4"},{id:"tone-19",name:"Berry/Sky",type:"tone",primary:"#f472b6",secondary:"#60a5fa"},{id:"solid-20",name:"Sunny",type:"solid",primary:"#facc15"},{id:"tone-20",name:"Cool Mint",type:"tone",primary:"#5eead4",secondary:"#38bdf8"},{id:"solid-21",name:"Twilight",type:"solid",primary:"#a78bfa"},{id:"tone-21",name:"Blue/Teal",type:"tone",primary:"#3b82f6",secondary:"#14b8a6"},{id:"solid-22",name:"Spring Leaf",type:"solid",primary:"#4ade80"},{id:"tone-22",name:"Lilac/Ice",type:"tone",primary:"#c4b5fd",secondary:"#bae6fd"},{id:"solid-23",name:"Blush",type:"solid",primary:"#fda4af"},{id:"tone-23",name:"Mint/Sky",type:"tone",primary:"#5eead4",secondary:"#38bdf8"},{id:"solid-24",name:"Cool Mint",type:"solid",primary:"#2dd4bf"},{id:"tone-24",name:"Sun/Lav",type:"tone",primary:"#fde047",secondary:"#c4b5fd"},{id:"solid-25",name:"Powder",type:"solid",primary:"#e2e8f0"},{id:"tone-25",name:"Rose/Mint",type:"tone",primary:"#fb7185",secondary:"#6ee7b7"}],qs=["Medium","Medium26","Medium60","Medium100"],_t=[{id:1,name:"Starter Pup",power:"Subtraction eyes",points:0,streak:0},{id:2,name:"Greater Signs",power:"Greater-than blast",points:3e3,streak:0,requires:["Easy25"]},{id:3,name:"Arrow Blaster",power:"Arrow keys + space",points:6e3,streak:5,requires:qs},{id:4,name:"Playful Benny",power:"Benny jumps on target",points:12e3,streak:6},{id:5,name:"You're a Wizard, Benny",power:"Pi wand blast",points:24e3,streak:8},{id:6,name:"Nuclear Gauge",power:"Gamma / neutron beam",points:36e3,streak:10},{id:7,name:"Nurse Benny",power:"Crash cart charge",points:48e3,streak:12},{id:8,name:"Dogko RKO",power:"Dogko finisher",points:6e4,streak:14},{id:9,name:"Mythic Pup",power:"Mythic finisher",points:8e4,streak:16},{id:10,name:"Mathtality",power:"All zombies cleared",points:1e5,streak:18}];function Fs(s=qn){return s.reduce((i,n)=>(i[n.id]=!1,i),{})}function Hs(s){const i=It(s),n=Fs(i);if(!s)return n;const r=localStorage.getItem(`mathpop_jukebox_${s}`);if(!r)return n;try{const o=JSON.parse(r);return i.reduce((u,c)=>(u[c.id]=!!(o!=null&&o[c.id]),u),{})}catch{return n}}function Cn(s){if(!s)return null;const i=localStorage.getItem(`mathpop_profile_stats_${s}`);if(!i)return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],tierUnlocks:[],activeTier:1,games:{}};try{const n=JSON.parse(i);return{totalPoints:Number(n.totalPoints)||0,totalCorrect:Number(n.totalCorrect)||0,totalAttempted:Number(n.totalAttempted)||0,pupStreakRecord:Number(n.pupStreakRecord)||0,levelsCompleted:Array.isArray(n.levelsCompleted)?n.levelsCompleted:[],tierUnlocks:Array.isArray(n.tierUnlocks)?n.tierUnlocks:[],activeTier:Number(n.activeTier)||1,games:n.games&&typeof n.games=="object"?n.games:{}}}catch{return{totalPoints:0,totalCorrect:0,totalAttempted:0,pupStreakRecord:0,levelsCompleted:[],tierUnlocks:[],activeTier:1,games:{}}}}function Os(s){if(!s)return 0;const i=`mathpop_highscore_${s}_`;let n=0;return Object.keys(localStorage).forEach(r=>{if(!r.startsWith(i))return;const o=parseInt(localStorage.getItem(r)||"0",10);o>n&&(n=o)}),n}function Yt(s){return s.type==="tone"?`linear-gradient(135deg, ${s.primary} 0%, ${s.primary} 50%, ${s.secondary} 50%, ${s.secondary} 100%)`:s.primary}function Us(){var J,ye,ie,z,Z,re,be,ve,je,Te,Ne,me,$e,Se,Ie,De,_e,P,$,A,le,Be,Ee,Ae,Re,Me,he,qe,He,Oe,Ge,Fe,Qe,bt,U,Ze,rt,ot,lt;const[,s]=_.useState(0),[i,n]=_.useState("easy"),r=_.useMemo(()=>localStorage.getItem("mathpop_current_user"),[]),[o,u]=_.useState(()=>Hs(r)),[c,d]=_.useState({points:"mathpup",correct:"mathpup",attempted:"mathpup",accuracy:"mathpup",levels:"mathpup",streak:"mathpup",colors:"mathpup",tiers:"mathpup"}),x=(()=>{if(!r)return null;const m=localStorage.getItem(`mathpop_profile_${r}`);return m?JSON.parse(m):null})(),g=Cn(r),b=It(r);if(!r||!x||!g)return e.jsxs("main",{className:"profile-page",children:[e.jsxs("header",{className:"profile-header",children:[e.jsx("h1",{children:"Profile"}),e.jsx("p",{className:"profile-subtitle",children:"Sign in to view your progress."})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("p",{children:"No profile found. Head back to the home page to sign in."}),e.jsx(X,{to:"/",className:"profile-link",children:"Back to Home"})]})]});const v=g.totalAttempted||0,S=g.totalCorrect||0,M=v?Math.round(S/v*100):0,D=g.totalPoints||0,T=Math.max(0,D),q=g.levelsCompleted||[],E=g.pupStreakRecord||0,B=Array.isArray(g.tierUnlocks)?g.tierUnlocks:[],C=Number(g.activeTier)||1,ee=Os(r),ae=(()=>{const m=localStorage.getItem("mathsynth-best");if(!m)return null;try{return JSON.parse(m)}catch{return null}})(),G=((ye=(J=g.games)==null?void 0:J.mathpup)==null?void 0:ye.points)||0,ce=Math.min(Math.floor(G/2500),Xe.length),ke=localStorage.getItem(`mathpup_benny_color_${r}`)||Xe[0].id,Q=Xe.find(m=>m.id===ke)||Xe[0],K=m=>!m.requires||m.requires.length===0?!0:m.requires.every(L=>q.includes(L)),I=m=>m.id===1?!0:B.includes(m.id),R=[..._t].reverse().find(I)||_t[0],O=m=>m.id===3?e.jsxs("p",{className:"tier-power tier-power-arrow",children:[e.jsx("span",{className:"tier-power-label",children:m.power}),e.jsx("span",{className:"arrow-glyph","aria-label":"Arrow blaster",children:"=:~>"})]}):e.jsx("p",{className:"tier-power",children:m.power}),Y=m=>!(I(m)||!K(m)||T<m.points),de=m=>I(m),ue=m=>{var et;if(!r||!g||!Y(m))return;const L=(et=window.math)==null?void 0:et.evaluate,se=L?Number(L(`${D}-${m.points}`)):D-m.points,Pe={...g,totalPoints:Math.max(0,se),tierUnlocks:[...B,m.id]},Ue="Congratulations, Mr. or Ms. Big Spender";typeof window<"u"&&typeof window.showUnifyMessage=="function"?window.showUnifyMessage({text:Ue,topic:"tiers"}):window.alert(Ue),typeof window<"u"&&typeof window.showUnifyConfirm=="function"?window.showUnifyConfirm({text:`Use ${m.name} power now?`,topic:"tiers",yesLabel:"Use it",noLabel:"Later",onYes:()=>{const Lt={...Cn(r),activeTier:m.id};localStorage.setItem(`mathpop_profile_stats_${r}`,JSON.stringify(Lt)),s(Dt=>Dt+1)}}):window.confirm(`Use ${m.name} power now?`)&&(Pe.activeTier=m.id),localStorage.setItem(`mathpop_profile_stats_${r}`,JSON.stringify(Pe)),s(st=>st+1)},F=m=>{if(!r||!g||!de(m))return;const L={...g,activeTier:m.id};localStorage.setItem(`mathpop_profile_stats_${r}`,JSON.stringify(L)),s(se=>se+1)},pe=[{id:"mathpup",title:"Math Pup",stats:{points:((z=(ie=g.games)==null?void 0:ie.mathpup)==null?void 0:z.points)||0,correct:((re=(Z=g.games)==null?void 0:Z.mathpup)==null?void 0:re.correct)||0,attempted:((ve=(be=g.games)==null?void 0:be.mathpup)==null?void 0:ve.attempted)||0,bestScore:ee,streakRecord:((Te=(je=g.games)==null?void 0:je.mathpup)==null?void 0:Te.streakRecord)||0,levels:(($e=(me=(Ne=g.games)==null?void 0:Ne.mathpup)==null?void 0:me.levelsCompleted)==null?void 0:$e.length)||0}},{id:"capture",title:"Capture The Fraction",stats:{points:((Ie=(Se=g.games)==null?void 0:Se.capture)==null?void 0:Ie.points)||0,correct:((_e=(De=g.games)==null?void 0:De.capture)==null?void 0:_e.correct)||0,attempted:(($=(P=g.games)==null?void 0:P.capture)==null?void 0:$.attempted)||0,bestScore:((le=(A=g.games)==null?void 0:A.capture)==null?void 0:le.bestScore)||0,streakRecord:((Ee=(Be=g.games)==null?void 0:Be.capture)==null?void 0:Ee.streakRecord)||0}},{id:"decimal",title:"Deci-What?",stats:{points:((Re=(Ae=g.games)==null?void 0:Ae.decimal)==null?void 0:Re.points)||0,correct:((he=(Me=g.games)==null?void 0:Me.decimal)==null?void 0:he.correct)||0,attempted:((He=(qe=g.games)==null?void 0:qe.decimal)==null?void 0:He.attempted)||0,bestScore:((Ge=(Oe=g.games)==null?void 0:Oe.decimal)==null?void 0:Ge.bestScore)||0,streakRecord:((Qe=(Fe=g.games)==null?void 0:Fe.decimal)==null?void 0:Qe.streakRecord)||0}},{id:"mathsynth",title:"Ma+h5Yn+h3",stats:{points:((U=(bt=g.games)==null?void 0:bt.mathsynth)==null?void 0:U.points)||0,correct:((rt=(Ze=g.games)==null?void 0:Ze.mathsynth)==null?void 0:rt.correct)||0,attempted:((lt=(ot=g.games)==null?void 0:ot.mathsynth)==null?void 0:lt.attempted)||0,bestScore:ae?ae.score:"--",timeLeft:ae?ae.timeLeft:"--"}}],Je=(()=>{const m={};return pe.forEach(L=>{m[L.id]=L}),m})(),fe=pe.map(m=>({id:m.id,title:m.title})),we=(m,L)=>{d(se=>({...se,[m]:L}))},ge=m=>{var L;return((L=Je[m])==null?void 0:L.stats)||{}},te=m=>{const L=m.attempted||0,se=m.correct||0;return L?Math.round(se/L*100):0},ne=m=>{r&&u(L=>{const se={...L,[m]:!L[m]};return localStorage.setItem(`mathpop_jukebox_${r}`,JSON.stringify(se)),se})},oe=()=>{if(!r)return;const m=["easy","medium","mathanomical"].includes(i)?i:"easy",L=`mathpop_benny_dash_progress_${r}_${m}`;localStorage.removeItem(L),m==="easy"&&localStorage.removeItem(`mathpop_benny_dash_progress_${r}`),typeof window<"u"&&typeof window.showUnifyMessage=="function"?window.showUnifyMessage({text:`Deleted Benny Dash ${m} progress.`,topic:"profile"}):window.alert(`Deleted Benny Dash ${m} progress.`),s(se=>se+1)},j=()=>e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"profile-subtitle",children:"Tap a song to switch it On or Off."}),e.jsx("div",{className:"jukebox-list",children:b.map(m=>{const L=!!o[m.id];return e.jsxs("button",{type:"button",className:`jukebox-song${L?" on":""}`,onClick:()=>ne(m.id),"aria-pressed":L,title:`${m.label} (${m.originalFilename})`,children:[e.jsx("span",{children:m.label}),e.jsx("span",{className:"jukebox-status",children:L?"On":"Off"})]},m.id)})}),e.jsx("p",{className:"jukebox-filename",children:"Syntax Queen Theme unlocks after beating Benny Dash."})]});return e.jsxs("main",{className:"profile-page",children:[e.jsxs("header",{className:"profile-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:x.username}),e.jsx("p",{className:"profile-subtitle",children:"Profile dashboard"})]}),e.jsxs("div",{className:"profile-actions",children:[e.jsx(X,{to:"/",className:"profile-link",children:"Home"}),e.jsx(X,{to:"/list",className:"profile-link",children:"Games"})]})]}),e.jsxs("section",{className:"profile-mobile-grid","aria-label":"Mobile game stats",children:[e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Total Points"}),e.jsx("select",{value:c.points,onChange:m=>we("points",m.target.value),children:fe.map(m=>e.jsx("option",{value:m.id,children:m.title},m.id))})]}),e.jsx("p",{className:"metric",children:ge(c.points).points||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Total Correct"}),e.jsx("select",{value:c.correct,onChange:m=>we("correct",m.target.value),children:fe.map(m=>e.jsx("option",{value:m.id,children:m.title},m.id))})]}),e.jsx("p",{className:"metric",children:ge(c.correct).correct||0})]}),e.jsxs("div",{className:"profile-box benny-colors-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Total Attempted"}),e.jsx("select",{value:c.attempted,onChange:m=>we("attempted",m.target.value),children:fe.map(m=>e.jsx("option",{value:m.id,children:m.title},m.id))})]}),e.jsx("p",{className:"metric",children:ge(c.attempted).attempted||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Accuracy"}),e.jsx("select",{value:c.accuracy,onChange:m=>we("accuracy",m.target.value),children:fe.map(m=>e.jsx("option",{value:m.id,children:m.title},m.id))})]}),e.jsxs("p",{className:"metric",children:[te(ge(c.accuracy)),"%"]})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Levels Completed"}),e.jsx("select",{value:c.levels,onChange:m=>we("levels",m.target.value),children:fe.map(m=>e.jsx("option",{value:m.id,children:m.title},m.id))})]}),e.jsx("p",{className:"metric",children:ge(c.levels).levels||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Pup Streak Record"}),e.jsx("select",{value:c.streak,onChange:m=>we("streak",m.target.value),children:fe.map(m=>e.jsx("option",{value:m.id,children:m.title},m.id))})]}),e.jsx("p",{className:"metric",children:ge(c.streak).streakRecord||0})]}),e.jsxs("div",{className:"profile-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Benny Colors"}),e.jsx("select",{value:c.colors,onChange:m=>we("colors",m.target.value),children:fe.map(m=>e.jsx("option",{value:m.id,children:m.title},m.id))})]}),c.colors==="mathpup"?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"profile-subtitle",children:["Unlocked colors: ",ce,"/",Xe.length]}),e.jsx("div",{className:"benny-colors",children:Xe.map((m,L)=>{const se=L<ce;return e.jsx("span",{className:`benny-color ${se?"unlocked":"locked"}`,title:m.name,style:{background:Yt(m)}},m.id)})})]}):e.jsx("p",{className:"profile-subtitle",children:"Only Math Pup"})]}),e.jsxs("div",{className:"profile-box benny-powers-box",children:[e.jsxs("div",{className:"box-header",children:[e.jsx("h2",{children:"Benny Powers"}),e.jsx("select",{value:c.tiers,onChange:m=>we("tiers",m.target.value),children:fe.map(m=>e.jsx("option",{value:m.id,children:m.title},m.id))})]}),c.tiers==="mathpup"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"profile-subtitle",children:"Power shop uses your total points from Math Pup, Capture, Deci-What, and Ma+h5Yn+h3."}),e.jsx("div",{className:"tier-track",children:_t.map(m=>{const L=I(m),se=K(m),Pe=Y(m);return e.jsxs("div",{className:`tier-card ${L?"unlocked":"locked"}${C===m.id?" active":""}`,role:L?"button":void 0,tabIndex:L?0:-1,onClick:()=>F(m),onKeyDown:Ue=>{L&&(Ue.key==="Enter"||Ue.key===" ")&&F(m)},children:[e.jsxs("h3",{children:["Tier ",m.id]}),e.jsx("p",{className:"tier-name",children:m.name}),O(m),e.jsxs("p",{className:"tier-req",children:["Points: ",m.points]}),m.streak>0&&e.jsxs("p",{className:"tier-req",children:["Pup streak: ",m.streak]}),m.requires&&m.requires.length>0&&e.jsxs("p",{className:"tier-req tier-requires","aria-label":"Level requirements",children:["Requires: ",m.requires.join(", ")]}),!L&&!se&&m.requires&&e.jsx("p",{className:"tier-locked-reason",children:"Complete required levels first"}),!L&&se&&e.jsxs("span",{className:"tier-ticket",children:["Ticket price: ",m.points," pts"]}),!L&&!Pe&&e.jsx("p",{className:"tier-locked-badge",children:"Locked"}),!L&&Pe&&e.jsx("button",{type:"button",className:"tier-buy",onClick:()=>ue(m),children:"Buy"})]},m.id)})})]}):e.jsx("p",{className:"profile-subtitle",children:"Benny powers are in Math Pup."})]}),e.jsxs("div",{className:"profile-box jukebox-box",children:[e.jsx("div",{className:"box-header",children:e.jsx("h2",{children:"Benny Jukebox"})}),j()]}),e.jsxs("div",{className:"profile-box benny-delete-box",children:[e.jsx("div",{className:"box-header",children:e.jsx("h2",{children:"Delete Dash Save"})}),e.jsx("p",{className:"profile-subtitle",children:"Choose a difficulty save to delete."}),e.jsxs("select",{value:i,onChange:m=>n(m.target.value),children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical"})]}),e.jsx("button",{type:"button",className:"tier-buy",onClick:oe,children:"Delete Benny Saved Progress"})]})]}),e.jsxs("section",{className:"profile-metrics",children:[e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Total Points"}),e.jsx("p",{className:"metric",children:D})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Total Correct"}),e.jsx("p",{className:"metric",children:S})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Total Attempted"}),e.jsx("p",{className:"metric",children:v})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Accuracy"}),e.jsxs("p",{className:"metric",children:[M,"%"]})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Levels Completed"}),e.jsx("p",{className:"metric",children:q.length})]}),e.jsxs("div",{className:"profile-card",children:[e.jsx("h2",{children:"Pup Streak Record"}),e.jsx("p",{className:"metric",children:E})]})]}),e.jsxs("section",{className:"profile-lower",children:[e.jsxs("div",{className:"profile-benny",children:[e.jsxs("div",{className:"profile-card benny-card",children:[e.jsxs("div",{className:"benny-card-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Benny Sum"}),e.jsxs("p",{className:"profile-subtitle",children:["Current tier: ",R.name]})]}),e.jsx("div",{className:"benny-color-preview",style:{background:Yt(Q)},"aria-label":"Benny color"})]}),e.jsxs("p",{className:"benny-meta",children:["Unlocked colors: ",ce,"/",Xe.length," (2500 pts each)"]}),e.jsx("div",{className:"benny-colors",children:Xe.map((m,L)=>{const se=L<ce;return e.jsx("span",{className:`benny-color ${se?"unlocked":"locked"}`,title:m.name,style:{background:Yt(m)}},m.id)})})]}),e.jsxs("div",{className:"profile-card benny-tiers",children:[e.jsx("h2",{children:"Benny Tiers"}),e.jsx("p",{className:"profile-subtitle",children:"Power purchases use your total points from Math Pup, Capture, Deci-What, and Ma+h5Yn+h3."}),e.jsx("div",{className:"tier-track",children:_t.map(m=>{const L=I(m),se=K(m);return e.jsxs("div",{className:`tier-card ${L?"unlocked":"locked"}${C===m.id?" active":""}`,role:"button",tabIndex:L?0:-1,onClick:()=>F(m),onKeyDown:Pe=>{(Pe.key==="Enter"||Pe.key===" ")&&F(m)},children:[e.jsxs("h3",{children:["Tier ",m.id]}),e.jsx("p",{className:"tier-name",children:m.name}),O(m),e.jsxs("p",{className:"tier-req",children:["Points: ",m.points]}),m.streak>0&&e.jsxs("p",{className:"tier-req",children:["Pup streak: ",m.streak]}),m.requires&&m.requires.length>0&&e.jsxs("p",{className:"tier-req tier-requires","aria-label":"Level requirements",children:["Requires: ",m.requires.join(", ")]}),!L&&!se&&m.requires&&e.jsx("p",{className:"tier-locked-reason",children:"Complete required levels first"}),!L&&se&&e.jsxs("span",{className:"tier-ticket",children:["Ticket price: ",m.points," pts"]}),m.id===8&&L&&e.jsxs("div",{className:"tier-freeze-frame","aria-label":"Benny Dog KO freeze frame",children:[e.jsx("span",{className:"ff-benny"}),e.jsx("span",{className:"ff-zombie"}),e.jsx("span",{className:"ff-impact"})]}),!L&&Y(m)&&e.jsxs("button",{type:"button",className:"tier-buy",onClick:()=>ue(m),children:["Unlock ",m.name]})]},m.id)})})]}),e.jsxs("div",{className:"profile-card jukebox-card",children:[e.jsx("h2",{children:"Benny Jukebox"}),j()]}),e.jsxs("div",{className:"profile-card benny-progress-card",children:[e.jsx("h2",{children:"Delete Benny Dash Save"}),e.jsx("p",{className:"profile-subtitle",children:"Choose difficulty progress to remove."}),e.jsxs("select",{value:i,onChange:m=>n(m.target.value),children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical"})]}),e.jsx("button",{type:"button",className:"tier-buy",onClick:oe,children:"Delete Benny Saved Progress"})]})]}),e.jsxs("section",{className:"profile-card profile-games",children:[e.jsx("h2",{children:"Game Stats"}),e.jsx("div",{className:"game-card-track",children:pe.map(m=>{const L=m.stats.attempted||0,se=m.stats.correct||0,Pe=L?Math.round(se/L*100):0;return e.jsxs("div",{className:"profile-card game-card",children:[e.jsx("h3",{children:m.title}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Points"}),e.jsx("span",{children:m.stats.points})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Correct"}),e.jsx("span",{children:se})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Attempted"}),e.jsx("span",{children:L})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Accuracy"}),e.jsxs("span",{children:[Pe,"%"]})]}),"levels"in m.stats&&e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Levels Completed"}),e.jsx("span",{children:m.stats.levels})]}),"streakRecord"in m.stats&&e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Streak Record"}),e.jsx("span",{children:m.stats.streakRecord})]}),e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Best"}),e.jsx("span",{children:m.stats.bestScore})]}),"timeLeft"in m.stats&&e.jsxs("div",{className:"game-stat-row",children:[e.jsx("span",{children:"Best Time"}),e.jsxs("span",{children:[m.stats.timeLeft,"s"]})]})]},m.id)})})]})]})]})}const Ws="/";function Ks(){Bt({toggleId:"bwMusicToggle",popupId:"bwNowPlaying",statusId:"bwStatus",interactionSelectors:["#bennyWorldArea","#bwJump","#bwGlide","#bwFire"],startChecked:!0,enableHeadsetControls:!1});const{loadScript:s}=Pt("https://cdn.babylonjs.com/babylon.js","babylon"),{loadScript:i}=Pt(`${Ws}js/bennyworld.js`,"bennyworld");return _.useEffect(()=>{let n=!1;return s().then(()=>n?null:i()).catch(r=>{console.error("[BennyWorld] Failed to load scripts:",(r==null?void 0:r.message)||r)}),()=>{n=!0}},[s,i]),_.useEffect(()=>()=>{window.__BennyWorldCleanup&&window.__BennyWorldCleanup(),window.__BennyWorldBabylonCleanup&&window.__BennyWorldBabylonCleanup(),window.__BennyWorldCleanup=null,window.__BennyWorldBabylonCleanup=null;const n=document.querySelector('script[data-script-key="bennyworld"]');n&&n.parentNode&&n.parentNode.removeChild(n);const r=document.querySelector('script[data-script-key="babylon"]');r&&r.parentNode&&r.parentNode.removeChild(r)},[]),e.jsxs("main",{className:"benny-world",id:"bennyWorldRoot",children:[e.jsxs("header",{className:"bw-header",children:[e.jsx(X,{className:"back-link",to:"/list",children:"Back"}),e.jsx("h1",{children:"Benny Dash"}),e.jsx("div",{className:"bw-level",id:"bwLevelLabel",children:"Level 1"})]}),e.jsxs("section",{className:"bw-hud",children:[e.jsx("div",{className:"bw-stat",id:"bwPoints",children:"Points: 0"}),e.jsx("div",{className:"bw-stat",id:"bwDash",children:"Dash: 0m"}),e.jsx("div",{className:"bw-stat",id:"bwStatus",children:"Run to the star!"}),e.jsxs("label",{className:"bw-difficulty",htmlFor:"bwDifficulty",children:["Difficulty",e.jsxs("select",{id:"bwDifficulty",defaultValue:"easy",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"mathanomical",children:"Mathanomical"})]})]}),e.jsx("button",{id:"bwProgressBtn",type:"button",className:"bw-progress-btn",children:"Save Progress"}),e.jsxs("label",{className:"bw-music-toggle",htmlFor:"bwMusicToggle",children:[e.jsx("input",{id:"bwMusicToggle",type:"checkbox",defaultChecked:!0}),"Music"]})]}),e.jsxs("section",{className:"bw-stage",children:[e.jsx("div",{id:"bennyWorldArea",className:"bw-area","aria-label":"Benny Dash playfield",children:e.jsx("canvas",{id:"bwBabylon",className:"bw-babylon","aria-hidden":"true"})}),e.jsx("div",{id:"bwGameOver",className:"bw-gameover","aria-live":"polite"}),e.jsx("div",{id:"bwMessage",className:"bw-message","aria-live":"polite"})]}),e.jsxs("div",{className:"bw-controls",id:"bwControls",children:[e.jsx("div",{className:"bw-joystick-container",id:"bwJoystickContainer",children:e.jsx("div",{className:"bw-joystick",id:"bwJoystick",children:e.jsx("div",{className:"bw-joystick-knob",id:"bwJoystickKnob"})})}),e.jsxs("div",{className:"bw-actions",children:[e.jsx("button",{className:"bw-move bw-action-btn",id:"bwJump",type:"button","aria-label":"Jump",children:"Jump"}),e.jsx("button",{className:"bw-move bw-action-btn",id:"bwFire",type:"button","aria-label":"Go Play",children:"Go Play"}),e.jsx("button",{className:"bw-move bw-action-btn",id:"bwGlide",type:"button","aria-label":"Glide",children:"Glide"})]})]}),e.jsx("div",{id:"bwNowPlaying",className:"bw-music-popup","aria-live":"polite"})]})}function Gs(){const s=pt(),[i,n]=_.useState(!0),[r,o]=_.useState(!1),u="/images/loading/benny-loading-screen.png",c=s.pathname!=="/"&&s.pathname!=="/mathsynth"&&s.pathname!=="/about",d=["/game","/capture","/decimal","/bennyworld"].includes(s.pathname),x=s.pathname==="/list",g=s.pathname==="/howto",b=s.pathname==="/profile",v=x||d||g||b,[S,M]=_.useState({open:!1,text:"",topic:""}),[D,T]=_.useState({open:!1,text:"",topic:"",yesLabel:"Yes",noLabel:"No"}),q=_.useRef(null),E=_.useRef(null),B=_.useRef(null);return _.useEffect(()=>{const C=setTimeout(()=>{n(!1)},1e4);return()=>clearTimeout(C)},[]),_.useEffect(()=>{const C=localStorage.getItem("highContrast")==="true";document.body.classList.toggle("high-contrast",C)},[s.pathname]),_.useEffect(()=>(window.showUnifyMessage=C=>{const ee=typeof C=="string"?{text:C}:C||{},ae=ee.text||"Congratulations, Mr. or Ms. Big Spender",G=ee.topic||"";M({open:!0,text:ae,topic:G}),q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{M(ce=>({...ce,open:!1}))},3600)},window.hideUnifyMessage=()=>{q.current&&clearTimeout(q.current),M(C=>({...C,open:!1}))},window.showUnifyConfirm=C=>{const ee=C||{},ae=ee.text||"Use this power now?",G=ee.topic||"",ce=ee.yesLabel||"Yes",ke=ee.noLabel||"No";E.current=typeof ee.onYes=="function"?ee.onYes:null,B.current=typeof ee.onNo=="function"?ee.onNo:null,T({open:!0,text:ae,topic:G,yesLabel:ce,noLabel:ke})},window.hideUnifyConfirm=()=>{T(C=>({...C,open:!1}))},()=>{q.current&&clearTimeout(q.current),delete window.showUnifyMessage,delete window.hideUnifyMessage,delete window.showUnifyConfirm,delete window.hideUnifyConfirm}),[]),e.jsxs(e.Fragment,{children:[i&&e.jsxs("div",{className:`startup-loading${r?" startup-loading--fallback":""}`,role:"status","aria-live":"polite","aria-label":"Loading Benny's Mathanomical Adventure",children:[e.jsx("img",{className:"startup-loading__image-backdrop",src:u,alt:"","aria-hidden":"true"}),e.jsx("img",{className:"startup-loading__image",src:u,alt:"Benny's Mathanomical Adventure loading screen",onError:()=>o(!0)}),e.jsx("div",{className:"startup-loading__title-halo","aria-hidden":"true"}),e.jsx("div",{className:"startup-loading__glow","aria-hidden":"true"}),e.jsxs("div",{className:"startup-loading__math-float","aria-hidden":"true",children:[e.jsx("span",{className:"symbol symbol--plus",children:"+"}),e.jsx("span",{className:"symbol symbol--minus",children:"-"}),e.jsx("span",{className:"symbol symbol--times",children:"x"}),e.jsx("span",{className:"symbol symbol--divide",children:"÷"})]}),e.jsx("div",{className:"startup-loading__vignette","aria-hidden":"true"}),e.jsx("div",{className:"startup-loading__stars","aria-hidden":"true"}),e.jsxs("div",{className:"startup-loading__logo","aria-hidden":"true",children:[e.jsx("span",{className:"top",children:"BENNY"}),e.jsx("span",{className:"bottom",children:"MATH"})]}),e.jsx("div",{className:"startup-loading__plus","aria-hidden":"true",children:"+"}),e.jsx("div",{className:"startup-loading__minus","aria-hidden":"true",children:"-"}),e.jsx("div",{className:"startup-loading__dog","aria-hidden":"true"}),e.jsx("div",{className:"startup-loading__bubble","aria-hidden":"true",children:"BARK BARK!"}),e.jsx("div",{className:"startup-loading__bar","aria-hidden":"true",children:e.jsx("span",{className:"startup-loading__bar-fill"})})]}),c&&e.jsxs("nav",{className:"app-nav",children:[!d&&e.jsx(X,{to:"/",className:"app-logo","aria-label":"Home",children:e.jsxs("span",{className:"desk-logo",children:[e.jsx("span",{className:"back"}),e.jsx("span",{className:"seat"}),e.jsx("span",{className:"leg-left"}),e.jsx("span",{className:"leg-right"}),e.jsx("span",{className:"desk"})]})}),!v&&e.jsx(X,{to:"/howto",children:"How to Play"}),!v&&e.jsx("button",{className:"nav-back",onClick:()=>history.length>1?history.back():window.location.href="/",children:"Back"}),!v&&e.jsx(X,{to:"/game",children:"Math Pup"}),!v&&e.jsx(X,{to:"/capture",children:"Capture"}),!v&&e.jsx(X,{to:"/decimal",children:"Deci-What?"}),!v&&e.jsx(X,{to:"/mathsynth",children:"Ma+h5Yn+h3"}),!v&&e.jsx(X,{to:"/about",children:"About"}),!v&&e.jsx(X,{to:"/list",children:"Games"}),!v&&e.jsx(X,{to:"/",children:"Home"})]}),e.jsx("main",{children:e.jsxs(Da,{children:[e.jsx(We,{path:"/",element:e.jsx(hs,{})}),e.jsx(We,{path:"/game",element:e.jsx(vs,{})}),e.jsx(We,{path:"/capture",element:e.jsx(Ss,{})}),e.jsx(We,{path:"/decimal",element:e.jsx(Bs,{})}),e.jsx(We,{path:"/mathsynth",element:e.jsx(Rs,{})}),e.jsx(We,{path:"/bennyworld",element:e.jsx(Ks,{})}),e.jsx(We,{path:"/list",element:e.jsx(js,{})}),e.jsx(We,{path:"/profile",element:e.jsx(Us,{})}),e.jsx(We,{path:"/howto",element:e.jsx(Ls,{})}),e.jsx(We,{path:"/about",element:e.jsx(Ds,{})})]})}),e.jsxs("div",{className:`unify-toast ${S.open?"show":""}${S.topic?` topic-${S.topic}`:""}`,role:"status","aria-live":"polite","aria-hidden":!S.open,children:[e.jsxs("div",{className:"unify-booiii","aria-hidden":"true",children:[e.jsxs("div",{className:"unify-booiii__hat",children:[e.jsx("span",{className:"unify-booiii__dot"}),e.jsx("span",{className:"unify-booiii__hat-top"}),e.jsx("span",{className:"unify-booiii__hat-brim"})]}),e.jsxs("div",{className:"unify-booiii__head",children:[e.jsx("span",{className:"unify-booiii__eye"}),e.jsx("span",{className:"unify-booiii__eye"}),e.jsx("span",{className:"unify-booiii__mouth"})]}),e.jsx("div",{className:"unify-booiii__torso"}),e.jsxs("div",{className:"unify-booiii__arms",children:[e.jsx("span",{className:"unify-booiii__arm left"}),e.jsx("span",{className:"unify-booiii__arm right"})]}),e.jsxs("div",{className:"unify-booiii__legs",children:[e.jsx("span",{className:"unify-booiii__leg left"}),e.jsx("span",{className:"unify-booiii__leg right"})]})]}),e.jsx("div",{className:"unify-bubble",children:S.text})]}),e.jsxs("div",{className:`unify-confirm ${D.open?"show":""}${D.topic?` topic-${D.topic}`:""}`,role:"dialog","aria-modal":"true","aria-hidden":!D.open,children:[e.jsx("div",{className:"unify-confirm__backdrop",onClick:()=>{B.current&&B.current(),T(C=>({...C,open:!1}))}}),e.jsxs("div",{className:"unify-confirm__panel",children:[e.jsx("div",{className:"unify-confirm__booiii","aria-hidden":"true",children:e.jsxs("div",{className:"unify-booiii",children:[e.jsxs("div",{className:"unify-booiii__hat",children:[e.jsx("span",{className:"unify-booiii__dot"}),e.jsx("span",{className:"unify-booiii__hat-top"}),e.jsx("span",{className:"unify-booiii__hat-brim"})]}),e.jsxs("div",{className:"unify-booiii__head",children:[e.jsx("span",{className:"unify-booiii__eye"}),e.jsx("span",{className:"unify-booiii__eye"}),e.jsx("span",{className:"unify-booiii__mouth"})]}),e.jsx("div",{className:"unify-booiii__torso"}),e.jsxs("div",{className:"unify-booiii__arms",children:[e.jsx("span",{className:"unify-booiii__arm left"}),e.jsx("span",{className:"unify-booiii__arm right"})]}),e.jsxs("div",{className:"unify-booiii__legs",children:[e.jsx("span",{className:"unify-booiii__leg left"}),e.jsx("span",{className:"unify-booiii__leg right"})]})]})}),e.jsx("div",{className:"unify-confirm__bubble",children:D.text}),e.jsxs("div",{className:"unify-confirm__actions",children:[e.jsx("button",{type:"button",className:"unify-confirm__btn yes",onClick:()=>{E.current&&E.current(),T(C=>({...C,open:!1}))},children:D.yesLabel}),e.jsx("button",{type:"button",className:"unify-confirm__btn no",onClick:()=>{B.current&&B.current(),T(C=>({...C,open:!1}))},children:D.noLabel})]})]})]})]})}Pn(document.getElementById("root")).render(e.jsx(Aa.StrictMode,{children:e.jsx(Ra,{basename:"/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(Gs,{})})}));
